# AIë³„ ì ìˆ˜ ì‚°ì¶œ ë° ì¢…í•© ë¡œì§

**ì‘ì„±ì¼**: 2025-10-26
**ë²„ì „**: 1.0
**ìƒíƒœ**: âœ… í™•ì •

---

## ğŸ¯ í•µì‹¬ ê°œë…

### ê° AIê°€ ë…ë¦½ì ìœ¼ë¡œ ìµœì¢… ì ìˆ˜ ì‚°ì¶œ

```
ì •ì¹˜ì¸ 1ëª…ë‹¹:

Claude AI â†’ 100ê°œ í•­ëª© í‰ê°€ â†’ 10ê°œ ë¶„ì•¼ ì ìˆ˜ â†’ ìµœì¢… 92.0ì 
ChatGPT AI â†’ 100ê°œ í•­ëª© í‰ê°€ â†’ 10ê°œ ë¶„ì•¼ ì ìˆ˜ â†’ ìµœì¢… 90.0ì 
Gemini AI â†’ 100ê°œ í•­ëª© í‰ê°€ â†’ 10ê°œ ë¶„ì•¼ ì ìˆ˜ â†’ ìµœì¢… 88.0ì 
Grok AI â†’ 100ê°œ í•­ëª© í‰ê°€ â†’ 10ê°œ ë¶„ì•¼ ì ìˆ˜ â†’ ìµœì¢… 91.0ì 
Perplexity AI â†’ 100ê°œ í•­ëª© í‰ê°€ â†’ 10ê°œ ë¶„ì•¼ ì ìˆ˜ â†’ ìµœì¢… 89.0ì 

ì¢…í•© ì ìˆ˜ = (92.0 + 90.0 + 88.0 + 91.0 + 89.0) / 5 = 90.0ì 
```

---

## ğŸ“Š ì ìˆ˜ ì‚°ì¶œ íë¦„

### ë‹¨ê³„ë³„ í”„ë¡œì„¸ìŠ¤

```
[Step 1] ê° AIë³„ í•­ëª© ì ìˆ˜ ê³„ì‚° (Bayesian Prior 7.0)
  Claude:
    í•­ëª© 1-1: 7.67ì 
    í•­ëª© 1-2: 8.35ì 
    ...
    í•­ëª© 10-10: 7.90ì 

[Step 2] ê° AIë³„ ë¶„ì•¼ ì ìˆ˜ ê³„ì‚°
  Claude:
    ë¶„ì•¼ 1 (ì²­ë ´ì„±): 7.98ì 
    ë¶„ì•¼ 2 (ì „ë¬¸ì„±): 8.20ì 
    ...
    ë¶„ì•¼ 10 (ê³µìµì¶”êµ¬): 7.90ì 

[Step 3] ê° AIë³„ ìµœì¢… ì ìˆ˜ ê³„ì‚°
  Claude: 7.98 + 8.20 + ... + 7.90 = 92.0ì 
  ChatGPT: 90.0ì 
  Gemini: 88.0ì 
  Grok: 91.0ì 
  Perplexity: 89.0ì 

[Step 4] ì¢…í•© ì ìˆ˜ ê³„ì‚°
  ì¢…í•© ì ìˆ˜ = (92.0 + 90.0 + 88.0 + 91.0 + 89.0) / 5 = 90.0ì 
```

---

## ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°

### í…Œì´ë¸” 1: ai_item_scores (AIë³„ í•­ëª© ì ìˆ˜)

```sql
CREATE TABLE ai_item_scores (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  politician_id UUID REFERENCES politicians(id),
  ai_name VARCHAR(50) NOT NULL,  -- Claude, ChatGPT, Gemini, Grok, Perplexity
  category_num INT NOT NULL,     -- 1~10
  item_num INT NOT NULL,         -- 1~10
  item_score DECIMAL(4,2),       -- 7.67 (ì†Œìˆ˜ì  ë‘˜ì§¸ìë¦¬)
  data_count INT DEFAULT 0,
  last_updated TIMESTAMP DEFAULT NOW(),
  UNIQUE(politician_id, ai_name, category_num, item_num)
);
```

### í…Œì´ë¸” 2: ai_category_scores (AIë³„ ë¶„ì•¼ ì ìˆ˜)

```sql
CREATE TABLE ai_category_scores (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  politician_id UUID REFERENCES politicians(id),
  ai_name VARCHAR(50) NOT NULL,
  category_num INT NOT NULL,
  category_score DECIMAL(4,2),   -- 7.98 (ì†Œìˆ˜ì  ë‘˜ì§¸ìë¦¬)
  items_completed INT DEFAULT 0,
  last_updated TIMESTAMP DEFAULT NOW(),
  UNIQUE(politician_id, ai_name, category_num)
);
```

### í…Œì´ë¸” 3: ai_final_scores (AIë³„ ìµœì¢… ì ìˆ˜)

```sql
CREATE TABLE ai_final_scores (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  politician_id UUID REFERENCES politicians(id),
  ai_name VARCHAR(50) NOT NULL,
  total_score DECIMAL(4,1),      -- 92.0 (ì†Œìˆ˜ì  ì²«ì§¸ìë¦¬)
  grade_code VARCHAR(1),         -- M, D, E, P, G, S, B, I
  grade_name VARCHAR(20),
  grade_emoji VARCHAR(10),
  categories_completed INT DEFAULT 0,
  items_completed INT DEFAULT 0,
  total_data_count INT DEFAULT 0,
  last_updated TIMESTAMP DEFAULT NOW(),
  UNIQUE(politician_id, ai_name)
);
```

### í…Œì´ë¸” 4: combined_final_scores (ì¢…í•© ìµœì¢… ì ìˆ˜)

```sql
CREATE TABLE combined_final_scores (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  politician_id UUID REFERENCES politicians(id) UNIQUE,
  combined_score DECIMAL(4,1),   -- 90.0 (5ê°œ AI í‰ê· )
  grade_code VARCHAR(1),
  grade_name VARCHAR(20),
  grade_emoji VARCHAR(10),
  ai_count INT DEFAULT 0,        -- ëª‡ ê°œ AIê°€ í‰ê°€í–ˆëŠ”ì§€ (ì´ˆê¸°: 1ê°œ Claudeë§Œ)
  last_updated TIMESTAMP DEFAULT NOW()
);
```

---

## ğŸ”„ íŠ¸ë¦¬ê±° ë¡œì§

### íŠ¸ë¦¬ê±° 1: AIë³„ í•­ëª© ì ìˆ˜ ê³„ì‚°

```sql
CREATE OR REPLACE FUNCTION calculate_ai_item_score()
RETURNS TRIGGER AS $$
DECLARE
  v_ai_score DECIMAL(4,3);
  v_data_count INT;
  v_final_score DECIMAL(4,3);
  v_prior_score CONSTANT DECIMAL(3,1) := 7.0;
  v_prior_weight CONSTANT INT := 10;
BEGIN
  -- í•´ë‹¹ AIì˜ ë°ì´í„°ë§Œ ê³„ì‚°
  SELECT AVG(data_score), COUNT(*)
  INTO v_ai_score, v_data_count
  FROM collected_data
  WHERE politician_id = NEW.politician_id
    AND category_num = NEW.category_num
    AND item_num = NEW.item_num
    AND collected_by = NEW.collected_by;  -- AI ì´ë¦„ìœ¼ë¡œ í•„í„°ë§

  -- Bayesian Prior 7.0 ì ìš©
  v_final_score := (v_ai_score * v_data_count + v_prior_score * v_prior_weight)
                   / (v_data_count + v_prior_weight);

  -- AIë³„ í•­ëª© ì ìˆ˜ ì €ì¥
  INSERT INTO ai_item_scores (politician_id, ai_name, category_num, item_num, item_score, data_count)
  VALUES (NEW.politician_id, NEW.collected_by, NEW.category_num, NEW.item_num, v_final_score, v_data_count)
  ON CONFLICT (politician_id, ai_name, category_num, item_num)
  DO UPDATE SET
    item_score = v_final_score,
    data_count = v_data_count,
    last_updated = NOW();

  RETURN NEW;
END;
$$ LANGUAGE plpgsql;
```

### íŠ¸ë¦¬ê±° 2: AIë³„ ë¶„ì•¼ ì ìˆ˜ ê³„ì‚°

```sql
CREATE OR REPLACE FUNCTION calculate_ai_category_score()
RETURNS TRIGGER AS $$
BEGIN
  INSERT INTO ai_category_scores (politician_id, ai_name, category_num, category_score, items_completed)
  SELECT
    NEW.politician_id,
    NEW.ai_name,
    NEW.category_num,
    AVG(item_score),  -- í•­ëª© í‰ê·  (ì†Œìˆ˜ì  ë‘˜ì§¸ìë¦¬)
    COUNT(*)
  FROM ai_item_scores
  WHERE politician_id = NEW.politician_id
    AND ai_name = NEW.ai_name
    AND category_num = NEW.category_num
  GROUP BY politician_id, ai_name, category_num
  ON CONFLICT (politician_id, ai_name, category_num)
  DO UPDATE SET
    category_score = EXCLUDED.category_score,
    items_completed = EXCLUDED.items_completed,
    last_updated = NOW();

  RETURN NEW;
END;
$$ LANGUAGE plpgsql;
```

### íŠ¸ë¦¬ê±° 3: AIë³„ ìµœì¢… ì ìˆ˜ ê³„ì‚°

```sql
CREATE OR REPLACE FUNCTION calculate_ai_final_score()
RETURNS TRIGGER AS $$
DECLARE
  v_total_score DECIMAL(4,1);
  v_grade_code VARCHAR(1);
  v_grade_name VARCHAR(20);
  v_grade_emoji VARCHAR(10);
BEGIN
  -- AIë³„ ë¶„ì•¼ ì ìˆ˜ í•©ì‚°
  SELECT SUM(category_score)
  INTO v_total_score
  FROM ai_category_scores
  WHERE politician_id = NEW.politician_id
    AND ai_name = NEW.ai_name;

  -- 8ë‹¨ê³„ ë“±ê¸‰ ê³„ì‚°
  IF v_total_score >= 93 THEN
    v_grade_code := 'M'; v_grade_name := 'Mugunghwa'; v_grade_emoji := 'ğŸŒº';
  ELSIF v_total_score >= 86 THEN
    v_grade_code := 'D'; v_grade_name := 'Diamond'; v_grade_emoji := 'ğŸ’';
  ELSIF v_total_score >= 79 THEN
    v_grade_code := 'E'; v_grade_name := 'Emerald'; v_grade_emoji := 'ğŸ’š';
  ELSIF v_total_score >= 72 THEN
    v_grade_code := 'P'; v_grade_name := 'Platinum'; v_grade_emoji := 'ğŸ¥‡';
  ELSIF v_total_score >= 65 THEN
    v_grade_code := 'G'; v_grade_name := 'Gold'; v_grade_emoji := 'ğŸ¥‡';
  ELSIF v_total_score >= 58 THEN
    v_grade_code := 'S'; v_grade_name := 'Silver'; v_grade_emoji := 'ğŸ¥ˆ';
  ELSIF v_total_score >= 51 THEN
    v_grade_code := 'B'; v_grade_name := 'Bronze'; v_grade_emoji := 'ğŸ¥‰';
  ELSIF v_total_score >= 44 THEN
    v_grade_code := 'I'; v_grade_name := 'Iron'; v_grade_emoji := 'âš«';
  ELSE
    v_grade_code := 'F'; v_grade_name := 'Fail'; v_grade_emoji := 'âŒ';
  END IF;

  -- AIë³„ ìµœì¢… ì ìˆ˜ ì €ì¥
  INSERT INTO ai_final_scores (
    politician_id, ai_name, total_score, grade_code, grade_name, grade_emoji
  )
  VALUES (
    NEW.politician_id, NEW.ai_name, v_total_score, v_grade_code, v_grade_name, v_grade_emoji
  )
  ON CONFLICT (politician_id, ai_name)
  DO UPDATE SET
    total_score = v_total_score,
    grade_code = v_grade_code,
    grade_name = v_grade_name,
    grade_emoji = v_grade_emoji,
    last_updated = NOW();

  RETURN NEW;
END;
$$ LANGUAGE plpgsql;
```

### íŠ¸ë¦¬ê±° 4: ì¢…í•© ìµœì¢… ì ìˆ˜ ê³„ì‚°

```sql
CREATE OR REPLACE FUNCTION calculate_combined_final_score()
RETURNS TRIGGER AS $$
DECLARE
  v_combined_score DECIMAL(4,1);
  v_ai_count INT;
  v_grade_code VARCHAR(1);
  v_grade_name VARCHAR(20);
  v_grade_emoji VARCHAR(10);
BEGIN
  -- ëª¨ë“  AI ì ìˆ˜ í‰ê·  ê³„ì‚°
  SELECT AVG(total_score), COUNT(*)
  INTO v_combined_score, v_ai_count
  FROM ai_final_scores
  WHERE politician_id = NEW.politician_id;

  -- 8ë‹¨ê³„ ë“±ê¸‰ ê³„ì‚°
  IF v_combined_score >= 93 THEN
    v_grade_code := 'M'; v_grade_name := 'Mugunghwa'; v_grade_emoji := 'ğŸŒº';
  ELSIF v_combined_score >= 86 THEN
    v_grade_code := 'D'; v_grade_name := 'Diamond'; v_grade_emoji := 'ğŸ’';
  ELSIF v_combined_score >= 79 THEN
    v_grade_code := 'E'; v_grade_name := 'Emerald'; v_grade_emoji := 'ğŸ’š';
  ELSIF v_combined_score >= 72 THEN
    v_grade_code := 'P'; v_grade_name := 'Platinum'; v_grade_emoji := 'ğŸ¥‡';
  ELSIF v_combined_score >= 65 THEN
    v_grade_code := 'G'; v_grade_name := 'Gold'; v_grade_emoji := 'ğŸ¥‡';
  ELSIF v_combined_score >= 58 THEN
    v_grade_code := 'S'; v_grade_name := 'Silver'; v_grade_emoji := 'ğŸ¥ˆ';
  ELSIF v_combined_score >= 51 THEN
    v_grade_code := 'B'; v_grade_name := 'Bronze'; v_grade_emoji := 'ğŸ¥‰';
  ELSIF v_combined_score >= 44 THEN
    v_grade_code := 'I'; v_grade_name := 'Iron'; v_grade_emoji := 'âš«';
  ELSE
    v_grade_code := 'F'; v_grade_name := 'Fail'; v_grade_emoji := 'âŒ';
  END IF;

  -- ì¢…í•© ì ìˆ˜ ì €ì¥
  INSERT INTO combined_final_scores (
    politician_id, combined_score, grade_code, grade_name, grade_emoji, ai_count
  )
  VALUES (
    NEW.politician_id, v_combined_score, v_grade_code, v_grade_name, v_grade_emoji, v_ai_count
  )
  ON CONFLICT (politician_id)
  DO UPDATE SET
    combined_score = v_combined_score,
    grade_code = v_grade_code,
    grade_name = v_grade_name,
    grade_emoji = v_grade_emoji,
    ai_count = v_ai_count,
    last_updated = NOW();

  RETURN NEW;
END;
$$ LANGUAGE plpgsql;
```

---

## ğŸš€ ë‹¨ê³„ë³„ êµ¬í˜„ ì „ëµ

### Phase 1: Claude ë‹¨ë… í‰ê°€ (ì´ˆê¸°) â­

**ë¹„ìš© ì ˆê°ì„ ìœ„í•´ Claudeë§Œ ë¨¼ì € ìš´ì˜**

```
Claude AI â†’ 100ê°œ í•­ëª© í‰ê°€ â†’ ìµœì¢… 92.0ì 

ì¢…í•© ì ìˆ˜ = Claude ì ìˆ˜ = 92.0ì 
```

**UI í‘œì‹œ**:
```
ì¢…í•© ì ìˆ˜: 92.0ì 
  â”œâ”€ Claude: 92.0ì 
  â””â”€ (ë‹¤ë¥¸ AIëŠ” ì¶”í›„ ì¶”ê°€ ì˜ˆì •)
```

**DB ìƒíƒœ**:
```sql
-- ai_final_scores
| politician_id | ai_name | total_score |
|--------------|---------|-------------|
| ì˜¤ì„¸í›ˆ        | Claude  | 92.0        |

-- combined_final_scores
| politician_id | combined_score | ai_count |
|--------------|----------------|----------|
| ì˜¤ì„¸í›ˆ        | 92.0           | 1        |
```

---

### Phase 2: 5ê°œ AI ì „ì²´ í‰ê°€ (ì¶”í›„)

**ë¹„ìš© ì—¬ìœ  ìƒê¸°ë©´ í™•ì¥**

```
Claude AI â†’ 92.0ì 
ChatGPT AI â†’ 90.0ì 
Gemini AI â†’ 88.0ì 
Grok AI â†’ 91.0ì 
Perplexity AI â†’ 89.0ì 

ì¢…í•© ì ìˆ˜ = (92.0 + 90.0 + 88.0 + 91.0 + 89.0) / 5 = 90.0ì 
```

**UI í‘œì‹œ**:
```
ì¢…í•© ì ìˆ˜: 90.0ì 
  â”œâ”€ Claude: 92.0ì 
  â”œâ”€ ChatGPT: 90.0ì 
  â”œâ”€ Gemini: 88.0ì 
  â”œâ”€ Grok: 91.0ì 
  â””â”€ Perplexity: 89.0ì 
```

---

## ğŸ“± UI êµ¬í˜„ ì˜ˆì‹œ

### ì •ì¹˜ì¸ ì¹´ë“œ

```html
<div class="politician-card">
  <!-- ì¢…í•© ì ìˆ˜ -->
  <div class="combined-score">
    <div class="score-label">ì¢…í•© ì ìˆ˜</div>
    <div class="score-value">92.0</div>
    <div class="grade">ğŸ¥‡ Platinum (P)</div>
  </div>

  <!-- AIë³„ ì ìˆ˜ (ì´ˆê¸°: Claudeë§Œ) -->
  <div class="ai-scores">
    <div class="ai-score-item">
      <img src="claude-logo.png" alt="Claude">
      <span>Claude</span>
      <span class="score">92.0</span>
    </div>
    <!-- ì¶”í›„ ì¶”ê°€
    <div class="ai-score-item">
      <img src="chatgpt-logo.png" alt="ChatGPT">
      <span>ChatGPT</span>
      <span class="score">90.0</span>
    </div>
    -->
  </div>

  <!-- íšŒì› í‰ì  -->
  <div class="user-rating">
    <div>íšŒì›í‰ì </div>
    <div>â˜…â˜…â˜…â˜…â˜… (234ëª…)</div>
  </div>
</div>
```

---

## ğŸ“Š View (ì‹¤ì‹œê°„ ì¡°íšŒ)

### View: ì¢…í•© ìˆœìœ„

```sql
CREATE VIEW v_combined_rankings AS
SELECT
  p.name,
  p.job_type,
  p.party,
  c.combined_score,
  c.grade_code,
  c.grade_name,
  c.grade_emoji,
  c.ai_count,
  CONCAT(c.grade_emoji, ' ', c.grade_name, ' (', c.grade_code, ')') as grade_display,
  RANK() OVER (ORDER BY c.combined_score DESC) as rank
FROM politicians p
JOIN combined_final_scores c ON p.id = c.politician_id
ORDER BY c.combined_score DESC;
```

### View: AIë³„ ì ìˆ˜ ìƒì„¸

```sql
CREATE VIEW v_ai_scores_detail AS
SELECT
  p.name,
  a.ai_name,
  a.total_score,
  a.grade_code,
  a.grade_name,
  a.grade_emoji
FROM politicians p
JOIN ai_final_scores a ON p.id = a.politician_id
ORDER BY p.name, a.ai_name;
```

---

## ğŸ¯ í•µì‹¬ ì •ë¦¬

### ì ìˆ˜ ì²´ê³„:
1. âœ… **ê° AIê°€ ë…ë¦½ì ìœ¼ë¡œ 100ì  ë§Œì  ì ìˆ˜ ì‚°ì¶œ**
2. âœ… **ì¢…í•© ì ìˆ˜ = AIë³„ ì ìˆ˜ì˜ í‰ê· **
3. âœ… **ì´ˆê¸°ì—ëŠ” Claudeë§Œ ìš´ì˜** (ë¹„ìš© ì ˆê°)
4. âœ… **ì¶”í›„ 5ê°œ AIë¡œ í™•ì¥** (ë¹„ìš© ì—¬ìœ  ì‹œ)

### ì ìˆ˜ í‘œì‹œ:
- AIë³„ ì ìˆ˜: ì†Œìˆ˜ì  ì²«ì§¸ìë¦¬ (92.0ì )
- ì¢…í•© ì ìˆ˜: ì†Œìˆ˜ì  ì²«ì§¸ìë¦¬ (90.0ì )

### DB êµ¬ì¡°:
- `ai_item_scores`: AIë³„ í•­ëª© ì ìˆ˜
- `ai_category_scores`: AIë³„ ë¶„ì•¼ ì ìˆ˜
- `ai_final_scores`: AIë³„ ìµœì¢… ì ìˆ˜
- `combined_final_scores`: ì¢…í•© ìµœì¢… ì ìˆ˜

---

**ì‘ì„±ì¼**: 2025-10-26
**ì‘ì„±ì**: PoliticianFinder ì—°êµ¬íŒ€
**ë²„ì „**: 1.0
**ìƒíƒœ**: âœ… í™•ì •

**ì°¸ê³ **:
- ì´ˆê¸° ìš´ì˜: Claude ë‹¨ë… â†’ ì¢…í•© ì ìˆ˜ = Claude ì ìˆ˜
- í™•ì¥ ì‹œ: 5ê°œ AI â†’ ì¢…í•© ì ìˆ˜ = 5ê°œ í‰ê· 
