# Ï†ïÏπòÏù∏ ÌèâÍ∞Ä Ï†êÏàò ÏÇ∞Ï∂ú Î°úÏßÅ V4.0

**ÏûëÏÑ±Ïùº**: 2025-10-26
**Î≤ÑÏ†Ñ**: 4.0 (ÏµúÏ¢Ö)
**Í∏∞Î∞ò**: 100Í∞ú Ìï≠Î™© ÌèâÍ∞Ä Ï≤¥Í≥Ñ (15_ÏµúÏ¢Ö_100Í∞úÌï≠Î™©_ÎÖºÎ¨∏Í∑ºÍ±∞_V3.0.md)
**Î∞©Î≤ïÎ°†**: Hierarchical Linear Evaluation Method with Bayesian Prior

---

## üìå ÌïµÏã¨ ÏõêÏπô

### 1. JSON ÌååÏùº Ï†úÍ±∞ ‚ùå
- **Íµ¨Î∞©Ïãù**: Îç∞Ïù¥ÌÑ∞ ÏàòÏßë ‚Üí JSON Ï†ÄÏû• ‚Üí JSON ÏùΩÍ∏∞ ‚Üí DB Ï†ÄÏû• ‚Üí Ï†êÏàò Í≥ÑÏÇ∞
- **Ïã†Î∞©Ïãù**: Îç∞Ïù¥ÌÑ∞ ÏàòÏßë ‚Üí **Supabase ÏßÅÏ†ë Ï†ÄÏû•** ‚Üí Ï†êÏàò ÏûêÎèô Í≥ÑÏÇ∞

### 2. Î≥ëÎ†¨ Ï≤òÎ¶¨ ÌôúÏö© ‚ö°
- 5Í∞ú AI ÎèôÏãú Ïã§Ìñâ (Claude, GPT-4, Gemini, Perplexity, X AI)
- Ï†ïÏπòÏù∏Î≥Ñ Î≥ëÎ†¨ ÏàòÏßë
- Î∂ÑÏïºÎ≥Ñ Î≥ëÎ†¨ ÏàòÏßë

### 3. Ïã§ÏãúÍ∞Ñ Ï†êÏàò Í≥ÑÏÇ∞ üìä
- Îç∞Ïù¥ÌÑ∞ INSERT Ï¶âÏãú Ï†êÏàò ÏûêÎèô Í≥ÑÏÇ∞ (DB Ìä∏Î¶¨Í±∞)
- Î≥ÑÎèÑ Í≥ÑÏÇ∞ Ïä§ÌÅ¨Î¶ΩÌä∏ Î∂àÌïÑÏöî

---

## üéØ Ï†êÏàò ÏÇ∞Ï∂ú Ï≤¥Í≥Ñ

### ÏµúÏ¢Ö Ï†êÏàò = 100Ï†ê ÎßåÏ†ê

```
Step 1: Ìï≠Î™© Ï†êÏàò Í≥ÑÏÇ∞ (Bayesian Prior 7.0 Ï†ÅÏö©)
  ‚Üí Í∞Å Ìï≠Î™©: 0~10Ï†ê

Step 2: Î∂ÑÏïº Ï†êÏàò Í≥ÑÏÇ∞ (Ìï≠Î™© ÌèâÍ∑†)
  ‚Üí Î∂ÑÏïº Ï†êÏàò = (Ìï≠Î™© 1 + Ìï≠Î™© 2 + ... + Ìï≠Î™© 10) / 10
  ‚Üí Í∞Å Î∂ÑÏïº: 0~10Ï†ê

Step 3: ÏµúÏ¢Ö Ï†êÏàò Í≥ÑÏÇ∞ (Î∂ÑÏïº Ìï©ÏÇ∞)
  ‚Üí ÏµúÏ¢Ö Ï†êÏàò = Î∂ÑÏïº 1 + Î∂ÑÏïº 2 + ... + Î∂ÑÏïº 10
  ‚Üí ÏµúÏ¢Ö Ï†êÏàò: 0~100Ï†ê
```

### V4.0 ÌïµÏã¨ Î∞©Î≤ïÎ°†: Hierarchical Linear Evaluation Method with Bayesian Prior ‚≠ê

**Í≥µÏãù Î™ÖÏπ≠**: Hierarchical Linear Evaluation Method with Bayesian Prior
**ÌïúÍ∏Ä Î™ÖÏπ≠**: Î≤†Ïù¥ÏßÄÏïà ÌîÑÎùºÏù¥Ïñ¥ Í∏∞Î∞ò Í≥ÑÏ∏µÏ†Å ÏÑ†Ìòï ÌèâÍ∞Ä Î∞©Î≤ï

```python
# V4.0 Í≥µÏãù (Linear Normalization)
Ìï≠Î™© Ï†êÏàò = 7.0 + (ÌèâÍ∑† / 10) √ó 3
```

**ÌïµÏã¨ ÌòÅÏã†**:
- **Prior Score = 7.0**: ÏÑ†Ï∂úÏßÅ Ï†ïÏπòÏù∏Ïóê ÎåÄÌïú Í∏∞Î≥∏ Ïã†Î¢∞ (70Ï†ê/100Ï†ê)
- **Linear Normalization**: Îç∞Ïù¥ÌÑ∞ Ï¥ùÌï©ÏùÑ ¬±3 Î≤îÏúÑÎ°ú ÏÑ†Ìòï Îß§Ìïë
- **Îç∞Ïù¥ÌÑ∞ ÎèÖÎ¶ΩÏÑ±**: Îç∞Ïù¥ÌÑ∞ Í∞úÏàòÏôÄ Î¨¥Í¥Ä, ÌèâÍ∑†Îßå Î∞òÏòÅ
- **Í≥µÏ†ïÏÑ± ÌôïÎ≥¥**: 10Í∞ú ÌèâÍ∞ÄÎÇò 10,000Í∞ú ÌèâÍ∞ÄÎÇò ÌèâÍ∑† Í∞ôÏúºÎ©¥ Í∞ôÏùÄ Ï†êÏàò

**ÌèâÍ∞Ä Ï≤ôÎèÑ Î≥ÄÍ≤Ω**:
- **V3.0**: 0.0 ~ 1.0 (0~10Ï†ê ÌôòÏÇ∞)
- **V4.0**: -10 ~ +10 (ÎåÄÏπ≠ Ï≤ôÎèÑ, Í∏çÏ†ï/Î∂ÄÏ†ï Î™ÖÏãú)

### ÏòàÏãú:

```
Ìï≠Î™© 1-1 (Î∂ÄÌå® Ïã†Í≥† Í±¥Ïàò):
  - AI ÌèâÍ∞Ä: 9.0Ï†ê
  - Îç∞Ïù¥ÌÑ∞ Í∞úÏàò: 5Í∞ú
  - Ìï≠Î™© Ï†êÏàò = (9.0 √ó 5 + 7.0 √ó 10) / (5 + 10) = 7.67Ï†ê

Ìï≠Î™© 1-2 (ÎáåÎ¨º ÏùòÌòπ):
  - AI ÌèâÍ∞Ä: 8.5Ï†ê
  - Îç∞Ïù¥ÌÑ∞ Í∞úÏàò: 3Í∞ú
  - Ìï≠Î™© Ï†êÏàò = (8.5 √ó 3 + 7.0 √ó 10) / (3 + 10) = 7.35Ï†ê
...
Ìï≠Î™© 1-10: 8.2Ï†ê

Î∂ÑÏïº 1 (Ï≤≠Î†¥ÏÑ±) Ï†êÏàò = (7.67 + 7.35 + ... + 8.2) / 10 = 7.9Ï†ê

ÏµúÏ¢Ö Ï†êÏàò (100Ï†ê ÎßåÏ†ê) = 7.9 + 8.1 + 7.5 + ... (10Í∞ú Î∂ÑÏïº Ìï©ÏÇ∞) = 78.5Ï†ê
Îì±Í∏â = ü•á Platinum (P)
```

---

## üóÑÔ∏è Supabase ÌÖåÏù¥Î∏î Íµ¨Ï°∞

### ÌÖåÏù¥Î∏î 1: politicians (Ï†ïÏπòÏù∏ Í∏∞Î≥∏ Ï†ïÎ≥¥)

```sql
CREATE TABLE politicians (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  name VARCHAR(100) NOT NULL,
  job_type VARCHAR(50) NOT NULL,  -- Íµ≠ÌöåÏùòÏõê, Í¥ëÏó≠Îã®Ï≤¥Ïû•, Í¥ëÏó≠ÏùòÏõê, Í∏∞Ï¥àÎã®Ï≤¥Ïû•, Í∏∞Ï¥àÏùòÏõê
  party VARCHAR(100),
  region VARCHAR(200),
  current_position VARCHAR(200),
  created_at TIMESTAMP DEFAULT NOW()
);
```

### ÌÖåÏù¥Î∏î 2: collected_data (ÏàòÏßëÎêú ÏõêÎ≥∏ Îç∞Ïù¥ÌÑ∞)

```sql
CREATE TABLE collected_data (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  politician_id UUID REFERENCES politicians(id),
  category_num INT NOT NULL,      -- 1~10 (Î∂ÑÏïº Î≤àÌò∏)
  item_num INT NOT NULL,           -- 1~10 (Ìï≠Î™© Î≤àÌò∏)
  data_type VARCHAR(50),           -- Îâ¥Ïä§, Í≥µÏãùÍ∏∞Î°ù, ÌÜµÍ≥Ñ Îì±
  data_title VARCHAR(500),
  data_content TEXT,
  data_url VARCHAR(500),
  data_score DECIMAL(3,2),         -- 0.00 ~ 1.00
  reliability DECIMAL(3,2),        -- Ïã†Î¢∞ÎèÑ 0.00 ~ 1.00
  collected_by VARCHAR(50),        -- Claude, GPT-4, Gemini Îì±
  collected_at TIMESTAMP DEFAULT NOW()
);

-- Ïù∏Îç±Ïä§
CREATE INDEX idx_data_politician ON collected_data(politician_id);
CREATE INDEX idx_data_category_item ON collected_data(category_num, item_num);
```

### ÌÖåÏù¥Î∏î 3: item_scores (Ìï≠Î™©Î≥Ñ Ï†êÏàò - ÏûêÎèô Í≥ÑÏÇ∞)

```sql
CREATE TABLE item_scores (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  politician_id UUID REFERENCES politicians(id),
  category_num INT NOT NULL,
  item_num INT NOT NULL,
  item_score DECIMAL(4,3),         -- 0.000 ~ 1.000
  data_count INT DEFAULT 0,
  last_updated TIMESTAMP DEFAULT NOW(),
  UNIQUE(politician_id, category_num, item_num)
);
```

### ÌÖåÏù¥Î∏î 4: category_scores (Î∂ÑÏïºÎ≥Ñ Ï†êÏàò - ÏûêÎèô Í≥ÑÏÇ∞)

```sql
CREATE TABLE category_scores (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  politician_id UUID REFERENCES politicians(id),
  category_num INT NOT NULL,
  category_score DECIMAL(5,2),     -- 0.00 ~ 10.00
  items_completed INT DEFAULT 0,
  last_updated TIMESTAMP DEFAULT NOW(),
  UNIQUE(politician_id, category_num)
);
```

### ÌÖåÏù¥Î∏î 5: final_scores (ÏµúÏ¢Ö Ï†êÏàò - ÏûêÎèô Í≥ÑÏÇ∞)

```sql
CREATE TABLE final_scores (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  politician_id UUID REFERENCES politicians(id) UNIQUE,
  total_score DECIMAL(6,2),        -- 0.00 ~ 100.00
  grade_code VARCHAR(1),           -- M, D, E, P, G, S, B, I (8Îã®Í≥Ñ Îì±Í∏â ÏΩîÎìú)
  grade_name VARCHAR(20),          -- Mugunghwa, Diamond, Emerald, Platinum, Gold, Silver, Bronze, Iron
  grade_emoji VARCHAR(10),         -- üå∫, üíé, üíö, ü•á, ü•á, ü•à, ü•â, ‚ö´
  categories_completed INT DEFAULT 0,
  items_completed INT DEFAULT 0,
  total_data_count INT DEFAULT 0,
  last_updated TIMESTAMP DEFAULT NOW()
);
```

---

## ‚öôÔ∏è ÏûêÎèô Ï†êÏàò Í≥ÑÏÇ∞ Ìä∏Î¶¨Í±∞

### Ìä∏Î¶¨Í±∞ 1: Ìï≠Î™© Ï†êÏàò ÏûêÎèô Í≥ÑÏÇ∞ (Bayesian Prior 7.0)

```sql
CREATE OR REPLACE FUNCTION calculate_item_score()
RETURNS TRIGGER AS $$
DECLARE
  v_ai_score DECIMAL(4,3);
  v_data_count INT;
  v_final_score DECIMAL(4,3);
  v_prior_score CONSTANT DECIMAL(3,1) := 7.0;  -- Bayesian Prior
  v_prior_weight CONSTANT INT := 10;           -- Prior Weight
BEGIN
  -- AI ÌèâÍ∞Ä Ï†êÏàò Î∞è Îç∞Ïù¥ÌÑ∞ Í∞úÏàò Í≥ÑÏÇ∞
  SELECT AVG(data_score), COUNT(*)
  INTO v_ai_score, v_data_count
  FROM collected_data
  WHERE politician_id = NEW.politician_id
    AND category_num = NEW.category_num
    AND item_num = NEW.item_num;

  -- Bayesian Prior 7.0 Ï†ÅÏö©
  v_final_score := (v_ai_score * v_data_count + v_prior_score * v_prior_weight)
                   / (v_data_count + v_prior_weight);

  -- Ìï≠Î™© Ï†êÏàò Ï†ÄÏû•
  INSERT INTO item_scores (politician_id, category_num, item_num, item_score, data_count)
  VALUES (NEW.politician_id, NEW.category_num, NEW.item_num, v_final_score, v_data_count)
  ON CONFLICT (politician_id, category_num, item_num)
  DO UPDATE SET
    item_score = v_final_score,
    data_count = v_data_count,
    last_updated = NOW();

  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER trg_calculate_item_score
AFTER INSERT OR UPDATE ON collected_data
FOR EACH ROW
EXECUTE FUNCTION calculate_item_score();
```

### Ìä∏Î¶¨Í±∞ 2: Î∂ÑÏïº Ï†êÏàò ÏûêÎèô Í≥ÑÏÇ∞

```sql
CREATE OR REPLACE FUNCTION calculate_category_score()
RETURNS TRIGGER AS $$
BEGIN
  -- item_scores INSERT/UPDATE Ïãú Î∂ÑÏïº Ï†êÏàò Ïû¨Í≥ÑÏÇ∞
  INSERT INTO category_scores (politician_id, category_num, category_score, items_completed)
  SELECT
    NEW.politician_id,
    NEW.category_num,
    AVG(item_score) * 10,  -- 10Ï†ê ÎßåÏ†êÏúºÎ°ú Î≥ÄÌôò
    COUNT(*)
  FROM item_scores
  WHERE politician_id = NEW.politician_id
    AND category_num = NEW.category_num
  GROUP BY politician_id, category_num
  ON CONFLICT (politician_id, category_num)
  DO UPDATE SET
    category_score = EXCLUDED.category_score,
    items_completed = EXCLUDED.items_completed,
    last_updated = NOW();

  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER trg_calculate_category_score
AFTER INSERT OR UPDATE ON item_scores
FOR EACH ROW
EXECUTE FUNCTION calculate_category_score();
```

### Ìä∏Î¶¨Í±∞ 3: ÏµúÏ¢Ö Ï†êÏàò ÏûêÎèô Í≥ÑÏÇ∞ (8Îã®Í≥Ñ Îì±Í∏â Ï≤¥Í≥Ñ)

```sql
CREATE OR REPLACE FUNCTION calculate_final_score()
RETURNS TRIGGER AS $$
DECLARE
  v_total_score DECIMAL(6,2);
  v_grade_code VARCHAR(1);
  v_grade_name VARCHAR(20);
  v_grade_emoji VARCHAR(10);
  v_items_completed INT;
  v_data_count INT;
BEGIN
  -- category_scores INSERT/UPDATE Ïãú ÏµúÏ¢Ö Ï†êÏàò Ïû¨Í≥ÑÏÇ∞
  SELECT
    SUM(category_score),
    COUNT(*)
  INTO v_total_score, v_items_completed
  FROM category_scores
  WHERE politician_id = NEW.politician_id;

  -- Ï¥ù Îç∞Ïù¥ÌÑ∞ Í∞úÏàò
  SELECT COUNT(*)
  INTO v_data_count
  FROM collected_data
  WHERE politician_id = NEW.politician_id;

  -- 8Îã®Í≥Ñ Îì±Í∏â Í≥ÑÏÇ∞
  IF v_total_score >= 93 THEN
    v_grade_code := 'M';
    v_grade_name := 'Mugunghwa';
    v_grade_emoji := 'üå∫';
  ELSIF v_total_score >= 86 THEN
    v_grade_code := 'D';
    v_grade_name := 'Diamond';
    v_grade_emoji := 'üíé';
  ELSIF v_total_score >= 79 THEN
    v_grade_code := 'E';
    v_grade_name := 'Emerald';
    v_grade_emoji := 'üíö';
  ELSIF v_total_score >= 72 THEN
    v_grade_code := 'P';
    v_grade_name := 'Platinum';
    v_grade_emoji := 'ü•á';
  ELSIF v_total_score >= 65 THEN
    v_grade_code := 'G';
    v_grade_name := 'Gold';
    v_grade_emoji := 'ü•á';
  ELSIF v_total_score >= 58 THEN
    v_grade_code := 'S';
    v_grade_name := 'Silver';
    v_grade_emoji := 'ü•à';
  ELSIF v_total_score >= 51 THEN
    v_grade_code := 'B';
    v_grade_name := 'Bronze';
    v_grade_emoji := 'ü•â';
  ELSIF v_total_score >= 44 THEN
    v_grade_code := 'I';
    v_grade_name := 'Iron';
    v_grade_emoji := '‚ö´';
  ELSE
    v_grade_code := 'F';
    v_grade_name := 'Fail';
    v_grade_emoji := '‚ùå';
  END IF;

  -- ÏµúÏ¢Ö Ï†êÏàò Ï†ÄÏû•
  INSERT INTO final_scores (
    politician_id, total_score, grade_code, grade_name, grade_emoji,
    items_completed, total_data_count
  )
  VALUES (
    NEW.politician_id, v_total_score, v_grade_code, v_grade_name, v_grade_emoji,
    v_items_completed, v_data_count
  )
  ON CONFLICT (politician_id)
  DO UPDATE SET
    total_score = EXCLUDED.total_score,
    grade_code = EXCLUDED.grade_code,
    grade_name = EXCLUDED.grade_name,
    grade_emoji = EXCLUDED.grade_emoji,
    items_completed = EXCLUDED.items_completed,
    total_data_count = EXCLUDED.total_data_count,
    last_updated = NOW();

  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER trg_calculate_final_score
AFTER INSERT OR UPDATE ON category_scores
FOR EACH ROW
EXECUTE FUNCTION calculate_final_score();
```

---

## üìä Î∑∞ (View) - Ïã§ÏãúÍ∞Ñ Ï°∞Ìöå

### Î∑∞ 1: ÏµúÏ¢Ö ÏàúÏúÑ (8Îã®Í≥Ñ Îì±Í∏â)

```sql
CREATE VIEW v_politician_rankings AS
SELECT
  p.name,
  p.job_type,
  p.party,
  f.total_score,
  f.grade_code,
  f.grade_name,
  f.grade_emoji,
  CONCAT(f.grade_emoji, ' ', f.grade_name, ' (', f.grade_code, ')') as grade_display,
  f.items_completed,
  f.total_data_count,
  RANK() OVER (ORDER BY f.total_score DESC) as rank,
  CASE
    WHEN f.total_score >= 65 THEN 'Ìï©Í≤©'
    ELSE 'Î∂àÌï©Í≤©'
  END as pass_status
FROM politicians p
JOIN final_scores f ON p.id = f.politician_id
ORDER BY f.total_score DESC;
```

### Î∑∞ 2: Î∂ÑÏïºÎ≥Ñ ÏÉÅÏÑ∏

```sql
CREATE VIEW v_category_details AS
SELECT
  p.name,
  c.category_num,
  c.category_score,
  c.items_completed,
  c.last_updated
FROM politicians p
JOIN category_scores c ON p.id = c.politician_id
ORDER BY p.name, c.category_num;
```

### Î∑∞ 3: Ìï≠Î™©Î≥Ñ ÏÉÅÏÑ∏

```sql
CREATE VIEW v_item_details AS
SELECT
  p.name,
  i.category_num,
  i.item_num,
  i.item_score,
  i.data_count,
  i.last_updated
FROM politicians p
JOIN item_scores i ON p.id = i.politician_id
ORDER BY p.name, i.category_num, i.item_num;
```

---

## üöÄ Îç∞Ïù¥ÌÑ∞ ÏàòÏßë ‚Üí Ï†êÏàò ÏÇ∞Ï∂ú ÌùêÎ¶Ñ

### 1Îã®Í≥Ñ: Îç∞Ïù¥ÌÑ∞ ÏàòÏßë (Î≥ëÎ†¨ Ï≤òÎ¶¨)

```python
# 5Í∞ú AI ÎèôÏãú Ïã§Ìñâ
import asyncio
from concurrent.futures import ThreadPoolExecutor

async def collect_data_parallel(politician_id, category_num, item_num):
    """5Í∞ú AIÍ∞Ä ÎèôÏãúÏóê Îç∞Ïù¥ÌÑ∞ ÏàòÏßë"""
    ai_engines = ['Claude', 'GPT-4', 'Gemini', 'Perplexity', 'XAI']

    with ThreadPoolExecutor(max_workers=5) as executor:
        futures = [
            executor.submit(collect_single_data, ai, politician_id, category_num, item_num)
            for ai in ai_engines
        ]
        results = [f.result() for f in futures]

    return results

def collect_single_data(ai_engine, politician_id, category_num, item_num):
    """Îã®Ïùº AIÎ°ú Îç∞Ïù¥ÌÑ∞ ÏàòÏßë ‚Üí Supabase ÏßÅÏ†ë INSERT"""
    # AI API Ìò∏Ï∂ú
    data = call_ai_api(ai_engine, politician_id, category_num, item_num)

    # Supabase ÏßÅÏ†ë INSERT (JSON ÌååÏùº Í±¥ÎÑàÎõ∞Í∏∞!)
    supabase.table('collected_data').insert({
        'politician_id': politician_id,
        'category_num': category_num,
        'item_num': item_num,
        'data_title': data['title'],
        'data_content': data['content'],
        'data_url': data['url'],
        'data_score': data['score'],  # 0.0 ~ 1.0
        'reliability': data['reliability'],
        'collected_by': ai_engine
    }).execute()

    # Ìä∏Î¶¨Í±∞Í∞Ä ÏûêÎèôÏúºÎ°ú Ï†êÏàò Í≥ÑÏÇ∞!
    return data
```

### 2Îã®Í≥Ñ: Ï†êÏàò ÏûêÎèô Í≥ÑÏÇ∞ (DB Ìä∏Î¶¨Í±∞)

```
collected_data INSERT
  ‚Üì (Ìä∏Î¶¨Í±∞ 1)
item_scores ÏûêÎèô ÏóÖÎç∞Ïù¥Ìä∏
  ‚Üì (Ìä∏Î¶¨Í±∞ 2)
category_scores ÏûêÎèô ÏóÖÎç∞Ïù¥Ìä∏
  ‚Üì (Ìä∏Î¶¨Í±∞ 3)
final_scores ÏûêÎèô ÏóÖÎç∞Ïù¥Ìä∏
```

### 3Îã®Í≥Ñ: Ïã§ÏãúÍ∞Ñ Ï°∞Ìöå

```python
# ÏµúÏ¢Ö ÏàúÏúÑ Ï°∞Ìöå
rankings = supabase.table('v_politician_rankings').select('*').execute()

# ÌäπÏ†ï Ï†ïÏπòÏù∏ ÏÉÅÏÑ∏
details = supabase.table('v_category_details').select('*').eq('name', 'Ïò§ÏÑ∏Ìõà').execute()
```

---

## ‚ö° ÏÜçÎèÑ Í∞úÏÑ† Î∞©Ïïà

### 1. Î≥ëÎ†¨ Ï≤òÎ¶¨
```python
# ‚ùå ÏàúÏ∞® Ï≤òÎ¶¨ (ÎäêÎ¶º)
for politician in politicians:
    for category in categories:
        for item in items:
            collect_data(politician, category, item)  # 5Ï¥à
# Ï¥ù ÏÜåÏöî ÏãúÍ∞Ñ: 5Ï¥à √ó 100Ìï≠Î™© √ó 3Î™Ö = 1,500Ï¥à (25Î∂Ñ)

# ‚úÖ Î≥ëÎ†¨ Ï≤òÎ¶¨ (Îπ†Î¶Ñ)
with ThreadPoolExecutor(max_workers=10) as executor:
    futures = [
        executor.submit(collect_data, p, c, i)
        for p in politicians
        for c in categories
        for i in items
    ]
# Ï¥ù ÏÜåÏöî ÏãúÍ∞Ñ: 5Ï¥à √ó 10 (Î∞∞Ïπò) = 50Ï¥à (0.8Î∂Ñ)
```

### 2. Î∞∞Ïπò INSERT
```python
# ‚ùå Í∞úÎ≥Ñ INSERT (ÎäêÎ¶º)
for data in collected_data:
    supabase.table('collected_data').insert(data).execute()  # 100ms
# Ï¥ù ÏÜåÏöî: 100ms √ó 1000Í±¥ = 100Ï¥à

# ‚úÖ Î∞∞Ïπò INSERT (Îπ†Î¶Ñ)
supabase.table('collected_data').insert(collected_data).execute()  # 1Ï¥à
# Ï¥ù ÏÜåÏöî: 1Ï¥à
```

### 3. Ï∫êÏã±
```python
# Ï†ïÏπòÏù∏ Í∏∞Î≥∏ Ï†ïÎ≥¥ Ï∫êÏã±
politician_cache = {}

def get_politician_id(name):
    if name in politician_cache:
        return politician_cache[name]

    result = supabase.table('politicians').select('id').eq('name', name).execute()
    politician_cache[name] = result.data[0]['id']
    return politician_cache[name]
```

---

## üìã Îç∞Ïù¥ÌÑ∞ Ï†êÏàò ÏÇ∞Ï†ï Í∏∞Ï§Ä

### Í∏çÏ†ï Ìï≠Î™© (ÎÜíÏùÑÏàòÎ°ù Ï¢ãÏùå)
- Ïòà: Ï†ïÏ±Ö Ï†úÏïà Í±¥Ïàò, Í≥µÏïΩ Ïù¥ÌñâÎ•†, Ï£ºÎØº Í∞ÑÎã¥Ìöå Í∞úÏµú
- **Ï†êÏàò**: Ïã§Ï†úÍ∞í / Î™©ÌëúÍ∞í
- **ÏòàÏãú**: Î≤ïÏïà Î∞úÏùò 20Í±¥ / Î™©Ìëú 10Í±¥ = 2.0 ‚Üí 1.0Ï†ê (ÏÉÅÌïú)

### Î∂ÄÏ†ï Ìï≠Î™© (ÎÇÆÏùÑÏàòÎ°ù Ï¢ãÏùå)
- Ïòà: Î∂ÄÌå® Ïã†Í≥† Í±¥Ïàò, Ìè≠Ïñ∏ ÎÖºÎûÄ, ÏÑ±Ï∂îÌñâ ÏùòÌòπ
- **Ï†êÏàò**: 1.0 - (Ïã§Ï†úÍ∞í / ÏµúÏïÖÍ∞í)
- **ÏòàÏãú**: Î∂ÄÌå® Ïã†Í≥† 2Í±¥ / ÏµúÏïÖ 10Í±¥ = 0.2 ‚Üí 0.8Ï†ê

### ÌèâÍ∞Ä Ìï≠Î™© (Ï†êÏàò ÏßÅÏ†ë)
- Ïòà: Ï≤≠Î†¥ÎèÑ ÌèâÍ∞Ä, Ï†ÑÎ¨∏Í∞Ä ÌèâÍ∞Ä, ÏãúÎØº ÎßåÏ°±ÎèÑ
- **Ï†êÏàò**: ÌèâÍ∞Ä Ï†êÏàò / 100
- **ÏòàÏãú**: Ï≤≠Î†¥ÎèÑ 85Ï†ê / 100 = 0.85Ï†ê

---

## üéñÔ∏è 8Îã®Í≥Ñ Îì±Í∏â Ï≤¥Í≥Ñ (ÏµúÏ¢Ö ÌôïÏ†ï)

### Îì±Í∏â ÏÉÅÏÑ∏ Ìëú

| Îì±Í∏â | Ï†êÏàò Î≤îÏúÑ | ÏΩîÎìú | Ïù¥Î™®ÏßÄ | Ïù¥Î¶Ñ | ÏùòÎØ∏ | Ìï©Í≤© Ïó¨Î∂Ä |
|------|----------|------|--------|------|------|----------|
| **1** | 93~100Ï†ê | M | üå∫ | Mugunghwa | ÎåÄÌïúÎØºÍµ≠ ÏµúÍ≥† Îì±Í∏â | ‚úÖ Ìï©Í≤© |
| **2** | 86~92Ï†ê | D | üíé | Diamond | Î≥¥ÏÑù Îì±Í∏â (ÏµúÏÉÅÏúÑ) | ‚úÖ Ìï©Í≤© |
| **3** | 79~85Ï†ê | E | üíö | Emerald | Î≥¥ÏÑù Îì±Í∏â | ‚úÖ Ìï©Í≤© |
| **4** | 72~78Ï†ê | P | ü•á | Platinum | Í∑ÄÍ∏àÏÜç Îì±Í∏â (ÏµúÏÉÅÏúÑ) | ‚úÖ Ìï©Í≤© |
| **‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ** | **‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ** | **‚îÅ‚îÅ‚îÅ** | **‚îÅ‚îÅ‚îÅ** | **‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ** | **‚îÅ‚îÅ‚îÅ Ìï©Í≤©ÏÑ† (65Ï†ê) ‚îÅ‚îÅ‚îÅ** | **‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ** |
| **5** | 65~71Ï†ê | G | ü•á | Gold | Í∑ÄÍ∏àÏÜç Îì±Í∏â | ‚úÖ Ìï©Í≤© |
| **6** | 58~64Ï†ê | S | ü•à | Silver | ÏùºÎ∞òÍ∏àÏÜç Îì±Í∏â | ‚ùå Î∂àÌï©Í≤© |
| **7** | 51~57Ï†ê | B | ü•â | Bronze | ÏùºÎ∞òÍ∏àÏÜç Îì±Í∏â | ‚ùå Î∂àÌï©Í≤© |
| **8** | 44~50Ï†ê | I | ‚ö´ | Iron | ÏùºÎ∞òÍ∏àÏÜç Îì±Í∏â (ÏµúÌïòÏúÑ) | ‚ùå Î∂àÌï©Í≤© |
| **F** | 0~43Ï†ê | F | ‚ùå | Fail | ÎÇôÏ†ú | ‚ùå Î∂àÌï©Í≤© |

### Îì±Í∏â Íµ¨Ï°∞
- **üå∫ Î¨¥Í∂ÅÌôî Îì±Í∏â** (93Ï†ê+): ÎåÄÌïúÎØºÍµ≠ ÏµúÍ≥† ÏòÅÏòà
- **üíéüíö Î≥¥ÏÑù Îì±Í∏â** (79Ï†ê+): Diamond, Emerald
- **ü•á Í∑ÄÍ∏àÏÜç Îì±Í∏â** (65Ï†ê+): Platinum, Gold
- **ü•àü•â‚ö´ ÏùºÎ∞òÍ∏àÏÜç Îì±Í∏â** (44Ï†ê+): Silver, Bronze, Iron

### Ìï©Í≤©ÏÑ†
- **65Ï†ê (Gold Ïù¥ÏÉÅ)**: ‚úÖ Ìï©Í≤©
- **64Ï†ê (Silver Ïù¥Ìïò)**: ‚ùå Î∂àÌï©Í≤©

---

## üßÆ Bayesian Prior 7.0 Ï≤†Ìïô

### ÌïµÏã¨ ÏõêÏπô

**Prior Score = 7.0**: ÏÑ†Ï∂úÏßÅ Ï†ïÏπòÏù∏Ïóê ÎåÄÌïú Í∏∞Î≥∏ Ïã†Î¢∞
- "ÏÑ†Í±∞Î•º ÌÜµÍ≥ºÌïú ÏÇ¨ÎûåÏùÄ Í∏∞Î≥∏Ï†ÅÏúºÎ°ú Í¥úÏ∞ÆÏùÄ ÏÇ¨Îûå(70Ï†ê)Ïù¥Îã§"
- ÎØºÏ£ºÏ£ºÏùò ÏõêÏπô: ÏãúÎØºÏù¥ ÎΩëÏùÄ ÏÇ¨ÎûåÏóê ÎåÄÌïú Í∏∞Î≥∏ Ï°¥Ï§ë
- Ï†ÅÍ≤© Ï∂îÏ†ïÏùò ÏõêÏπô: Î∂ÄÏ†ÅÍ≤©Ïù¥ ÏûÖÏ¶ùÎêòÍ∏∞ Ï†ÑÍπåÏßÄÎäî Ï†ÅÍ≤©

### Prior ÏòÅÌñ•ÎèÑ

| Îç∞Ïù¥ÌÑ∞ Í∞úÏàò | Prior ÏòÅÌñ•ÎèÑ | AI ÏòÅÌñ•ÎèÑ | Ìö®Í≥º |
|------------|-------------|-----------|------|
| **0Í∞ú** | 100% | 0% | Prior = Final Score (7.0Ï†ê) |
| **5Í∞ú** | 67% | 33% | Prior Í∞ïÌïòÍ≤å ÏûëÏö© |
| **10Í∞ú** | 50% | 50% | PriorÏôÄ AI Í∑†Ìòï |
| **20Í∞ú** | 33% | 67% | AI Îçî Í∞ïÌïòÍ≤å ÏûëÏö© |
| **30Í∞ú Ïù¥ÏÉÅ** | <25% | >75% | AI ÌèâÍ∞Ä Í±∞Ïùò Í∑∏ÎåÄÎ°ú (Í∞ùÍ¥ÄÏÑ±) |

### Ìö®Í≥º
- ‚úÖ **Îç∞Ïù¥ÌÑ∞ Î∂ÄÏ°± Ïãú**: ÏñµÏö∏Ìïú Í∞êÏ†ê Î∞©ÏßÄ (Í≥µÏ†ïÏÑ±)
- ‚úÖ **Îç∞Ïù¥ÌÑ∞ Ï∂©Î∂Ñ Ïãú**: AI ÌèâÍ∞Ä Í∑∏ÎåÄÎ°ú Î∞òÏòÅ (Í∞ùÍ¥ÄÏÑ±)
- ‚úÖ **Í∑πÎã® Î∞©ÏßÄ**: ÎåÄÎ∂ÄÎ∂Ñ Ï†ïÏπòÏù∏ 70-75Ï†êÎåÄ (Ìï©Î¶¨Ï†Å)

---

## üéØ Îã§Ïùå Îã®Í≥Ñ

1. **Supabase Ïä§ÌÇ§Îßà ÏÑ§Ïπò** (SQL Ïã§Ìñâ)
2. **Îç∞Ïù¥ÌÑ∞ ÏàòÏßë Ïä§ÌÅ¨Î¶ΩÌä∏ ÏûëÏÑ±** (Î≥ëÎ†¨ Ï≤òÎ¶¨ + Bayesian Prior 7.0)
3. **100Í∞ú Ìï≠Î™© Îç∞Ïù¥ÌÑ∞ ÏàòÏßë ÏãúÏûë**
4. **Ïã§ÏãúÍ∞Ñ Ï†êÏàò ÌôïÏù∏** (8Îã®Í≥Ñ Îì±Í∏â ÏûêÎèô ÌëúÏãú)

---

**ÏûëÏÑ±Ïùº**: 2025-10-26
**Î≤ÑÏ†Ñ**: 3.0 (ÏµúÏ¢Ö)
**ÏÉÅÌÉú**: ‚úÖ ÏôÑÎ£å

**ÏûëÏÑ±Ïûê**: PoliticianFinder Ïó∞Íµ¨ÌåÄ

**ÌïµÏã¨ Í∞úÏÑ†ÏÇ¨Ìï≠**:
- ‚úÖ JSON ÌååÏùº Ï†úÍ±∞ (Supabase ÏßÅÏ†ë Ï†ÄÏû•)
- ‚úÖ Î≥ëÎ†¨ Ï≤òÎ¶¨Î°ú 25Î∂Ñ ‚Üí 1Î∂Ñ Îã®Ï∂ï (25Î∞∞ ÏÜçÎèÑ Ìñ•ÏÉÅ)
- ‚úÖ **Bayesian Prior 7.0 Ï†ÅÏö©** (ÎØºÏ£ºÏ£ºÏùòÏ†Å Ïã†Î¢∞)
- ‚úÖ **8Îã®Í≥Ñ Îì±Í∏â Ï≤¥Í≥Ñ** (üå∫ M / üíé D / üíö E / ü•á P / ü•á G / ü•à S / ü•â B / ‚ö´ I)
- ‚úÖ ÏûêÎèô Ï†êÏàò Í≥ÑÏÇ∞ (DB Ìä∏Î¶¨Í±∞)
- ‚úÖ Ïã§ÏãúÍ∞Ñ Ï°∞Ìöå (View)

**Ï∞∏Í≥† Î¨∏ÏÑú**:
- `10_8Îã®Í≥Ñ_Îì±Í∏â_Ï≤¥Í≥Ñ.md` - Îì±Í∏â Ï≤¥Í≥Ñ ÏÉÅÏÑ∏
- `08-1_Bayesian_Prior_7.0_Ï≤†Ìïô.md` - Prior 7.0 Ï≤†Ìïô Î∞è Ïù¥Î°†
