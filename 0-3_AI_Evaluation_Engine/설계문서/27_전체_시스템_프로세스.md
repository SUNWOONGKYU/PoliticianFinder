# 전체 시스템 프로세스 (비전문가용)

**작성일**: 2025-10-26
**버전**: V4.0
**대상**: 코드를 모르는 일반 사용자

---

## 🎯 시스템 개요

정치인 평가 시스템이 어떻게 작동하는지 **코드 없이** 프로세스만 설명합니다.

---

## 📊 전체 흐름 (한눈에)

```
1. AI가 데이터 찾기 + 점수 매기기
   ↓
2. DB에 저장 (데이터 + 점수 모두)
   ↓
3. DB가 자동으로 최종 점수 계산
   ↓
4. 웹사이트에서 조회
   ↓
5. 사용자가 화면으로 확인
```

**핵심**: 각 단계가 자동으로 진행됩니다!

---

## 1️⃣ AI가 데이터 수집 및 평가

### 우리가 하는 일

**AI에게 질문**:
> "오세훈 서울시장의 부패 신고 건수 관련 데이터를 찾아서 -10점~+10점으로 평가해줘"

### AI가 하는 일

**AI 답변 (4가지 정보)**:

1. **제목**: "2022년 서울시 부패신고 15% 감소"
2. **내용**: "국정감사 자료에 따르면 오세훈 시장 재임 후 부패신고가 전년 대비 15% 감소했다"
3. **점수**: 8.5점 (AI가 판단한 점수)
4. **출처**: "2022년 국정감사 보고서"

**중요**: AI가 **데이터 찾기**와 **점수 매기기**를 동시에 수행합니다.

---

## 2️⃣ 데이터베이스(DB)에 저장

### 저장되는 내용

| 항목 | 값 | 설명 |
|-----|---|------|
| 정치인 이름 | 오세훈 | 누구를 평가했는지 |
| 분야 번호 | 1 | 청렴성 |
| 항목 번호 | 1 | 부패 신고 건수 |
| AI 이름 | Claude | 어느 AI가 평가했는지 |
| 제목 | "2022년 부패신고 15% 감소" | 데이터 제목 |
| 내용 | "국정감사 자료에..." | 데이터 상세 내용 |
| 점수 | 8.5점 | AI가 매긴 점수 |
| 출처 | "국정감사 보고서" | 어디서 가져온 정보인지 |
| 저장 시간 | 2025-10-26 10:30 | 언제 저장했는지 |

**핵심**:
- ✅ 데이터 전체를 저장 (투명성 확보)
- ✅ 점수도 함께 저장
- ✅ 출처까지 저장 (검증 가능)

---

## 3️⃣ DB가 자동으로 점수 계산

데이터가 저장되면 **사람이 아무것도 안 해도** DB가 알아서 계산합니다.

### 3-1. 항목 점수 자동 계산

**예시**: "부패 신고 건수" 항목에 데이터 10개 쌓임

| 데이터 | 점수 |
|-------|-----|
| 데이터 1 | 8.5점 |
| 데이터 2 | 7.2점 |
| 데이터 3 | 9.1점 |
| 데이터 4 | 8.0점 |
| 데이터 5 | 7.8점 |
| 데이터 6 | 8.3점 |
| 데이터 7 | 9.0점 |
| 데이터 8 | 7.5점 |
| 데이터 9 | 8.7점 |
| 데이터 10 | 7.9점 |

**DB가 자동으로**:
1. 평균 계산: (8.5 + 7.2 + 9.1 + ... + 7.9) / 10 = **8.0점**
2. 공식 적용: 7.0 + (8.0 / 10) × 3 = **9.4점**
3. 결과 저장: **항목 점수 = 9.4점**

### 3-2. 분야 점수 자동 계산

**청렴성 분야** (10개 항목)

| 항목 | 항목 점수 |
|-----|----------|
| 1. 부패 신고 건수 | 9.4점 |
| 2. 뇌물 의혹 | 8.7점 |
| 3. 청렴도 평가 | 9.2점 |
| 4. 윤리 위반 | 6.9점 |
| 5. 이해충돌 방지 | 7.3점 |
| 6. 재산 투명성 | 7.3점 |
| 7. 공금 사용 | 7.4점 |
| 8. 정치 자금 | 7.3점 |
| 9. 가족 비리 | 6.9점 |
| 10. 청렴 서약 | 7.3점 |

**DB가 자동으로**:
1. 평균 계산: (9.4 + 8.7 + ... + 7.3) / 10 = **7.2점**
2. 결과 저장: **청렴성 분야 점수 = 7.2점**

### 3-3. 최종 점수 자동 계산

**10개 분야**

| 분야 | 분야 점수 |
|-----|----------|
| 1. 청렴성 | 7.2점 |
| 2. 전문성 | 7.3점 |
| 3. 소통능력 | 7.3점 |
| 4. 정책능력 | 7.4점 |
| 5. 리더십 | 7.2점 |
| 6. 책임성 | 7.2점 |
| 7. 투명성 | 7.3점 |
| 8. 혁신성 | 7.3점 |
| 9. 포용성 | 7.3점 |
| 10. 효율성 | 7.4점 |

**DB가 자동으로**:
1. 합계 계산: 7.2 + 7.3 + 7.3 + ... + 7.4 = **72.07점**
2. 등급 계산: 72.07점 → **P (Platinum)** 등급
3. 결과 저장: **최종 점수 = 72.07점, P등급**

---

## 4️⃣ 실시간 업데이트

### 새 데이터 추가 시

```
[상황]
현재: 부패 신고 건수 항목 - 데이터 10개, 항목 점수 9.4점

[새 데이터 추가]
11번째 데이터 추가: 9.5점

[DB가 자동으로]
1. 평균 재계산 (11개 데이터 기준)
2. 항목 점수 재계산 → 9.41점
3. 분야 점수 재계산
4. 최종 점수 재계산

[결과]
업데이트 후: 데이터 11개, 항목 점수 9.41점
```

**핵심**: 데이터만 추가하면 모든 점수가 자동으로 업데이트!

---

## 5️⃣ 웹사이트 표시

### 사용자가 웹사이트 방문

**시나리오**: 사용자가 "오세훈" 검색

```
[1단계] 사용자
   검색창에 "오세훈" 입력 후 검색 버튼 클릭
   ↓

[2단계] 웹사이트 (프론트엔드)
   백엔드에 요청: "오세훈 점수 줘!"
   ↓

[3단계] 백엔드 (API 서버)
   DB에 조회: "오세훈 최종 점수 가져오기"
   ↓

[4단계] DB
   데이터 전송:
   - 이름: 오세훈
   - 점수: 72.07점
   - 등급: P (Platinum)
   - 분야별 점수: [7.2, 7.3, ...]
   ↓

[5단계] 백엔드
   받은 데이터를 웹사이트에 전달
   ↓

[6단계] 웹사이트
   화면에 예쁘게 표시
```

### 화면 표시 예시

```
┌──────────────────────────────────┐
│ 오세훈 (서울특별시장)             │
│                                  │
│ 최종 점수: 72.07점                │
│ 등급: 🥇 Platinum (P)            │
│                                  │
│ ──────────────────────────────   │
│                                  │
│ 분야별 점수:                      │
│ 1. 청렴성:    ████████░░ 7.2점   │
│ 2. 전문성:    ████████░░ 7.3점   │
│ 3. 소통능력:  ████████░░ 7.3점   │
│ 4. 정책능력:  ████████░░ 7.4점   │
│ 5. 리더십:    ████████░░ 7.2점   │
│ 6. 책임성:    ████████░░ 7.2점   │
│ 7. 투명성:    ████████░░ 7.3점   │
│ 8. 혁신성:    ████████░░ 7.3점   │
│ 9. 포용성:    ████████░░ 7.3점   │
│ 10. 효율성:   ████████░░ 7.4점   │
│                                  │
│ [상세보기] 버튼                   │
└──────────────────────────────────┘
```

---

## 📦 시스템 구성 요소

### 1. AI (Claude, ChatGPT 등)
**역할**: 데이터 찾기 + 점수 매기기
- 뉴스, 공식 자료 검색
- -10 ~ +10 점수 평가
- 출처 기록

### 2. 데이터베이스 (Supabase)
**역할**: 데이터 저장 + 자동 계산
- 원본 데이터 저장
- 항목 점수 자동 계산
- 분야 점수 자동 계산
- 최종 점수 자동 계산

### 3. 백엔드 (API 서버)
**역할**: DB와 웹사이트 연결
- 웹사이트 요청 받기
- DB에서 데이터 조회
- 웹사이트에 데이터 전달

### 4. 프론트엔드 (웹사이트)
**역할**: 사용자에게 표시
- 검색 기능
- 점수 표시
- 차트/그래프 표시

---

## 🔄 데이터 흐름 요약

```
AI (Claude)
│ - 데이터 찾기
│ - 점수 매기기 (-10 ~ +10)
│ - 출처 기록
↓
데이터베이스 (Supabase)
│ - 데이터 저장 (제목, 내용, 점수, 출처)
│ - 항목 점수 자동 계산 (4.0 ~ 10.0)
│ - 분야 점수 자동 계산 (4.0 ~ 10.0)
│ - 최종 점수 자동 계산 (40 ~ 100)
│ - 등급 자동 계산 (M, D, E, P, G, S, B, I)
↓
백엔드 (Next.js API)
│ - DB 데이터 조회
│ - 웹사이트에 전달
↓
프론트엔드 (웹사이트)
│ - 점수 표시
│ - 차트 표시
│ - 상세 정보 표시
↓
사용자
  - 화면으로 확인
  - 비교/검색
```

---

## ⚡ 자동화된 작업들

### 사람이 하는 일
1. ✅ AI에게 평가 요청
2. ✅ (끝!)

### 자동으로 되는 일
1. ✅ AI가 데이터 찾기
2. ✅ AI가 점수 매기기
3. ✅ DB에 저장
4. ✅ 항목 점수 계산
5. ✅ 분야 점수 계산
6. ✅ 최종 점수 계산
7. ✅ 등급 계산
8. ✅ 웹사이트 표시

**핵심**: 한 번 요청하면 나머지는 모두 자동!

---

## 🎯 투명성 및 검증

### 모든 단계가 투명합니다

1. **원본 데이터**: 제목, 내용, 출처 모두 저장
2. **AI 평가**: AI가 매긴 점수 저장
3. **계산 과정**: 공식 공개
4. **최종 결과**: 항목별, 분야별 점수 모두 공개

### 누구나 확인 가능

- ✅ 어떤 데이터로 평가했는지
- ✅ AI가 몇 점을 줬는지
- ✅ 어떻게 계산했는지
- ✅ 최종 점수가 어떻게 나왔는지

### 검증 및 수정 가능

- ✅ 잘못된 데이터 발견 시 삭제 가능
- ✅ 점수가 자동으로 재계산됨
- ✅ 이의 제기 시 근거 확인 가능

---

## 💡 핵심 장점

### 1. 자동화
- 데이터 입력만 하면 끝
- 모든 계산 자동
- 실시간 업데이트

### 2. 투명성
- 모든 데이터 공개
- 계산 과정 공개
- 출처 확인 가능

### 3. 공정성
- 같은 기준으로 평가
- AI가 객관적 판단
- 사람 개입 최소화

### 4. 확장성
- AI 추가 가능
- 정치인 추가 쉬움
- 시스템 구조 변경 없음

---

## 🔜 향후 발전 방향

### Phase 1 (현재)
- ✅ Claude AI 1개
- ✅ 테스트 정치인 1명
- ✅ 수동 데이터 수집

### Phase 2 (다음 단계)
- ⏳ AI 5개 (Claude, ChatGPT, Gemini, Grok, Perplexity)
- ⏳ 정치인 50명
- ⏳ 자동 데이터 수집

### Phase 3 (최종 목표)
- ⏳ 전국 모든 정치인
- ⏳ 주간 자동 업데이트
- ⏳ 사용자 제보 시스템
- ⏳ 모바일 앱

---

## ✅ 요약

### 전체 프로세스 (5단계)

1. **AI가 일함**: 데이터 찾기 + 점수 매기기
2. **DB에 저장**: 데이터 + 점수 저장
3. **DB가 계산**: 최종 점수까지 자동 계산
4. **웹사이트 조회**: 백엔드가 DB에서 가져옴
5. **화면 표시**: 사용자가 확인

### 핵심 메시지

**"데이터만 넣으면 끝! 나머지는 시스템이 알아서!"**

- 투명하고
- 자동이고
- 공정합니다!

---

**작성일**: 2025-10-26
**버전**: V4.0
**문서 상태**: ✅ 완료
