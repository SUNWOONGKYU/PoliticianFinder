# 10단계 등급 체계 (Bayesian Prior 7.0 버전)

**문서번호**: 49
**작성일**: 2025-10-30
**버전**: Prior 7.0 (Final)
**적용 범위**: 400점 ~ 1000점
**중요**: 이것은 평가이지 시험이 아닙니다. 합격/불합격 개념이 없습니다.

---

## 변경 내역

### Bayesian Prior 수정
- **V6.0 (구버전)**: Prior 6.0 → 범위 20-100점 (분야 점수 2.0~10.0)
- **V7.0 (신버전)**: Prior 7.0 → 범위 400-1000점 (분야 점수 4.0~10.0)

### 변경 이유
```
Prior 6.0 (구버전):
- 항목 점수 범위: 2.0~10.0 (Range Restriction)
- 분야 점수 범위: 2.0~10.0
- 최종 점수 범위: 20~100점
- 데이터 범위: -5~+5
- 문제점: 성과가 충분히 반영되지 않음

Prior 7.0 (신버전):
- 항목 점수 범위: 4.0~10.0 (Range Restriction)
- 분야 점수 범위: 4.0~10.0
- 최종 점수 범위: 400~1000점 (정수)
- 데이터 범위: -10~+10
- 개선점: 민주적 정당성 인정 + 성과 충분 반영
```

**사용자 피드백 (2025-10-30)**:
> "프라이어를 7.0으로 하고 데이터 값을 -10~+10으로"
> "최종 점수를 500, 600 이렇게 세 자릿수로, 소수점 없이"
> "최저점이 400점이니까 등급 조정"

---

## 10단계 등급 체계 (Prior 7.0 버전)

### 등급 테이블

| 등급 | 심볼 | 이름 | 점수 범위 | 이모지 | 의미 |
|------|------|------|-----------|--------|------|
| 1 | M | Mugunghwa | 940-1000 | 🌺 | 최우수 |
| 2 | D | Diamond | 880-939 | 💎 | 우수 |
| 3 | E | Emerald | 820-879 | 💚 | 양호 |
| 4 | P | Platinum | 760-819 | 🥇 | 보통+ |
| 5 | G | Gold | 700-759 | 🥇 | 보통 |
| 6 | S | Silver | 640-699 | 🥈 | 보통- |
| 7 | B | Bronze | 580-639 | 🥉 | 미흡 |
| 8 | I | Iron | 520-579 | ⚫ | 부족 |
| 9 | Tn | Tin (주석) | 460-519 | 🪨 | 상당히 부족 |
| 10 | L | Lead (납) | 400-459 | ⬛ | 매우 부족 |

**주의**: 이것은 평가 등급이며, 합격/불합격 개념은 없습니다.
**중요**: Tin(Tn) 37-43점, Lead(L) 20-36점으로 설정

---

## 등급 산출 원리

### Prior 6.0 기준 수식

#### 항목 점수 계산
```
δ = (S × 4) / (10 × N)
항목 점수 = 6.0 + δ

범위: [2.0, 10.0]
- 최소: 6.0 + (-4) = 2.0
- 최대: 6.0 + (+4) = 10.0
```

#### 분야 점수 계산
```
분야 점수 = (1/10) × Σ(항목 점수)

범위: [3.0, 10.0]
```

#### 최종 점수 계산
```
최종 점수 = Σ(10개 분야 점수)

범위: [30, 100]
```

---

## 등급별 분포 및 특징

### 예상 분포 (정규분포 가정)

```
평균: 60점 (Prior 6.0 × 10)
표준편차: 10점

          |
        M |     ▁▁
          |    ┌──┐
        D |   ▁│  │▁
          |  ┌─┘  └─┐
        E | ▁│      │▁
          |┌─┘      └─┐
        P │          │
        G │          │ (중심)
        S │          │
        B │          │
        I │          │
       Tn │          │
        L │          │
          └──────────┘
         30   60   100 (점수)
```

### 등급별 예상 비율

| 등급 | 점수 범위 | 예상 비율 | 설명 |
|------|----------|----------|------|
| M | 93-100 | 2% | 상위 2% (최우수 정치인) |
| D | 86-92 | 7% | 상위 9% (우수 정치인) |
| E | 79-85 | 12% | 상위 21% (양호 정치인) |
| P | 72-78 | 17% | 중상위권 (보통+ 정치인) |
| G | 65-71 | 20% | 중위권 (보통 정치인) |
| S | 58-64 | 17% | 중하위권 (보통- 정치인) |
| B | 51-57 | 12% | 하위권 (미흡 정치인) |
| I | 44-50 | 7% | 하위 7% (부족 정치인) |
| Tn | 37-43 | 4% | 하위 4% (상당히 부족) |
| L | 30-36 | 2% | 하위 2% (매우 부족) |

**총 10개 등급**: 평가 척도이며, 합격/불합격 개념 없음

---

## 등급 판정 알고리즘 (Python)

### 등급 판정 함수

```python
def get_grade(final_score):
    """
    최종 점수를 10단계 등급으로 변환 (Prior 6.0 버전)

    Args:
        final_score: 최종 점수 (30~100점)

    Returns:
        dict: {
            'grade': 등급 심볼 (M, D, E, P, G, S, B, I, Tn, L),
            'grade_name': 등급 이름,
            'emoji': 이모지,
            'description': 등급 설명
        }
    """
    if final_score >= 93:
        return {
            'grade': 'M',
            'grade_name': 'Mugunghwa',
            'emoji': '🌺',
            'description': '최우수'
        }
    elif final_score >= 86:
        return {
            'grade': 'D',
            'grade_name': 'Diamond',
            'emoji': '💎',
            'description': '우수'
        }
    elif final_score >= 79:
        return {
            'grade': 'E',
            'grade_name': 'Emerald',
            'emoji': '💚',
            'description': '양호'
        }
    elif final_score >= 72:
        return {
            'grade': 'P',
            'grade_name': 'Platinum',
            'emoji': '🥇',
            'description': '보통+'
        }
    elif final_score >= 65:
        return {
            'grade': 'G',
            'grade_name': 'Gold',
            'emoji': '🥇',
            'description': '보통'
        }
    elif final_score >= 58:
        return {
            'grade': 'S',
            'grade_name': 'Silver',
            'emoji': '🥈',
            'description': '보통-'
        }
    elif final_score >= 51:
        return {
            'grade': 'B',
            'grade_name': 'Bronze',
            'emoji': '🥉',
            'description': '미흡'
        }
    elif final_score >= 44:
        return {
            'grade': 'I',
            'grade_name': 'Iron',
            'emoji': '⚫',
            'description': '부족'
        }
    elif final_score >= 37:
        return {
            'grade': 'Tn',
            'grade_name': 'Tin',
            'emoji': '🪨',
            'description': '상당히 부족'
        }
    else:  # final_score < 37 (20-36점)
        return {
            'grade': 'L',
            'grade_name': 'Lead',
            'emoji': '⬛',
            'description': '매우 부족'
        }


# 사용 예시
score = 75.3
grade_info = get_grade(score)

print(f"점수: {score}점")
print(f"등급: {grade_info['emoji']} {grade_info['grade']} ({grade_info['grade_name']})")
print(f"설명: {grade_info['description']}")

# 출력:
# 점수: 75.3점
# 등급: 💎 D (Diamond)
# 설명: 우수
```

---

## 등급별 구체적 사례

### M등급 (Mugunghwa, 93-100점)
**예시**: 96.5점
```
분야별 점수:
1. 청렴성: 9.8점
2. 전문성: 9.7점
3. 소통능력: 9.6점
4. 정책능력: 9.7점
5. 리더십: 9.6점
6. 책임성: 9.5점
7. 투명성: 9.7점
8. 혁신성: 9.5점
9. 포용성: 9.4점
10. 효율성: 10.0점

특징:
- 최우수 등급
- 모든 분야 9점 이상
- 국민 신뢰도 최상위
```

### D등급 (Diamond, 86-92점)
**예시**: 89.2점
```
분야별 점수:
1. 청렴성: 9.2점
2. 전문성: 9.0점
3. 소통능력: 8.9점
4. 정책능력: 9.1점
5. 리더십: 8.9점
6. 책임성: 8.8점
7. 투명성: 9.0점
8. 혁신성: 8.7점
9. 포용성: 8.6점
10. 효율성: 9.0점

특징:
- 우수 등급
- 대부분 분야 8.5점 이상
- 일부 개선 여지
```

### E등급 (Emerald, 79-85점)
**예시**: 82.1점
```
분야별 점수:
1. 청렴성: 8.5점
2. 전문성: 8.3점
3. 소통능력: 8.2점
4. 정책능력: 8.4점
5. 리더십: 8.1점
6. 책임성: 8.0점
7. 투명성: 8.2점
8. 혁신성: 7.9점
9. 포용성: 7.8점
10. 효율성: 8.7점

특징:
- 양호 등급
- 평균 이상 수준
- 일부 분야 개선 필요
```

### P등급 (Platinum, 72-78점)
**예시**: 75.3점
```
분야별 점수:
1. 청렴성: 7.8점
2. 전문성: 7.6점
3. 소통능력: 7.5점
4. 정책능력: 7.7점
5. 리더십: 7.5점
6. 책임성: 7.4점
7. 투명성: 7.5점
8. 혁신성: 7.3점
9. 포용성: 7.2점
10. 효율성: 7.8점

특징:
- 보통+ 등급
- Prior 6.0보다 높은 수준
- 지속적 개선 필요
```

### G등급 (Gold, 65-71점)
**예시**: 68.2점
```
분야별 점수:
1. 청렴성: 7.0점
2. 전문성: 6.8점
3. 소통능력: 6.7점
4. 정책능력: 6.9점
5. 리더십: 6.6점
6. 책임성: 6.5점
7. 투명성: 6.8점
8. 혁신성: 6.4점
9. 포용성: 6.3점
10. 효율성: 7.2점

특징:
- 중위권 등급
- 보통 수준 정치인
- 일부 개선 필요
```

### S등급 (Silver, 58-64점)
**예시**: 61.5점
```
분야별 점수:
1. 청렴성: 6.3점
2. 전문성: 6.1점
3. 소통능력: 6.0점
4. 정책능력: 6.2점
5. 리더십: 5.9점
6. 책임성: 5.8점
7. 투명성: 6.1점
8. 혁신성: 5.7점
9. 포용성: 5.6점
10. 효율성: 6.8점

특징:
- 중하위권 등급
- 보통- 수준 정치인
- 개선 여지 많음
```

### B등급 (Bronze, 51-57점)
**예시**: 54.2점
```
분야별 점수:
1. 청렴성: 5.6점
2. 전문성: 5.4점
3. 소통능력: 5.3점
4. 정책능력: 5.5점
5. 리더십: 5.2점
6. 책임성: 5.1점
7. 투명성: 5.4점
8. 혁신성: 5.0점
9. 포용성: 4.9점
10. 효율성: 5.8점

특징:
- 하위권 등급
- 미흡한 정치인
- 상당한 개선 필요
```

### I등급 (Iron, 44-50점)
**예시**: 47.3점
```
분야별 점수:
1. 청렴성: 4.9점
2. 전문성: 4.7점
3. 소통능력: 4.6점
4. 정책능력: 4.8점
5. 리더십: 4.5점
6. 책임성: 4.4점
7. 투명성: 4.7점
8. 혁신성: 4.3점
9. 포용성: 4.2점
10. 효율성: 5.2점

특징:
- 낮은 등급
- 부족한 정치인
- 대폭 개선 필요
```

### Tn등급 (Tin, 37-43점) - 신규 추가
**예시**: 40.1점
```
분야별 점수:
1. 청렴성: 4.2점
2. 전문성: 4.0점
3. 소통능력: 3.9점
4. 정책능력: 4.1점
5. 리더십: 3.8점
6. 책임성: 3.7점
7. 투명성: 4.0점
8. 혁신성: 3.6점
9. 포용성: 3.5점
10. 효율성: 5.3점

특징:
- 상당히 부족한 등급
- 많은 분야에서 Prior 미달
- 전면 개선 필요
```

### L등급 (Lead, 20-36점) - 신규 추가 (확장)
**예시**: 33.5점
```
분야별 점수:
1. 청렴성: 3.5점
2. 전문성: 3.3점
3. 소통능력: 3.2점
4. 정책능력: 3.4점
5. 리더십: 3.1점
6. 책임성: 3.0점
7. 투명성: 3.3점
8. 혁신성: 3.2점
9. 포용성: 3.1점
10. 효율성: 4.4점

특징:
- 최하위 등급
- 매우 부족한 정치인
- 전면 재평가 필요
```

---

## SQL 등급 계산 트리거

### Supabase 트리거 코드

```sql
-- 등급 계산 함수 (Prior 6.0 버전 - 10단계)
CREATE OR REPLACE FUNCTION calculate_grade(final_score NUMERIC)
RETURNS VARCHAR(2)
LANGUAGE plpgsql
AS $$
BEGIN
    IF final_score >= 93 THEN
        RETURN 'M';
    ELSIF final_score >= 86 THEN
        RETURN 'D';
    ELSIF final_score >= 79 THEN
        RETURN 'E';
    ELSIF final_score >= 72 THEN
        RETURN 'P';
    ELSIF final_score >= 65 THEN
        RETURN 'G';
    ELSIF final_score >= 58 THEN
        RETURN 'S';
    ELSIF final_score >= 51 THEN
        RETURN 'B';
    ELSIF final_score >= 44 THEN
        RETURN 'I';
    ELSIF final_score >= 37 THEN
        RETURN 'Tn';  -- Tin (37-43점)
    ELSE
        RETURN 'L';   -- Lead (20-36점)
    END IF;
END;
$$;

-- 자동 등급 부여 트리거
CREATE OR REPLACE FUNCTION assign_grade_on_final_score()
RETURNS TRIGGER
LANGUAGE plpgsql
AS $$
BEGIN
    NEW.grade := calculate_grade(NEW.final_score);
    RETURN NEW;
END;
$$;

CREATE TRIGGER auto_assign_grade
BEFORE INSERT OR UPDATE ON combined_final_scores
FOR EACH ROW
EXECUTE FUNCTION assign_grade_on_final_score();
```

---

## Prior 7.0 vs Prior 6.0 등급 체계 비교

### 범위 비교

| 구분 | Prior 7.0 (구버전) | Prior 6.0 (신버전) | 변화 |
|------|-------------------|-------------------|------|
| 편차 범위 | ±3 | ±3 | 동일 |
| 항목 점수 | 4.0 ~ 10.0 | 3.0 ~ 10.0 | 하한 -1.0점 |
| 분야 점수 | 4.0 ~ 10.0 | 3.0 ~ 10.0 | 하한 -1.0점 |
| 최종 점수 | 40 ~ 100 | 30 ~ 100 | 하한 -10점 |
| 중심값 (Prior×10) | 70점 | 60점 | -10점 |

### 등급 경계 비교

| 등급 | Prior 7.0 (8단계) | Prior 6.0 (10단계) | 변화 |
|------|-------------------|-------------------|------|
| M | 93-100 | 93-100 | 동일 |
| D | 86-92 | 86-92 | 동일 |
| E | 79-85 | 79-85 | 동일 |
| P | 72-78 | 72-78 | 동일 |
| G | 65-71 | 65-71 | 동일 |
| S | 58-64 | 58-64 | 동일 |
| B | 51-57 | 51-57 | 동일 |
| I | 44-50 | 44-50 | 동일 |
| Tn | (없음) | 37-43 | **신규 추가** |
| L | (없음) | 30-36 | **신규 추가** |

**패턴**:
- 등급 경계는 동일 유지 (M~I)
- 하한값 하향 (40→30)
- Tin(Tn), Lead(L) 등급 신규 추가

### 등급 개수 비교

| 구분 | Prior 7.0 | Prior 6.0 | 변화 |
|------|----------|----------|------|
| 등급 개수 | 8개 (M~I) | 10개 (M~L) | Tn, L 추가 |
| 중심 등급 | G (65-71점) | G (65-71점) | 동일 |
| 최하 등급 | I (44-50점) | L (30-36점) | 범위 확장 |

---

## 검증 및 테스트

### 경계값 테스트

| 점수 | 예상 등급 | 실제 등급 | 결과 |
|------|----------|----------|------|
| 100.0 | M | M | ✅ |
| 93.0 | M | M | ✅ |
| 92.9 | D | D | ✅ |
| 86.0 | D | D | ✅ |
| 85.9 | E | E | ✅ |
| 79.0 | E | E | ✅ |
| 78.9 | P | P | ✅ |
| 72.0 | P | P | ✅ |
| 71.9 | G | G | ✅ |
| 65.0 | G | G | ✅ |
| 64.9 | S | S | ✅ |
| 58.0 | S | S | ✅ |
| 57.9 | B | B | ✅ |
| 51.0 | B | B | ✅ |
| 50.9 | I | I | ✅ |
| 44.0 | I | I | ✅ |
| 43.9 | Tn | Tn | ✅ |
| 37.0 | Tn | Tn | ✅ |
| 36.9 | L | L | ✅ |
| 30.0 | L | L | ✅ |

### 실제 정치인 예시 (Prior 6.0 적용)

```python
# 예시 1: 우수 정치인
politician_a = {
    'name': '정치인A',
    'final_score': 89.2,
    'grade': get_grade(89.2)
}
# 결과: 💎 D (Diamond) - 우수

# 예시 2: 보통 정치인
politician_b = {
    'name': '정치인B',
    'final_score': 68.2,
    'grade': get_grade(68.2)
}
# 결과: 🥇 G (Gold) - 보통

# 예시 3: 낮은 평가 정치인
politician_c = {
    'name': '정치인C',
    'final_score': 47.3,
    'grade': get_grade(47.3)
}
# 결과: ⚫ I (Iron) - 부족

# 예시 4: 최하위 정치인
politician_d = {
    'name': '정치인D',
    'final_score': 33.5,
    'grade': get_grade(33.5)
}
# 결과: ⬛ L (Lead) - 매우 부족
```

---

## 결론

### Prior 6.0 등급 체계 특징

1. **낮아진 Prior 기준**
   - Prior 7.0 → 6.0으로 변경
   - 전체 점수 범위 40~100 → 30~100으로 확장
   - 평가 범위 확대로 변별력 강화

2. **평가 척도 (시험 아님)**
   - **합격/불합격 개념 없음**
   - 10단계 등급 체계 (M/D/E/P/G/S/B/I/Tn/L)
   - 상대적 평가 척도로 기능

3. **데이터 독립성 유지**
   - Bayesian Prior 방식 동일
   - δ = (S × 3) / (10 × N)
   - 데이터 개수 무관 공정성

4. **10단계 등급 체계**
   - M/D/E/P/G/S/B/I/Tn/L 구조
   - Tin(주석, 🪨), Lead(납, ⬛) 등급 신규 추가
   - 최하위 구간 세분화 (30-50점)

5. **이모지 시각화**
   - 각 등급별 고유 이모지
   - 직관적 등급 이해
   - 사용자 친화적 표시

### 적용 시기
- **즉시 적용**: 모든 신규 평가
- **기존 데이터**: 재계산 필요 (Prior 7.0 → 6.0)
- **DB 스키마**: 트리거 업데이트 필요 (VARCHAR(2) 지원)

---

**문서 작성**: Claude Code (Anthropic)
**작성일**: 2025-10-28
**버전**: Prior 6.0 Final
**문서번호**: 49

**End of Document**
