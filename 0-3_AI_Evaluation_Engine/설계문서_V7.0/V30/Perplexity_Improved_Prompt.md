# Perplexity 개선 프롬프트 (역할 분담 명확화)

**작성일**: 2026-01-26
**원칙**: Gemini와 겹치지 않게 뉴스/언론만 전담

---

## 개선된 Perplexity 프롬프트

```python
elif ai_name == "Perplexity":
    # Perplexity: 뉴스/언론 전담 (Gemini와 역할 분담)

    # 분기 선택 (8분기 순환)
    quarters = [
        ("2026년 1월", "2026-01"),
        ("2025년 Q4", "2025-10 to 2025-12"),
        ("2025년 Q3", "2025-07 to 2025-09"),
        ("2025년 Q2", "2025-04 to 2025-06"),
        ("2025년 Q1", "2025-01 to 2025-03"),
        ("2024년 Q4", "2024-10 to 2024-12"),
        ("2024년 Q3", "2024-07 to 2024-09"),
        ("2024년 Q2", "2024-04 to 2024-06"),
    ]
    quarter_label, quarter_filter = quarters[round_num % len(quarters)]

    # 키워드 패턴 (언론 보도 특화)
    keyword_patterns = [
        f"{item_keywords}",                          # 기본
        f"{item_keywords} 발언",                      # 발언
        f"{item_keywords} 논평",                      # 논평
        f"{item_keywords} 평가",                      # 평가
        f"{item_keywords} 분석",                      # 분석
        f"{item_keywords} 보도",                      # 보도
        f"{item_keywords} 기자회견",                  # 회견
        f"{item_keywords} 인터뷰",                    # 인터뷰
    ]
    keyword = keyword_patterns[round_num % len(keyword_patterns)]

    return f"""{politician_full} {keyword} 언론 보도

【Perplexity 전담: 뉴스/언론 보도 (Gemini와 역할 분담)】

위 키워드로 {politician_full} 관련 언론 보도를 찾아주세요.

{topic_instruction}

✅ 수집 대상 (뉴스/언론만):

[국내 신문 - 15개]
- 종합지: 조선일보, 중앙일보, 동아일보, 한겨레, 경향신문
- 경제지: 매일경제, 한국경제, 서울경제, 아시아경제, 헤럴드경제
- 지역지: 부산일보, 강원일보, 영남일보, 전남일보, 제주일보

[방송사 - 10개]
- 지상파: KBS, MBC, SBS
- 종편: JTBC, TV조선, MBN, 채널A
- 보도: YTN, 연합뉴스TV, MBC뉴스데스크

[통신사 - 5개]
- 연합뉴스, 뉴시스, 뉴스1, 이데일리, 파이낸셜뉴스

[인터넷 언론 - 10개]
- 오마이뉴스, 프레시안, 미디어오늘, 뉴스타파, 노컷뉴스
- 데일리안, 뉴데일리, 디지털타임스, 블로터, 테크크런치

[외신 - 15개]
- 통신: 로이터, AP, AFP, 블룸버그
- 방송: BBC, CNN, NHK, Al Jazeera
- 신문: NYT, 워싱턴포스트, 월스트리트저널, 가디언, 파이낸셜타임스
- 아시아: 아사히신문, 요미우리신문

🚫 수집 금지 (Gemini 담당):
- ❌ SNS (유튜브, 인스타그램, 페이스북)
- ❌ X/트위터
- ❌ 블로그 (네이버, 브런치, 티스토리)
- ❌ 위키 (나무위키, 위키피디아)
- ❌ 커뮤니티 (클리앙, 디시인사이드 등)

📰 기사 유형 (다양하게):
- 단독 보도, 심층 분석, 팩트체크
- 인터뷰, 사설/칼럼, 속보
- 특집 기사, 기획 시리즈

⏰ 기간: {quarter_label} ({quarter_filter})
📊 개수: {min(remaining, 10)}개

🎯 중복 방지 전략:
- 다양한 언론사 (55개 중 골고루)
- 다양한 시기 (8분기 중 순환)
- 다양한 기사 유형
- 다양한 키워드 조합

JSON 형식:
[{{
  "title": "기사 제목",
  "content": "내용 요약 (100자 이내)",
  "source": "언론사명 (위 리스트에서만)",
  "source_url": "실제 기사 URL",
  "date": "YYYY-MM-DD"
}}]

⚠️ 중요:
1. 반드시 위 55개 언론사 중에서만 수집
2. SNS, 블로그, 위키는 절대 수집 금지 (Gemini 담당)
3. 실제 언론 보도만 수집 (가짜 URL 금지)
4. 다양한 언론사에서 골고루 수집하여 중복 최소화"""
```

---

## 역할 분담 요약

### Perplexity (PUBLIC 25개)

**전담 영역: 뉴스/언론 (55개 언론사)**

```
[15] 국내 신문
[10] 방송사
[5]  통신사
[10] 인터넷 언론
[15] 외신
──────────────
[55] 총 언론사
```

**다양화 전략:**
- 8분기 시간대 순환
- 8가지 키워드 패턴
- 6가지 기사 유형
- 55개 언론사

**조합:** 8 × 8 × 6 × 55 = **21,120가지 조합** ✅

### Gemini (PUBLIC 25개)

**전담 영역: 비언론**

```
[3]  SNS (유튜브, 인스타, 페북)
[2]  위키 (나무위키, 위키피디아)
[3]  블로그 (네이버, 브런치, 티스토리)
[10] 커뮤니티 (클리앙, 디시, 오유 등)
──────────────
[18] 총 플랫폼
```

**겹치지 않음! ✅**

---

## 개선 효과 예측

### 현재 (Perplexity)

```
언론사: 17개
시간대: 2년 전체
키워드: 단순 조합
──────────────
조합: 17 × 1 × 1 = 17가지
중복률: 87.5%
수집: 15/120 (12.5%)
```

### 개선 후 (Perplexity)

```
언론사: 55개 (3.2배)
시간대: 8분기 (8배)
키워드: 8패턴 (8배)
──────────────
조합: 55 × 8 × 8 = 3,520가지 (207배!)
예상 중복률: 20-30%
예상 수집: 70-80/100 (70-80%)
```

**결과:**
- 189/250 → 250/250 완료 예상! ✅

---

## 코드 적용 위치

**collect_v30.py Line 1229-1255**

현재 Perplexity 프롬프트를 위 개선안으로 교체.

---

**최종 업데이트**: 2026-01-26
**핵심 원칙**: Gemini(비언론) vs Perplexity(언론) 역할 분담 명확화
