# V40 ì¶”ê°€ í‰ê°€ ë°©ë²• ì—°êµ¬ ë³´ê³ ì„œ

**ì‘ì„±ì¼**: 2026-02-12
**ì—°êµ¬ ë°°ê²½**: 4ê°œ AI ëª¨ë‘ CLI/Direct ë°©ì‹ ì „í™˜ í›„ ì¶”ê°€ í‰ê°€ ì „ëµ ì¬ì •ë¦½ í•„ìš”

---

## ğŸ“‹ ë¬¸ì œ ì •ì˜

### ê¸°ì¡´ ìƒí™© (ë¬¸ì œ ë°œìƒ)
```
evaluate_missing_v40_api.py:
  - ChatGPT, Grokë§Œ ì§€ì› (API ë°©ì‹ ì „ìš©)
  - Claude, GeminiëŠ” "ê¸°ì¡´ CLI ë°©ì‹ ì‚¬ìš©í•˜ë¼"ê³ ë§Œ ëª…ì‹œ
  - âš ï¸ ì‹¤ì œë¡œëŠ” ChatGPTë„ ì´ì œ Codex CLI ì‚¬ìš©!
```

### í˜„ì¬ í‰ê°€ ë°©ì‹ (ì‹¤ì œ)
| AI | í‰ê°€ ë°©ì‹ | ìŠ¤í¬ë¦½íŠ¸ | ë¹„ê³  |
|---|---------|---------|------|
| Claude | Anthropic API | `claude_eval_helper.py` | API í‚¤ í•„ìš” |
| ChatGPT | Codex CLI | `codex_eval_helper.py` | stdin ë°©ì‹ |
| Gemini | Gemini CLI Subprocess | `evaluate_gemini_subprocess.py` | Google ê³„ì • ì¸ì¦ |
| Grok | xAI API | `grok_eval_helper.py` | xAI API í‚¤ í•„ìš” |

---

## ğŸ” ì—°êµ¬ ê²°ê³¼

### 1. ê¸°ì¡´ "ì¶”ê°€ í‰ê°€" ìŠ¤í¬ë¦½íŠ¸ ë¶„ì„

**íŒŒì¼**: `scripts/core/evaluate_missing_v40_api.py`

**ì§€ì› AI**:
- âœ… ChatGPT (OpenAI API - gpt-4o)
- âœ… Grok (Groq API - grok-2-1212)
- âŒ Claude (ë¯¸ì§€ì› - "CLI ë°©ì‹ ì‚¬ìš©í•˜ë¼"ê³ ë§Œ ëª…ì‹œ)
- âŒ Gemini (ë¯¸ì§€ì› - "CLI ë°©ì‹ ì‚¬ìš©í•˜ë¼"ê³ ë§Œ ëª…ì‹œ)

**í•µì‹¬ ê¸°ëŠ¥**:
```python
def get_missing_data(politician_id, evaluator_ai, category=None):
    """íŠ¹ì • AIê°€ í‰ê°€í•˜ì§€ ì•Šì€ ë°ì´í„°ë§Œ ì°¾ê¸°"""
    # 1. ì „ì²´ ìˆ˜ì§‘ ë°ì´í„°
    # 2. í•´ë‹¹ AIê°€ ì´ë¯¸ í‰ê°€í•œ collected_data_id
    # 3. ë¯¸í‰ê°€ ë°ì´í„° ì¶”ì¶œ (ì§‘í•© ì—°ì‚°)
```

**ë¬¸ì œì **:
1. ChatGPTëŠ” ì‹¤ì œë¡œ Codex CLIë¥¼ ì‚¬ìš©í•˜ëŠ”ë°, ìŠ¤í¬ë¦½íŠ¸ëŠ” OpenAI API ì‚¬ìš©
2. Grokì€ Groq APIë¥¼ ì‚¬ìš©í•˜ëŠ”ë°, ì‹¤ì œë¡œëŠ” xAI API ì‚¬ìš©
3. Claude, GeminiëŠ” ì•„ì˜ˆ ì§€ì›í•˜ì§€ ì•ŠìŒ

---

### 2. ì‹¤ì œ Helper ìŠ¤í¬ë¦½íŠ¸ ë¶„ì„

#### A. Claude Helper
**íŒŒì¼**: `scripts/helpers/claude_eval_helper.py`

**ë°©ì‹**: Anthropic API ì§ì ‘ í˜¸ì¶œ
```python
client = anthropic.Anthropic(api_key=os.getenv('ANTHROPIC_API_KEY'))
message = client.messages.create(
    model="claude-3-5-sonnet-20241022",
    ...
)
```

**ë¯¸í‰ê°€ ë°ì´í„° ì¡°íšŒ**: âœ… ìì²´ êµ¬í˜„
```python
def get_unevaluated_data(politician_id, category):
    # evaluations_v40ì—ì„œ ì´ë¯¸ í‰ê°€ëœ ID ì¡°íšŒ
    # collected_data_v40ì—ì„œ ì „ì²´ ì¡°íšŒ
    # ì°¨ì§‘í•©ìœ¼ë¡œ ë¯¸í‰ê°€ ì¶”ì¶œ
```

#### B. ChatGPT Helper (Codex CLI)
**íŒŒì¼**: `scripts/helpers/codex_eval_helper.py`

**ë°©ì‹**: Codex CLI stdin ë°©ì‹
```python
result = subprocess.run(
    ['codex', 'exec'],
    input=prompt,
    capture_output=True,
    text=True,
    encoding='utf-8',
    timeout=60,
    shell=True
)
```

**ë¯¸í‰ê°€ ë°ì´í„° ì¡°íšŒ**: âœ… ìì²´ êµ¬í˜„
```python
def get_unevaluated_data(politician_id, category):
    # claude_eval_helper.pyì™€ ë™ì¼í•œ ë¡œì§
```

#### C. Gemini Helper (CLI Subprocess)
**íŒŒì¼**: `scripts/workflow/evaluate_gemini_subprocess.py`

**ë°©ì‹**: Gemini CLI Subprocess í˜¸ì¶œ
```python
result = subprocess.run(
    gemini_cmd,
    cwd=CORE_DIR,
    capture_output=True,
    text=True,
    encoding='utf-8',
    timeout=timeout,
    shell=False
)
```

**ë¯¸í‰ê°€ ë°ì´í„° ì¡°íšŒ**: âœ… ìì²´ êµ¬í˜„
```python
def get_unevaluated_data_for_ai(politician_id, category):
    # ë™ì¼í•œ ë¡œì§
```

#### D. Grok Helper (xAI API)
**íŒŒì¼**: `scripts/helpers/grok_eval_helper.py`

**ë°©ì‹**: xAI API ì§ì ‘ í˜¸ì¶œ (requests)
```python
response = requests.post(
    XAI_API_URL,  # https://api.x.ai/v1/chat/completions
    headers={'Authorization': f'Bearer {XAI_API_KEY}'},
    json=payload,
    timeout=60
)
```

**ë¯¸í‰ê°€ ë°ì´í„° ì¡°íšŒ**: âœ… ìì²´ êµ¬í˜„
```python
def get_unevaluated_data(politician_id, category):
    # ë™ì¼í•œ ë¡œì§
```

---

## ğŸ¯ ê²°ë¡  ë° í•´ê²° ë°©ì•ˆ

### í•µì‹¬ ë°œê²¬

**â­ ëª¨ë“  Helper ìŠ¤í¬ë¦½íŠ¸ê°€ ìì²´ì ìœ¼ë¡œ ë¯¸í‰ê°€ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ëŠ” ê¸°ëŠ¥ì„ ê°–ì¶”ê³  ìˆìŒ!**

ì¦‰, `evaluate_missing_v40_api.py`ëŠ” **ë” ì´ìƒ í•„ìš” ì—†ìŒ** (Deprecated)

---

## âœ… ìƒˆë¡œìš´ ì¶”ê°€ í‰ê°€ ë°©ë²• (V40 ê³µì‹ ê°€ì´ë“œ)

### ë°©ë²• 1: ê°œë³„ Helper ì§ì ‘ ì‹¤í–‰ (ê¶Œì¥)

ê° AIë³„ Helper ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì§ì ‘ ì‹¤í–‰í•˜ë©´ ìë™ìœ¼ë¡œ ë¯¸í‰ê°€ ë°ì´í„°ë§Œ í‰ê°€í•©ë‹ˆë‹¤.

#### Claude ì¶”ê°€ í‰ê°€
```bash
cd V40/scripts/helpers
python claude_eval_helper.py \
  --politician_id=8c5dcc89 \
  --politician_name="ë°•ì£¼ë¯¼" \
  --category=expertise \
  --batch_size=25
```

#### ChatGPT ì¶”ê°€ í‰ê°€
```bash
cd V40/scripts/helpers
python codex_eval_helper.py \
  --politician_id=8c5dcc89 \
  --politician_name="ë°•ì£¼ë¯¼" \
  --category=expertise \
  --batch_size=25
```

#### Gemini ì¶”ê°€ í‰ê°€
```bash
cd V40/scripts/workflow
python evaluate_gemini_subprocess.py \
  --politician "ë°•ì£¼ë¯¼" \
  --category "expertise"
```

#### Grok ì¶”ê°€ í‰ê°€
```bash
cd V40/scripts/helpers
python grok_eval_helper.py \
  --politician_id=8c5dcc89 \
  --politician_name="ë°•ì£¼ë¯¼" \
  --category=expertise \
  --batch_size=25
```

### ë°©ë²• 2: ì „ì²´ ì¹´í…Œê³ ë¦¬ ì¼ê´„ ì¶”ê°€ í‰ê°€

ë¯¸í‰ê°€ ìƒíƒœë¥¼ í™•ì¸í•˜ê³  í•„ìš”í•œ AIë§Œ ì‹¤í–‰:

```bash
# 1. í˜„ì¬ í‰ê°€ ìƒíƒœ í™•ì¸
cd V40/scripts/utils
python check_evaluation_status.py --politician "ë°•ì£¼ë¯¼"

# 2. í•„ìš”í•œ AIì˜ Helper ì‹¤í–‰
# (ìœ„ ë°©ë²• 1 ì°¸ì¡°)
```

---

## ğŸ“Š ë¹„êµí‘œ: ê¸°ì¡´ vs ìƒˆë¡œìš´ ë°©ë²•

| êµ¬ë¶„ | ê¸°ì¡´ ë°©ë²• | ìƒˆë¡œìš´ ë°©ë²• |
|-----|----------|------------|
| ìŠ¤í¬ë¦½íŠ¸ | `evaluate_missing_v40_api.py` | ê° AIë³„ Helper |
| ì§€ì› AI | ChatGPT, Grokë§Œ | 4ê°œ AI ëª¨ë‘ |
| API ë°©ì‹ | OpenAI API, Groq API | ì‹¤ì œ ì‚¬ìš© ë°©ì‹ê³¼ ì¼ì¹˜ |
| ë¯¸í‰ê°€ ì¡°íšŒ | ë³„ë„ í•¨ìˆ˜ | Helper ìì²´ ë‚´ì¥ |
| ë°°ì¹˜ í¬ê¸° | 25ê°œ ê³ ì • | 25ê°œ (Helper ê¸°ë³¸ê°’) |
| ìœ ì§€ë³´ìˆ˜ | ì–´ë ¤ì›€ (ë¶ˆì¼ì¹˜) | ì‰¬ì›€ (ë‹¨ì¼ ì§„ì‹¤) |

---

## ğŸ”§ ê¶Œì¥ ì¡°ì¹˜

### ì¦‰ì‹œ ì¡°ì¹˜
1. **`evaluate_missing_v40_api.py` Deprecated ì²˜ë¦¬**
   - íŒŒì¼ëª… ë³€ê²½: `evaluate_missing_v40_api.py.deprecated`
   - ë˜ëŠ” íŒŒì¼ ìƒë‹¨ì— ê²½ê³  ì¶”ê°€

2. **ë¬¸ì„œ ì—…ë°ì´íŠ¸**
   - `V40_ì „ì²´_í”„ë¡œì„¸ìŠ¤_ê°€ì´ë“œ.md`: ì¶”ê°€ í‰ê°€ ì„¹ì…˜ ìˆ˜ì •
   - `README.md`: Helper ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš©ë²• ê°•ì¡°

### ìƒˆë¡œìš´ ì¶”ê°€ í‰ê°€ ê°€ì´ë“œ ì‘ì„±
- **íŒŒì¼**: `instructions/V40_ì¶”ê°€í‰ê°€_ê°€ì´ë“œ.md`
- **ë‚´ìš©**: ê° AIë³„ Helper ì‚¬ìš©ë²• ìƒì„¸ ì„¤ëª…

---

## ğŸ“ ì‹¤ì „ ì˜ˆì‹œ

### ì‹œë‚˜ë¦¬ì˜¤: Gemini publicinterest 1ê°œ í‰ê°€ ëˆ„ë½

**ë¬¸ì œ ë°œê²¬**:
```
Gemini publicinterest: 97/98 (1ê°œ ëˆ„ë½)
```

**í•´ê²° ë°©ë²•** (ìƒˆë¡œìš´ ë°©ì‹):
```bash
cd V40/scripts/workflow
python evaluate_gemini_subprocess.py --politician "ë°•ì£¼ë¯¼" --category "publicinterest"
```

**ê²°ê³¼**:
- ìë™ìœ¼ë¡œ ë¯¸í‰ê°€ ë°ì´í„°(1ê°œ) ê°ì§€
- í•´ë‹¹ ë°ì´í„°ë§Œ í‰ê°€ ì‹œë„
- (í˜„ì¬ëŠ” ê¸°ìˆ ì  í•œê³„ë¡œ ê±´ë„ˆëœ€ - ì´ë¯¸ í™•ì¸ë¨)

---

## ğŸ¯ ìµœì¢… ê²°ë¡ 

**í•µì‹¬ ë©”ì‹œì§€**:
> **"ì¶”ê°€ í‰ê°€"ëŠ” ê° AIë³„ Helper ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì§ì ‘ ì‹¤í–‰í•˜ë©´ ë©ë‹ˆë‹¤!**
>
> ëª¨ë“  Helperê°€ ìë™ìœ¼ë¡œ ë¯¸í‰ê°€ ë°ì´í„°ë¥¼ ì°¾ì•„ì„œ í‰ê°€í•©ë‹ˆë‹¤.

**Deprecated**:
- âŒ `evaluate_missing_v40_api.py` (ë” ì´ìƒ ì‚¬ìš© ì•ˆ í•¨)

**Recommended**:
- âœ… `claude_eval_helper.py`
- âœ… `codex_eval_helper.py`
- âœ… `evaluate_gemini_subprocess.py`
- âœ… `grok_eval_helper.py`

---

**ì—°êµ¬ ì™„ë£Œ**: 2026-02-12
**ë‹¤ìŒ ì‘ì—…**: ë„¤ì´ë²„ ë°ì´í„° ìˆ˜ì§‘ ë¯¸ì™„ë£Œ ë¬¸ì œ ì—°êµ¬
