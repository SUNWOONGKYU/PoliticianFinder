# V40 ì „ì²´ í”„ë¡œì„¸ìŠ¤ ê°€ì´ë“œ

**ì‘ì„±ì¼**: 2026-02-01
**ìµœì¢… ì—…ë°ì´íŠ¸**: 2026-02-12 (í‰ê°€ ìµœì í™” ì™„ë£Œ)
**ë²„ì „**: V40
**ëª©ì **: ì •ì¹˜ì¸ ì •ë³´ ì¤€ë¹„ë¶€í„° ìƒì„¸í‰ê°€ë³´ê³ ì„œ ìƒì„±ê¹Œì§€ ì™„ì „í•œ í”„ë¡œì„¸ìŠ¤

**ğŸ“Œ ì£¼ìš” ë³€ê²½ì‚¬í•­ (2026-02-12)**:
- ChatGPT ëª¨ë¸ ë³€ê²½: gpt-5-nano â†’ gpt-5.1-codex-mini
- ë°°ì¹˜ í‰ê°€ ìµœì í™”: Gemini, ChatGPT 25ê°œì”© ì²˜ë¦¬ (10x í–¥ìƒ)
- Pre-filtering ì¶”ê°€: ì´ë¯¸ í‰ê°€ëœ ë°ì´í„° ìë™ ì œì™¸ (5x í–¥ìƒ)
- ìë™ ì¬ì‹œë„: ChatGPT Foreign key ì˜¤ë¥˜ ëŒ€ì‘
- ê³µí†µ ì €ì¥ í•¨ìˆ˜: common_eval_saver.py í†µí•©

---

## 1. V40 ê°œìš”

### í•µì‹¬ ë³€ê²½ì‚¬í•­

| í•­ëª© | V40 |
|------|-----|
| ìˆ˜ì§‘ ì±„ë„ | **2ê°œ (Gemini, Naver)** |
| í‰ê°€ AI | **4ê°œ (Claude, Codex/ChatGPT, Gemini, Grok)** |
| ìˆ˜ì§‘ ë°©ì‹ | **ì›¹ê²€ìƒ‰ í•„ìˆ˜** |
| ìˆ˜ì§‘ ê°œìˆ˜ | **100ê°œ/ì¹´í…Œê³ ë¦¬ (ë²„í¼ 20% í¬í•¨ ìµœëŒ€ 120ê°œ)** |
| ë°ì´í„° ìœ í˜• | **OFFICIAL/PUBLIC ë¶„ë¦¬** |
| í‰ê°€ ë°©ì‹ | **í’€ë§ í‰ê°€** |

### ìˆ˜ì§‘ ë°°ë¶„

```
Gemini  50% = OFFICIAL 30ê°œ (30%) + PUBLIC 20ê°œ (20%)
Naver   50% = OFFICIAL 10ê°œ (10%) + PUBLIC 40ê°œ (40%)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
í•©ê³„   100% = 100ê°œ/ì¹´í…Œê³ ë¦¬ (ë²„í¼ 20% í¬í•¨ ìµœëŒ€ 120ê°œ)

ğŸ“Œ OFFICIAL vs PUBLIC:
- OFFICIAL (40ê°œ): ê°ê´€ì  ì‚¬ì‹¤
  Gemini 30ê°œ (30%) + Naver 10ê°œ (10%)

- PUBLIC (60ê°œ): ì˜ê²¬/í‰ê°€
  Gemini 20ê°œ (20%) + Naver 40ê°œ (40%)

âš ï¸ Claude/Codex/Grok = ìˆ˜ì§‘ ì œì™¸ â†’ í‰ê°€ë§Œ ë‹´ë‹¹
```

### AIë³„ ìˆ˜ì§‘/í‰ê°€ ì—­í• 

| AI | ìˆ˜ì§‘ | í‰ê°€ | ë¹„ê³  |
|---|---|---|---|
| **Gemini** | âœ… 50% | âœ… | Google Search **ë¬´ë£Œ** âœ… |
| **Naver** | âœ… 50% | âŒ | Naver Search **ë¬´ë£Œ** âœ… |
| **Claude** | âŒ | âœ… | **$0** (CLI Direct) |
| **Codex/ChatGPT** | âŒ | âœ… | **$0** (CLI Direct) |
| **Grok** | âŒ | âœ… | í‰ê°€ë§Œ (API) |

---

## 2. ì‚¬ì „ ì¤€ë¹„

### 2.1 API í‚¤ ì„¤ì •

`.env` íŒŒì¼ì— ë‹¤ìŒ í‚¤ ì„¤ì •:

```bash
# ìˆ˜ì§‘ìš© (1ê°œ API + 1ê°œ Direct Subprocess)
# âš ï¸ GeminiëŠ” CLI Direct Subprocess ì‚¬ìš© (API í‚¤ ë¶ˆí•„ìš”)
NAVER_CLIENT_ID=...              # Naver (50% ìˆ˜ì§‘) - ë¬´ë£Œ
NAVER_CLIENT_SECRET=...          # Naver (50% ìˆ˜ì§‘) - ë¬´ë£Œ

# í‰ê°€ìš© (1ê°œ API + 3ê°œ CLI Direct)
# âš ï¸ Claude, Codex, GeminiëŠ” CLI Direct ì‚¬ìš© (API í‚¤ ë¶ˆí•„ìš”)
OPENAI_API_KEY=sk-...            # Codex (ChatGPT CLI, í‰ê°€ë§Œ) - ì„ íƒì 
XAI_API_KEY=xai-...              # Grok (í‰ê°€ë§Œ, API)

# Supabase
SUPABASE_URL=https://...
SUPABASE_SERVICE_ROLE_KEY=eyJ...
```

> **ì°¸ê³ **: GeminiëŠ” ìˆ˜ì§‘/í‰ê°€ ëª¨ë‘ **Gemini CLI Subprocess** ë°©ì‹ìœ¼ë¡œ ì‹¤í–‰í•©ë‹ˆë‹¤.
> - **ì •ì˜**: Python `subprocess.run()`ìœ¼ë¡œ Gemini CLIë¥¼ ì§ì ‘ ì‹¤í–‰
> - **ìˆ˜ì§‘**: `scripts/workflow/collect_gemini_subprocess_parallel.py` ì‚¬ìš©
> - **í‰ê°€**: `scripts/workflow/evaluate_gemini_subprocess.py` ì‚¬ìš©
> - **ìƒì„¸ ë‚´ìš©**: `TERMINOLOGY.md` ì°¸ì¡°

### 2.2 ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” ìƒì„±

```sql
-- V40 ìˆ˜ì§‘ ë°ì´í„° í…Œì´ë¸”
CREATE TABLE IF NOT EXISTS collected_data_v40 (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    politician_id TEXT NOT NULL,
    politician_name TEXT NOT NULL,
    category TEXT NOT NULL,
    data_type TEXT NOT NULL,           -- 'official' or 'public'
    collector_ai TEXT NOT NULL,        -- 'Gemini', 'Naver'
    title TEXT NOT NULL,
    content TEXT NOT NULL,
    source_url TEXT NOT NULL,
    source_name TEXT,
    published_date DATE,
    sentiment TEXT,                    -- 'positive', 'negative', 'free'
    is_verified BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMPTZ DEFAULT NOW()
);

-- V40 í‰ê°€ í…Œì´ë¸”
CREATE TABLE IF NOT EXISTS evaluations_v40 (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    politician_id TEXT NOT NULL,
    politician_name TEXT NOT NULL,
    category TEXT NOT NULL,
    collected_data_id UUID NOT NULL,
    evaluator_ai TEXT NOT NULL,        -- 'Claude', 'ChatGPT', 'Gemini', 'Grok'
    rating TEXT NOT NULL,              -- '+4' ~ '-4'
    score INTEGER,                     -- -8 ~ +8 (NULL í—ˆìš©: calculate_v40_scores.pyì—ì„œ ë³„ë„ ê³„ì‚°)
    reasoning TEXT,
    evaluated_at TIMESTAMPTZ DEFAULT NOW()
);

-- V40 ì¹´í…Œê³ ë¦¬ ì ìˆ˜ í…Œì´ë¸”
CREATE TABLE IF NOT EXISTS ai_category_scores_v40 (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    politician_id TEXT NOT NULL,
    politician_name TEXT NOT NULL,
    category TEXT NOT NULL,
    score INTEGER NOT NULL,
    ai_details JSONB,
    calculated_at TIMESTAMPTZ DEFAULT NOW()
);

-- V40 ìµœì¢… ì ìˆ˜ í…Œì´ë¸”
CREATE TABLE IF NOT EXISTS ai_final_scores_v40 (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    politician_id TEXT NOT NULL,
    politician_name TEXT NOT NULL,
    final_score INTEGER NOT NULL,
    grade TEXT NOT NULL,
    category_scores JSONB,
    calculated_at TIMESTAMPTZ DEFAULT NOW(),
    version TEXT DEFAULT 'V40'
);

-- ì¸ë±ìŠ¤
CREATE INDEX IF NOT EXISTS idx_v40_collected_politician ON collected_data_v40(politician_id);
CREATE INDEX IF NOT EXISTS idx_v40_collected_category ON collected_data_v40(category);
CREATE INDEX IF NOT EXISTS idx_v40_eval_politician ON evaluations_v40(politician_id);
```

### 2.3 ì˜ì¡´ì„± ì„¤ì¹˜

```bash
pip install anthropic openai google-generativeai supabase python-dotenv json-repair
```

---

## 3. Phase 0: ì •ì¹˜ì¸ ì •ë³´ ë“±ë¡ (í•„ìˆ˜ ì„ í–‰ ë‹¨ê³„)

### âš ï¸ ì™œ Phase 0ì´ ì¤‘ìš”í•œê°€?

**Phase 0ì„ ê±´ë„ˆë›°ë©´ ëª¨ë“  ìˆ˜ì§‘ì´ ì‹¤íŒ¨í•©ë‹ˆë‹¤!**

ì •ì¹˜ì¸ ì •ë³´ëŠ”:
- ìˆ˜ì§‘ ì‹œ ê²€ìƒ‰ì–´, í•„í„°ë§ ê¸°ì¤€ìœ¼ë¡œ ì‚¬ìš©
- í‰ê°€ ì‹œ ì»¨í…ìŠ¤íŠ¸ë¡œ í™œìš©
- ë³´ê³ ì„œ ìƒì„± ì‹œ í”„ë¡œí•„ ì •ë³´ ì œê³µ

### ì ˆì°¨

1. **í…œí”Œë¦¿ ë³µì‚¬**
   ```bash
   cp instructions/1_politicians/_TEMPLATE.md instructions/1_politicians/{ì •ì¹˜ì¸ëª…}.md
   ```

2. **ì •ì¹˜ì¸ ì •ë³´ ì‘ì„±** (11ê°œ í•„ë“œ)
   - politician_id: UUID ì• 8ìë¦¬ (ì˜ˆ: `8c5dcc89`)
   - ì„±ëª…, ì •ë‹¹, ì§ì±…, ì¶œë§ˆì‹ ë¶„, ì¶œë§ˆì§ì¢…
   - ì§€ì—­, ì§€ì—­êµ¬, ì„±ë³„, ìƒë…„ì›”ì¼, ë‚˜ì´

3. **ì €ì¥ ìœ„ì¹˜**
   ```
   instructions/1_politicians/{ì •ì¹˜ì¸ëª…}.md
   ```

**ì˜ˆì‹œ**: `instructions/1_politicians/ë°•ì£¼ë¯¼.md`, `instructions/1_politicians/ì¡°ì€í¬.md`

**ìƒì„¸ ê°€ì´ë“œ**: `V40_ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜_ê°€ì´ë“œ.md` Step 0 ì°¸ì¡°

---

## 4. ì „ì²´ í”„ë¡œì„¸ìŠ¤ (7ë‹¨ê³„)

### ğŸ“Š í”„ë¡œì„¸ìŠ¤ ê°œìš”

```
ì •ì¹˜ì¸ ì •ë³´ ì‘ì„± (MD) â†’ DB ë“±ë¡ â†’ ë°ì´í„° ìˆ˜ì§‘ (1,000ê°œ)
â†’ ê²€ì¦ â†’ ê²€ì¦ í›„ ì¡°ì • (ê· í˜• ë§ì¶”ê¸°) â†’ AI í‰ê°€ (4,000ê°œ) â†’ í‰ê°€ ê²€ì¦ â†’ ì ìˆ˜ ê³„ì‚° â†’ ë³´ê³ ì„œ ìƒì„±
```

### ìƒì„¸ í”„ë¡œì„¸ìŠ¤

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Phase 1] ì¤€ë¹„ - ì •ì¹˜ì¸ ì •ë³´ ì‘ì„± ë° DB ë“±ë¡                â”‚
â”‚                                                             â”‚
â”‚ 1. instructions/1_politicians/{ì •ì¹˜ì¸ëª…}.md ì‘ì„±            â”‚
â”‚    - ì´ë¦„, ìƒë…„ì›”ì¼, ì§ìœ„, ì •ë‹¹, í•™ë ¥, ê²½ë ¥ ë“±              â”‚
â”‚                                                             â”‚
â”‚ 2. politicians_v40 í…Œì´ë¸”ì— INSERT (11ê°œ ë°ì´í„° í•„ë“œ)       â”‚
â”‚    - id (TEXT, 8ìë¦¬ hex)                                   â”‚
â”‚    - name, party, position, identity, title                 â”‚
â”‚    - region, district, gender, birth_year, age             â”‚
â”‚                                                             â”‚
â”‚    ì˜ˆì‹œ: ë°•ì£¼ë¯¼                                              â”‚
â”‚    INSERT INTO politicians_v40 (                            â”‚
â”‚      id, name, party, position, identity, title,            â”‚
â”‚      region, district, gender, birth_year, age              â”‚
â”‚    ) VALUES (                                               â”‚
â”‚      '8c5dcc89', 'ë°•ì£¼ë¯¼', 'ë”ë¶ˆì–´ë¯¼ì£¼ë‹¹',                   â”‚
â”‚      'êµ­íšŒì˜ì› (3ì„ )', 'ì¶œë§ˆì˜ˆì •ì', 'ê´‘ì—­ë‹¨ì²´ì¥',           â”‚
â”‚      'ì„œìš¸', 'ì„œìš¸ ì€í‰êµ¬ ê°‘', 'ë‚¨', 1973, 52               â”‚
â”‚    );                                                       â”‚
â”‚                     â†“                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Phase 2] ìˆ˜ì§‘ - collect_v40.py (2ê°œ ì±„ë„)                  â”‚
â”‚                                                             â”‚
â”‚ â­ ê¶Œì¥ ëª©í‘œ: ë²„í¼ í¬í•¨ (60ê°œ/AI/ì¹´í…Œê³ ë¦¬) â­               â”‚
â”‚                                                             â”‚
â”‚ Gemini 60ê°œ â”€â”€â”¬â”€â”€ OFFICIAL 36ê°œ (Google Search ë¬´ë£Œ)       â”‚
â”‚               â””â”€â”€ PUBLIC 24ê°œ (Google Search ê¸°ë°˜)         â”‚
â”‚                                                             â”‚
â”‚ Naver 60ê°œ  â”€â”€â”¬â”€â”€ OFFICIAL 12ê°œ (Naver Search ë¬´ë£Œ)        â”‚
â”‚               â””â”€â”€ PUBLIC 48ê°œ (Naver Search ê¸°ë°˜)          â”‚
â”‚                                                             â”‚
â”‚ í•©ê³„: 120ê°œ/ì¹´í…Œê³ ë¦¬ (ê²€ì¦ ì‚­ì œ ëŒ€ë¹„ ë²„í¼ 20%)              â”‚
â”‚                                                             â”‚
â”‚ âš ï¸ ìµœì†Œ ëª©í‘œ 50ê°œë¡œ ìˆ˜ì§‘ ì‹œ â†’ Phase 3-3 ì¬ìˆ˜ì§‘ í•„ìš”!       â”‚
â”‚ âœ… ë²„í¼ ëª©í‘œ 60ê°œë¡œ ìˆ˜ì§‘ ì‹œ â†’ Phase 3-3 ìŠ¤í‚µ ê°€ëŠ¥! (2-3ì‹œê°„ ì ˆì•½) â”‚
â”‚                                                             â”‚
â”‚ âš ï¸ Claude/ChatGPT/Grok = ìˆ˜ì§‘ ì œì™¸ (í‰ê°€ë§Œ)               â”‚
â”‚                     â†“                                       â”‚
â”‚            collected_data_v40 ì €ì¥                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Phase 3] ê²€ì¦ & ì¬ìˆ˜ì§‘ - validate_v40_fixed.py             â”‚
â”‚                                                             â”‚
â”‚ ì‹¤í–‰ ëª…ë ¹ì–´:                                                 â”‚
â”‚ python validate_v40_fixed.py \                              â”‚
â”‚   --politician_id={ID} --politician_name="{NAME}" \         â”‚
â”‚   --no-dry-run  # ì‹¤ì œ ì‚­ì œ ìˆ˜í–‰                            â”‚
â”‚                                                             â”‚
â”‚ ê²€ì¦ í•­ëª©:                                                  â”‚
â”‚ âœ“ URL ì‹¤ì œ ì¡´ì¬ ì—¬ë¶€ (HEAD/GET ìš”ì²­)                       â”‚
â”‚ âœ“ data_type ê·œì¹™ (OFFICIAL/PUBLIC ë„ë©”ì¸ ë§¤ì¹­)             â”‚
â”‚ âœ“ í•„ìˆ˜ í•„ë“œ ê²€ì¦ (title, content, source_url)              â”‚
â”‚ âœ“ ê¸°ê°„ ì œí•œ ê²€ì¦ (ê³µì‹ 4ë…„, ê³µê°œ 2ë…„)                      â”‚
â”‚ âœ“ ê°€ì§œ URL íŒ¨í„´ íƒì§€                                       â”‚
â”‚                     â†“                                       â”‚
â”‚ ê²€ì¦ ì‹¤íŒ¨ â†’ ì‚­ì œ â†’ í•´ë‹¹ AIë¡œ ì¬ìˆ˜ì§‘ (ìµœëŒ€ 5íšŒ ë°˜ë³µ)        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Phase 3-2] í’€ë§ & ê³ ê¸‰ ì¤‘ë³µ ì œê±° âœ¨                        â”‚
â”‚                                                             â”‚
â”‚ 2ê°œ ì±„ë„ ìˆ˜ì§‘ ë°ì´í„° í†µí•©                                   â”‚
â”‚                                                             â”‚
â”‚ ğŸ”¥ ê³ ê¸‰ ì¤‘ë³µ ê²€ì‚¬ (URL + ì œëª©):                             â”‚
â”‚ 1. URL ì •ê·œí™” (íŒŒë¼ë¯¸í„°, ì•µì»¤ ì œê±°)                         â”‚
â”‚    - https://namu.wiki/w/XX?rev=456 â†’ https://namu.wiki/w/XXâ”‚
â”‚    - https://news.com/art#s-1 â†’ https://news.com/art        â”‚
â”‚                                                             â”‚
â”‚ 2. ì œëª© ì •ê·œí™” (ê³µë°±, íŠ¹ìˆ˜ë¬¸ì ì œê±°)                        â”‚
â”‚    - "ê¹€ë¯¼ì„/ë¹„íŒ ë° ë…¼ë€" â†’ "ê¹€ë¯¼ì„ë¹„íŒë°ë…¼ë€"             â”‚
â”‚                                                             â”‚
â”‚ 3. ì¤‘ë³µ íŒë‹¨ ê¸°ì¤€:                                          â”‚
â”‚    - ê°™ì€ AI + (ê°™ì€ URL OR ì œëª© 95% ìœ ì‚¬) â†’ ì¤‘ë³µ ì œê±°     â”‚
â”‚    - ë‹¤ë¥¸ AI + ê°™ì€ URL/ì œëª© â†’ ëª¨ë‘ ìœ ì§€ (ìì—° ê°€ì¤‘ì¹˜)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Phase 3-3] ê²€ì¦ í›„ ì¡°ì • âš–ï¸ âœ¨ NEW!                        â”‚
â”‚                                                             â”‚
â”‚ ê²€ì¦ ì™„ë£Œ í›„ AIë³„/ì¹´í…Œê³ ë¦¬ë³„ ë°ì´í„° ê· í˜• ì¡°ì •               â”‚
â”‚                                                             â”‚
â”‚ ğŸ“Š ëª©í‘œ ê· í˜•:                                               â”‚
â”‚ - AIë³„: 50-60ê°œ/ì¹´í…Œê³ ë¦¬ (ìµœì†Œ 50, ë²„í¼ 60)                 â”‚
â”‚ - ì „ì²´: 500-600ê°œ/AI (ìµœì†Œ 500, ë²„í¼ 600)                   â”‚
â”‚                                                             â”‚
â”‚ ğŸ”„ ì¡°ì • í”„ë¡œì„¸ìŠ¤:                                            â”‚
â”‚ 1. í˜„í™© ë¶„ì„: AIë³„/ì¹´í…Œê³ ë¦¬ë³„ ê°œìˆ˜ ì²´í¬                      â”‚
â”‚ 2. ì´ˆê³¼ ì²˜ë¦¬: 60ê°œ ì´ˆê³¼ ì¹´í…Œê³ ë¦¬ â†’ ì‹œê°„ìˆœ ì‚­ì œ (ì˜¤ë˜ëœ ê²ƒ)  â”‚
â”‚ 3. ë¶€ì¡± ì²˜ë¦¬: 50ê°œ ë¯¸ë§Œ ì¹´í…Œê³ ë¦¬ â†’ í•´ë‹¹ AIë¡œ ì¬ìˆ˜ì§‘         â”‚
â”‚ 4. ê· í˜• ê²€ì¦: ëª¨ë“  ì¹´í…Œê³ ë¦¬ 50-60ê°œ ë‹¬ì„± í™•ì¸               â”‚
â”‚ 5. ìµœì¢… ë³´ê³ : ì¡°ì • ê²°ê³¼ ìš”ì•½                                â”‚
â”‚                                                             â”‚
â”‚ âš ï¸ ë¬´í•œë£¨í”„ ë°©ì§€: ìµœëŒ€ 3íšŒ ì¡°ì • ë¼ìš´ë“œ                      â”‚
â”‚                                                             â”‚
â”‚ ğŸ“– ìƒì„¸ ê°€ì´ë“œ: instructions/V40_ê²€ì¦í›„ì¡°ì •_ê°€ì´ë“œ.md       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Phase 4] í‰ê°€ - evaluate_v40.py (4ê°œ AI)                   â”‚
â”‚                                                             â”‚
â”‚ Claude     â”€â”€â”¬â”€â”€ í’€ë§ëœ ì „ì²´ ë°ì´í„° í‰ê°€                   â”‚
â”‚ ChatGPT    â”€â”€â”¤  (CLI Direct: API ë¹„ìš© $0)                 â”‚
â”‚ Gemini     â”€â”€â”¤                                             â”‚
â”‚ Grok       â”€â”€â”˜                                             â”‚
â”‚                     â†“                                       â”‚
â”‚            evaluations_v40 ì €ì¥                             â”‚
â”‚            (collected_data_idë¡œ ìˆ˜ì§‘ ë°ì´í„°ì™€ ì—°ê²°)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Phase 5] í‰ê°€ ê²€ì¦ - ìë™ ì²˜ë¦¬                             â”‚
â”‚                                                             â”‚
â”‚ í‰ê°€ ì™„ì„±ë„ í™•ì¸:                                            â”‚
â”‚ âœ“ ê¸°ì¤€: 95% ì´ìƒ                                            â”‚
â”‚ âœ“ ê³„ì‚°: (ì‹¤ì œ í‰ê°€ ìˆ˜ / ê¸°ëŒ€ í‰ê°€ ìˆ˜) Ã— 100                 â”‚
â”‚   ê¸°ëŒ€ í‰ê°€ ìˆ˜ = ìˆ˜ì§‘ í’€ ì´ìˆ˜ Ã— 4 (AI ìˆ˜)                   â”‚
â”‚   ì˜ˆ) í’€ 1,000ê°œ â†’ ê¸°ëŒ€ 4,000ê°œ â†’ 95% = 3,800ê°œ ì´ìƒ       â”‚
â”‚      ë˜ëŠ”: ìµœì†Œ 950ê°œ ë°ì´í„° í‰ê°€ ì™„ë£Œ (1,000 Ã— 95%)       â”‚
â”‚ âœ“ ë¯¸ë‹¬ ì‹œ: ëˆ„ë½ í‰ê°€ ì¬ì‹¤í–‰ (ìë™)                          â”‚
â”‚                     â†“                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Phase 6] ì ìˆ˜ ê³„ì‚° - calculate_v40_scores.py               â”‚
â”‚                                                             â”‚
â”‚ 4ê°œ AI í‰ê°€ ê²°ê³¼ ì¢…í•© â†’ ì¹´í…Œê³ ë¦¬ ì ìˆ˜ â†’ ìµœì¢… ì ìˆ˜          â”‚
â”‚                     â†“                                       â”‚
â”‚   ai_category_scores_v40, ai_final_scores_v40 ì €ì¥         â”‚
â”‚   (AIë³„ ì ìˆ˜ JSONB ì €ì¥)                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Phase 7] ë³´ê³ ì„œ ìƒì„± - generate_report_v40.py              â”‚
â”‚                                                             â”‚
â”‚ 1. 4ê°œ í…Œì´ë¸” ì¡°ì¸ (politicians + collected_data_v40 +      â”‚
â”‚    evaluations_v40 + ai_final_scores_v40)                   â”‚
â”‚                                                             â”‚
â”‚ 2. AIë³„ í†µê³„ ê³„ì‚°                                            â”‚
â”‚    - AIë³„ í‰ê·  ë“±ê¸‰, X ë¹„ìœ¨, ê¸ì •/ë¶€ì • ë¹„ìœ¨                 â”‚
â”‚    - AIë³„ í‰ê°€ ì„±í–¥ ë¶„ì„                                     â”‚
â”‚                                                             â”‚
â”‚ 3. ì¹´í…Œê³ ë¦¬ë³„ ë¶„ì„ (10ê°œ)                                    â”‚
â”‚    - AIë³„ ì ìˆ˜ ë¹„êµ                                          â”‚
â”‚    - ëŒ€í‘œ ê¸ì •/ë¶€ì • í‰ê°€ ì‚¬ë¡€                                â”‚
â”‚                                                             â”‚
â”‚ 4. ë§ˆí¬ë‹¤ìš´ ë³´ê³ ì„œ ìƒì„±                                      â”‚
â”‚    - ì¢…í•© ê°œìš” (ìµœì¢… ì ìˆ˜, AIë³„ ì ìˆ˜, ì¹´í…Œê³ ë¦¬ ì ìˆ˜)        â”‚
â”‚    - AIë³„ ë¹„êµ ë¶„ì„                                          â”‚
â”‚    - ì¹´í…Œê³ ë¦¬ë³„ ìƒì„¸ í‰ê°€                                    â”‚
â”‚    - ë°ì´í„° ì¶œì²˜ ë¶„ì„                                        â”‚
â”‚                     â†“                                       â”‚
â”‚ 5. íŒŒì¼ ì €ì¥                                                 â”‚
â”‚    ë³´ê³ ì„œ/{ì •ì¹˜ì¸ëª…}_{YYYYMMDD}.md                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3.1 Phase 1 ìƒì„¸: ì •ì¹˜ì¸ ì •ë³´ ë“±ë¡

### 3.1.1 ì •ì¹˜ì¸ ì •ë³´ íŒŒì¼ ì‘ì„±

**ìœ„ì¹˜**: `instructions/1_politicians/{ì •ì¹˜ì¸ëª…}.md`

**í•„ìˆ˜ í¬í•¨ ì •ë³´** (11ê°œ í•„ë“œ):
1. **id** (politician_id): 8ìë¦¬ hex (TEXT)
2. **name**: ì •ì¹˜ì¸ ì„±ëª…
3. **party**: ì†Œì† ì •ë‹¹
4. **position**: í˜„ì¬ ì§ì±…
5. **identity**: ì¶œë§ˆ ì‹ ë¶„ (í˜„ì§/í›„ë³´ì/ì˜ˆë¹„í›„ë³´ì/ì¶œë§ˆì˜ˆì •ì/ì¶œë§ˆì)
6. **title**: ì¶œë§ˆ ì§ì¢… (êµ­íšŒì˜ì›/ê´‘ì—­ë‹¨ì²´ì¥/ê´‘ì—­ì˜ì›/ê¸°ì´ˆë‹¨ì²´ì¥/ê¸°ì´ˆì˜ì›/êµìœ¡ê°)
7. **region**: ì¶œë§ˆ ì§€ì—­
8. **district**: ì§€ì—­êµ¬ (í•´ë‹¹ ì‹œ)
9. **gender**: ì„±ë³„ ('ë‚¨' ë˜ëŠ” 'ì—¬')
10. **birth_year**: ì¶œìƒì—°ë„ (INTEGER)
11. **age**: í˜„ì¬ ë‚˜ì´ (INTEGER)

**í…œí”Œë¦¿ ì˜ˆì‹œ**:
```markdown
# ì •ì¹˜ì¸ ì •ë³´ - {ì •ì¹˜ì¸ëª…}

---

## ê¸°ë³¸ ì •ë³´

| í•„ë“œ | ê°’ |
|------|-----|
| **politician_id** | {8ìë¦¬ hex} |
| **ì„±ëª…** | {ì´ë¦„} |
| **í˜„ ì§ì±…** | {ì§ì±…} |
| **ì†Œì† ì •ë‹¹** | {ì •ë‹¹} |
| **ì¶œë§ˆ ì‹ ë¶„** | {ì‹ ë¶„} |
| **ì¶œë§ˆ ì§ì¢…** | {ì§ì¢…} |
| **ì§€ì—­** | {ì§€ì—­} |
| **ì§€ì—­êµ¬** | {ì§€ì—­êµ¬} |
| **ì„±ë³„** | {ì„±ë³„} |
| **ìƒë…„ì›”ì¼** | {ìƒë…„ì›”ì¼} ({ë‚˜ì´}ì„¸) |

---

## íŠ¹ë³„ ì§€ì‹œì‚¬í•­

### ìˆ˜ì§‘ ì‹œ ì£¼ì˜ì 
- (ì •ì¹˜ì¸ ë°°ê²½, ì´ë ¥ ë“±)

### í‰ê°€ ì‹œ ì£¼ì˜ì 
- (íŠ¹ë³„íˆ ì£¼ëª©í•  ë¶„ì•¼)

### ì•Œë ¤ì§„ ë…¼ë€/ì´ìŠˆ
- (ë…¼ë€ ì‚¬í•­)

### ì•Œë ¤ì§„ ì„±ê³¼
- (ì£¼ìš” ì„±ê³¼)

---

## ì¶œì²˜ íŒíŠ¸

### OFFICIAL ì¶œì²˜
- êµ­íšŒ, ì •ë‹¹ ê³µì‹ ì‚¬ì´íŠ¸ ë“±

### PUBLIC ì¶œì²˜
- ë‚˜ë¬´ìœ„í‚¤, ìœ„í‚¤ë°±ê³¼, ë‰´ìŠ¤ ë“±
```

**ì‹¤ì œ ì˜ˆì‹œ: ë°•ì£¼ë¯¼**
```markdown
# ì •ì¹˜ì¸ ì •ë³´ - ë°•ì£¼ë¯¼

---

## ê¸°ë³¸ ì •ë³´

| í•„ë“œ | ê°’ |
|------|-----|
| **politician_id** | 8c5dcc89 |
| **ì„±ëª…** | ë°•ì£¼ë¯¼ |
| **í˜„ ì§ì±…** | êµ­íšŒì˜ì› (3ì„ ) |
| **ì†Œì† ì •ë‹¹** | ë”ë¶ˆì–´ë¯¼ì£¼ë‹¹ |
| **ì¶œë§ˆ ì‹ ë¶„** | ì¶œë§ˆì˜ˆì •ì |
| **ì¶œë§ˆ ì§ì¢…** | ê´‘ì—­ë‹¨ì²´ì¥ |
| **ì§€ì—­** | ì„œìš¸ |
| **ì§€ì—­êµ¬** | ì„œìš¸ ì€í‰êµ¬ ê°‘ |
| **ì„±ë³„** | ë‚¨ |
| **ìƒë…„ì›”ì¼** | 1973ë…„ 11ì›” 21ì¼ (52ì„¸) |
```

### 3.1.2 ë°ì´í„°ë² ì´ìŠ¤ ë“±ë¡

**í…Œì´ë¸”**: `politicians_v40` (í‰ê°€ ì „ìš©)

**âš ï¸ ì¤‘ìš”**: ì´ í…Œì´ë¸”ì€ AI í‰ê°€ ì „ìš©ì…ë‹ˆë‹¤. ì›¹ì‚¬ì´íŠ¸ í”„ë¡œí•„ìš© í•„ë“œ(email, website, image_url)ëŠ” í¬í•¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

**INSERT SQL**:
```sql
INSERT INTO politicians_v40 (
  id, name, party, position, identity, title,
  region, district, gender, birth_year, age
) VALUES (
  '{POLITICIAN_ID}',
  '{POLITICIAN_NAME}',
  '{PARTY}',
  '{POSITION}',
  '{IDENTITY}',
  '{TITLE}',
  '{REGION}',
  '{DISTRICT}',
  '{GENDER}',
  {BIRTH_YEAR},
  {AGE}
);
```

**ì˜ˆì‹œ: ë°•ì£¼ë¯¼ INSERT**
```sql
INSERT INTO politicians_v40 (
  id, name, party, position, identity, title,
  region, district, gender, birth_year, age
) VALUES (
  '8c5dcc89',
  'ë°•ì£¼ë¯¼',
  'ë”ë¶ˆì–´ë¯¼ì£¼ë‹¹',
  'êµ­íšŒì˜ì› (3ì„ )',
  'ì¶œë§ˆì˜ˆì •ì',
  'ê´‘ì—­ë‹¨ì²´ì¥',
  'ì„œìš¸',
  'ì„œìš¸ ì€í‰êµ¬ ê°‘',
  'ë‚¨',
  1973,
  52
);
```

**Python ì˜ˆì‹œ (Supabase)**:
```python
from supabase import create_client, Client
import os

SUPABASE_URL = os.getenv("SUPABASE_URL")
SUPABASE_KEY = os.getenv("SUPABASE_SERVICE_ROLE_KEY")
supabase: Client = create_client(SUPABASE_URL, SUPABASE_KEY)

# ë°•ì£¼ë¯¼ ì˜ˆì‹œ
politician_data = {
    "id": "8c5dcc89",
    "name": "ë°•ì£¼ë¯¼",
    "party": "ë”ë¶ˆì–´ë¯¼ì£¼ë‹¹",
    "position": "êµ­íšŒì˜ì› (3ì„ )",
    "identity": "ì¶œë§ˆì˜ˆì •ì",
    "title": "ê´‘ì—­ë‹¨ì²´ì¥",
    "region": "ì„œìš¸",
    "district": "ì„œìš¸ ì€í‰êµ¬ ê°‘",
    "gender": "ë‚¨",
    "birth_year": 1973,
    "age": 52
}

response = supabase.table('politicians_v40').insert(politician_data).execute()
print(f"âœ… ì •ì¹˜ì¸ ë“±ë¡ ì™„ë£Œ: {politician_data['name']}")
```

**ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] politician_idê°€ 8ìë¦¬ hexì¸ê°€? (ì˜ˆ: 8c5dcc89)
- [ ] ëª¨ë“  11ê°œ í•„ë“œê°€ ì±„ì›Œì ¸ ìˆëŠ”ê°€?
- [ ] genderê°€ 'ë‚¨' ë˜ëŠ” 'ì—¬'ì¸ê°€?
- [ ] birth_yearì™€ ageê°€ INTEGER íƒ€ì…ì¸ê°€?
- [ ] identity ê°’ì´ ì •ì˜ëœ 5ê°€ì§€ ì¤‘ í•˜ë‚˜ì¸ê°€?
- [ ] title ê°’ì´ ì •ì˜ëœ 6ê°€ì§€ ì¤‘ í•˜ë‚˜ì¸ê°€?
- [ ] DBì— ì„±ê³µì ìœ¼ë¡œ INSERT ë˜ì—ˆëŠ”ê°€?

**ë“±ë¡ í™•ì¸**:
```sql
SELECT * FROM politicians_v40 WHERE id = '8c5dcc89';
```

---

## 3.2 Phase 3-3 ìƒì„¸: ê²€ì¦ í›„ ì¡°ì •

### 3.2.1 Phase 3-3ì˜ í•„ìš”ì„±

**Phase 3 (ê²€ì¦ & ì¬ìˆ˜ì§‘) ì™„ë£Œ í›„ ë°œìƒ ê°€ëŠ¥í•œ ë¬¸ì œ:**
- AIë³„ ìˆ˜ì§‘ëŸ‰ ë¶ˆê· í˜• (ì˜ˆ: Gemini 706ê°œ vs Naver 488ê°œ)
- ì¹´í…Œê³ ë¦¬ë³„ í¸ì°¨ (ì˜ˆ: publicinterest 198ê°œ vs integrity 69ê°œ)
- ë²„í¼ ëª©í‘œ(60ê°œ) ì´ˆê³¼ ë˜ëŠ” ìµœì†Œ ëª©í‘œ(50ê°œ) ë¯¸ë‹¬

**Phase 3-3ì˜ ì—­í• :**
Phase 3 ê²€ì¦ì´ ëë‚œ í›„, ë°ì´í„° ê· í˜•ì„ ë§ì¶”ëŠ” **ìµœì¢… ì¡°ì • ë‹¨ê³„**

### 3.2.2 ì¡°ì • ëª©í‘œ

**AIë³„ ê· í˜•:**
- ìµœì†Œ: 500ê°œ/AI (50ê°œ/ì¹´í…Œê³ ë¦¬ Ã— 10ê°œ)
- ë²„í¼: 600ê°œ/AI (60ê°œ/ì¹´í…Œê³ ë¦¬ Ã— 10ê°œ)

**ì¹´í…Œê³ ë¦¬ë³„ ê· í˜•:**
- ìµœì†Œ: 50ê°œ/AI/ì¹´í…Œê³ ë¦¬
- ë²„í¼: 60ê°œ/AI/ì¹´í…Œê³ ë¦¬

**ì „ì²´ ê· í˜•:**
- ìµœì†Œ: 1,000ê°œ (500Ã—2 AI)
- ë²„í¼: 1,200ê°œ (600Ã—2 AI)

### 3.2.3 ì¡°ì • í”„ë¡œì„¸ìŠ¤ (5ë‹¨ê³„)

```
1ï¸âƒ£ í˜„í™© ë¶„ì„
   - AIë³„/ì¹´í…Œê³ ë¦¬ë³„ ë°ì´í„° ê°œìˆ˜ ì§‘ê³„
   - ì´ˆê³¼/ë¶€ì¡± ì¹´í…Œê³ ë¦¬ ì‹ë³„

2ï¸âƒ£ ì´ˆê³¼ ì²˜ë¦¬ (Trim Overflow)
   - 60ê°œ ì´ˆê³¼ ì¹´í…Œê³ ë¦¬ ì‹ë³„
   - ì˜¤ë˜ëœ ë°ì´í„°ë¶€í„° ì‚­ì œ (published_date ì˜¤ë¦„ì°¨ìˆœ)
   - ëª©í‘œ: ì •í™•íˆ 60ê°œê¹Œì§€ë§Œ ìœ ì§€

3ï¸âƒ£ ì¬ìˆ˜ì§‘ íŠ¸ë¦¬ê±° (Recollection)
   - 50ê°œ ë¯¸ë§Œ ì¹´í…Œê³ ë¦¬ ì‹ë³„
   - í•´ë‹¹ AIì˜ ìˆ˜ì§‘ ìŠ¤í¬ë¦½íŠ¸ ìë™ ì‹¤í–‰
   - ëª©í‘œ: 60ê°œ ë‹¬ì„± (ë²„í¼ í¬í•¨)

4ï¸âƒ£ ê· í˜• ê²€ì¦ (Balance Validation)
   - ëª¨ë“  ì¹´í…Œê³ ë¦¬ 50-60ê°œ ë²”ìœ„ í™•ì¸
   - AIë³„ í•©ê³„ 500-600ê°œ í™•ì¸
   - ì „ì²´ í•©ê³„ 1,000-1,200ê°œ í™•ì¸

5ï¸âƒ£ ìµœì¢… ë³´ê³ 
   - ì¡°ì • ì „í›„ ë¹„êµ
   - ì‚­ì œ/ì¶”ê°€ ë‚´ì—­
   - Phase 4 ì§„í–‰ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸
```

### 3.2.4 ì‹¤í–‰ ë°©ë²•

**ìŠ¤í¬ë¦½íŠ¸ ìœ„ì¹˜**: `scripts/core/adjust_v40_data.py` (ì‘ì„± ì˜ˆì •)

**ì‹¤í–‰ ëª…ë ¹**:

```bash
cd scripts/core

# ì‹œë®¬ë ˆì´ì…˜ (DRY RUN)
python adjust_v40_data.py \
  --politician_id={POLITICIAN_ID} \
  --politician_name="{POLITICIAN_NAME}" \
  --dry-run

# ì‹¤ì œ ì¡°ì • ì‹¤í–‰
python adjust_v40_data.py \
  --politician_id={POLITICIAN_ID} \
  --politician_name="{POLITICIAN_NAME}" \
  --no-dry-run

# íŠ¹ì • AIë§Œ ì¡°ì •
python adjust_v40_data.py \
  --politician_id={POLITICIAN_ID} \
  --politician_name="{POLITICIAN_NAME}" \
  --ai=Gemini \
  --no-dry-run
```

### 3.2.5 ì‚­ì œ ìš°ì„ ìˆœìœ„

**ê¸°ë³¸ ì „ëµ: ì‹œê°„ ê¸°ë°˜ (Time-based)** â­ ê¶Œì¥

```sql
-- ì˜¤ë˜ëœ ë°ì´í„°ë¶€í„° ì‚­ì œ (FIFO)
ORDER BY published_date ASC, created_at ASC
```

**ì¥ì :**
- âœ… ê³µì •í•¨ (ë¨¼ì € ìˆ˜ì§‘ëœ ê²ƒë¶€í„° ì‚­ì œ)
- âœ… êµ¬í˜„ ê°„ë‹¨
- âœ… ì˜ˆì¸¡ ê°€ëŠ¥
- âœ… ìµœì‹  ë°ì´í„° ìš°ì„  ìœ ì§€

**ëŒ€ì•ˆ ì „ëµ: í’ˆì§ˆ ê¸°ë°˜ (Quality-based)** (ì„ íƒì )

```sql
-- ë‚®ì€ í’ˆì§ˆ ë°ì´í„°ë¶€í„° ì‚­ì œ
-- ì˜ˆ: content ê¸¸ì´ê°€ ì§§ì€ ê²ƒ, X í‰ê°€ê°€ ë§ì€ ê²ƒ
ORDER BY LENGTH(content) ASC
```

### 3.2.6 ì¬ìˆ˜ì§‘ ëª©í‘œ

**ëª©í‘œ ê°œìˆ˜: 60ê°œ (ë²„í¼ í¬í•¨)**

ì´ìœ :
- ìµœì†Œ ëª©í‘œ(50ê°œ) ì´ìƒ í™•ë³´
- ë‹¤ìŒ ê²€ì¦ ê³¼ì •ì—ì„œ ì¼ë¶€ ì†ì‹¤ ëŒ€ë¹„
- ì•ˆì •ì ì¸ í‰ê°€ ë°ì´í„° í™•ë³´

**ì¬ìˆ˜ì§‘ ìŠ¤í¬ë¦½íŠ¸:**
- Gemini: `collect_gemini_subprocess.py --target=60`
- Naver: `collect_v40.py --target=60`

### 3.2.7 ë¬´í•œë£¨í”„ ë°©ì§€

**ìµœëŒ€ ì¡°ì • ë¼ìš´ë“œ: 3íšŒ**

```python
MAX_ADJUSTMENT_ROUNDS = 3

for round in range(1, MAX_ADJUSTMENT_ROUNDS + 1):
    # ì¡°ì • ìˆ˜í–‰
    if all_balanced():
        break

    if round == MAX_ADJUSTMENT_ROUNDS:
        # ê²½ê³  ì¶œë ¥ í›„ ì¤‘ë‹¨
        print("âš ï¸ ìµœëŒ€ ì¡°ì • íšŸìˆ˜ ë„ë‹¬")
        break
```

### 3.2.8 ìƒì„¸ ê°€ì´ë“œ

**ğŸ“– ì „ì²´ ê°€ì´ë“œ ë¬¸ì„œ**: `instructions/V40_ê²€ì¦í›„ì¡°ì •_ê°€ì´ë“œ.md`

í¬í•¨ ë‚´ìš©:
- ì¡°ì • í”„ë¡œì„¸ìŠ¤ ìƒì„¸ ì„¤ëª…
- ì‹¤í–‰ ë°©ë²• ë° ì˜µì…˜
- ì‚­ì œ ì „ëµ ë¹„êµ
- ì¬ìˆ˜ì§‘ ì ˆì°¨
- ì—ëŸ¬ ì²˜ë¦¬ ë°©ë²•
- FAQ ë° ì²´í¬ë¦¬ìŠ¤íŠ¸

---

## 4. ì‹¤í–‰ ë°©ë²•

### 4.1 ìˆ˜ì§‘

#### ë°©ë²• 1: ê°œë³„ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ (ê¶Œì¥)

**Gemini CLI ìˆ˜ì§‘**:
```bash
cd scripts/workflow
python collect_gemini_subprocess.py \
  --politician_id={POLITICIAN_ID} \
  --politician_name="{POLITICIAN_NAME}"
```

**Naver API ìˆ˜ì§‘**:
```bash
cd scripts/workflow
python collect_naver_v40_final.py \
  --politician_id={POLITICIAN_ID} \
  --politician_name="{POLITICIAN_NAME}"
```

**ì˜ˆì‹œ: ë°•ì£¼ë¯¼**
```bash
# Gemini ìˆ˜ì§‘
cd scripts/workflow
python collect_gemini_subprocess.py \
  --politician_id=8c5dcc89 \
  --politician_name="ë°•ì£¼ë¯¼"

# Naver ìˆ˜ì§‘
python collect_naver_v40_final.py \
  --politician_id=8c5dcc89 \
  --politician_name="ë°•ì£¼ë¯¼"
```

#### ë°©ë²• 2: í†µí•© ìŠ¤í¬ë¦½íŠ¸ (collect_v40.py)

```bash
# ì „ì²´ ìˆ˜ì§‘ (Gemini + Naver)
python collect_v40.py \
  --politician_id={POLITICIAN_ID} \
  --politician_name="{POLITICIAN_NAME}" \
  --parallel

# íŠ¹ì • AIë§Œ
python collect_v40.py \
  --politician_id={POLITICIAN_ID} \
  --politician_name="{POLITICIAN_NAME}" \
  --ai=Gemini

python collect_v40.py \
  --politician_id={POLITICIAN_ID} \
  --politician_name="{POLITICIAN_NAME}" \
  --ai=Naver

# íŠ¹ì • ì¹´í…Œê³ ë¦¬ë§Œ
python collect_v40.py \
  --politician_id={POLITICIAN_ID} \
  --politician_name="{POLITICIAN_NAME}" \
  --category=1  # 1=expertise

# ë¯¸ë‹ˆ í…ŒìŠ¤íŠ¸ (ì¹´í…Œê³ ë¦¬ë‹¹ 10ê°œ)
python collect_v40.py \
  --politician_id={POLITICIAN_ID} \
  --politician_name="{POLITICIAN_NAME}" \
  --test
```

### 4.2 ê²€ì¦ (validate_v40_fixed.py)

**ìŠ¤í¬ë¦½íŠ¸ ìœ„ì¹˜**: `scripts/core/validate_v40_fixed.py`

**ì‹¤í–‰ ë°©ë²•**:

```bash
# ìœ„ì¹˜ ì´ë™
cd scripts/core

# âš ï¸ ì‹¤ì œ ì‹¤í–‰ (ë¬´íš¨ ë°ì´í„° ì‚­ì œ ìˆ˜í–‰)
python validate_v40_fixed.py \
  --politician_id={POLITICIAN_ID} \
  --politician_name="{POLITICIAN_NAME}" \
  --no-dry-run

# ì‹œë®¬ë ˆì´ì…˜ë§Œ (ì‚­ì œ ì•ˆ í•¨, ê²€ì¦ë§Œ)
python validate_v40_fixed.py \
  --politician_id={POLITICIAN_ID} \
  --politician_name="{POLITICIAN_NAME}"
```

**ì˜ˆì‹œ: ë°•ì£¼ë¯¼ ê²€ì¦**

```bash
cd scripts/core

# ì‹¤ì œ ì‹¤í–‰
python validate_v40_fixed.py \
  --politician_id=8c5dcc89 \
  --politician_name="ë°•ì£¼ë¯¼" \
  --no-dry-run

# ì‹œë®¬ë ˆì´ì…˜
python validate_v40_fixed.py \
  --politician_id=8c5dcc89 \
  --politician_name="ë°•ì£¼ë¯¼"
```

**ê²€ì¦ í•­ëª©**:
- âœ“ URL ì‹¤ì œ ì¡´ì¬ ì—¬ë¶€ (HEAD/GET ìš”ì²­)
- âœ“ data_type ê·œì¹™ (OFFICIAL/PUBLIC ë„ë©”ì¸ ë§¤ì¹­)
- âœ“ í•„ìˆ˜ í•„ë“œ ê²€ì¦ (title, content, source_url)
- âœ“ ê¸°ê°„ ì œí•œ ê²€ì¦ (OFFICIAL 4ë…„, PUBLIC 2ë…„)
- âœ“ ê°€ì§œ URL íŒ¨í„´ íƒì§€
- âœ“ ì¤‘ë³µ ë°ì´í„° ê²€ì‚¬

**ê²€ì¦ ê²°ê³¼**:
- ìœ íš¨ ë°ì´í„°: DBì— ìœ ì§€
- ë¬´íš¨ ë°ì´í„°: `--no-dry-run` ì‹œ ìë™ ì‚­ì œ
- ì‚­ì œëœ ë§Œí¼ í•´ë‹¹ AIë¡œ ìë™ ì¬ìˆ˜ì§‘ (ìµœëŒ€ 5íšŒ ë°˜ë³µ)

**âš ï¸ ì¤‘ìš”**:
- `--no-dry-run` í”Œë˜ê·¸ ì—†ì´ ì‹¤í–‰í•˜ë©´ **ì‹œë®¬ë ˆì´ì…˜ë§Œ** (ì‹¤ì œ ì‚­ì œ ì•ˆ ë¨)
- ì‹¤ì œ ì‚­ì œë¥¼ ì›í•˜ë©´ **ë°˜ë“œì‹œ `--no-dry-run` í”Œë˜ê·¸ í¬í•¨**

### 4.3 í‰ê°€

V40ì—ëŠ” ì—¬ëŸ¬ í‰ê°€ ë°©ë²•ì´ ìˆìœ¼ë©°, **AIë³„ë¡œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ ë‹¤ë¦…ë‹ˆë‹¤.**

| AI | ëª¨ë¸ | ë°©ë²• | ë„êµ¬ | ë°°ì¹˜ í¬ê¸° | ë¹„ìš© | ì‹¤í–‰ |
|----|------|------|------|----------|------|------|
| **Claude** | Haiku 4.5 | CLI Direct / Skill | `helpers/claude_eval_helper.py` / `/evaluate-politician-v40` | 25 / 50 | $0 | ìˆ˜ë™ or Skill ìë™ |
| **ChatGPT** | gpt-5.1-codex-mini | CLI Direct (Codex) | `helpers/codex_eval_helper.py` | 25 (ìë™ ì¬ì‹œë„ 5) | $0.05/$0.40/1M | Python subprocess (stdin) |
| **Gemini** | 2.0 Flash | CLI Subprocess | `workflow/evaluate_gemini_subprocess.py` | 25 (Pre-filtering) | $0 | Python subprocess ì‹¤í–‰ |
| **Grok** | Grok 2 | API í˜¸ì¶œ | `helpers/grok_eval_helper.py` | 25 | API ë¹„ìš© | xAI API í˜¸ì¶œ |

**ëª¨ë¸ ë° ë¹„ìš© ì •ë³´**:
- **Claude Haiku 4.5**: API ë˜ëŠ” CLI Direct ë°©ì‹ (ë¬´ë£Œ)
- **ChatGPT gpt-5.1-codex-mini**: ~1 credit/message, 96% cheaper than gpt-5.1 ($0.05 input / $0.40 output per 1M tokens)
- **Gemini 2.0 Flash**: Google AI Pro ìœ ë£Œ ê³„ì • í•„ìš” (Subprocess ë¬´ë£Œ)
- **Grok 2**: xAI API ì‚¬ìš© (ìœ ë£Œ)

**ì„±ëŠ¥ ìµœì í™” (V40 ê°œì„ )**:
- âœ… **ë°°ì¹˜ í‰ê°€**: Gemini, ChatGPT 25ê°œì”© ì²˜ë¦¬ (ì´ì „: 1-by-1) â†’ 10x í–¥ìƒ
- âœ… **Pre-filtering**: ì´ë¯¸ í‰ê°€ëœ ë°ì´í„° ì‚¬ì „ ì œì™¸ â†’ 5x í–¥ìƒ, ì¤‘ë³µ í‰ê°€ 0%
- âœ… **ìë™ ì¬ì‹œë„**: ChatGPT Foreign key ì˜¤ë¥˜ ì‹œ ë°°ì¹˜ í¬ê¸° 5ê°œë¡œ ìë™ ì¬ì‹œë„ â†’ ì•ˆì •ì„± 100%
- âœ… **ê³µí†µ ì €ì¥ í•¨ìˆ˜**: common_eval_saver.py (4ê°œ AI í†µí•© ì €ì¥ ë¡œì§) â†’ ì½”ë“œ ì¤‘ë³µ ì œê±°
- ğŸ“Œ **ì¶”ê°€ í‰ê°€ ìŠ¤í¬ë¦½íŠ¸ ì œê±°**: ê¸°ë³¸ í—¬í¼ê°€ ë¯¸í‰ê°€ ë°ì´í„°ë§Œ ìë™ ì²˜ë¦¬

**ğŸ”§ ê¸°ìˆ ì  ë°©ì‹ ë¹„êµ (API vs CLI - 5ê°œì›” ì‹œí–‰ì°©ì˜¤ì˜ ê²°ê³¼)**:

| ë¹„êµ í•­ëª© | CLI ë°©ì‹ (âœ… ì±„íƒ) | API ë°©ì‹ (âŒ íê¸°) |
|-----------|-------------------|-------------------|
| **ì¸ì¦ ë°©ì‹** | ğŸ”“ Account Login (Claude/Gemini)<br>ğŸ” API Key (ChatGPT/Grok)<br>â†’ 1íšŒ ì„¤ì • í›„ ì¬ì‚¬ìš© | API Key í•„ìˆ˜ (4ê°œ ì „ë¶€)<br>â†’ ë§¤ ìš”ì²­ë§ˆë‹¤ ì¸ì¦ í•„ìš” |
| **ì‹¤í–‰ ë°©ì‹** | Subprocess í˜¸ì¶œ<br>â†’ ê°„ë‹¨í•œ CLI ëª…ë ¹ | HTTP API ìš”ì²­<br>â†’ ë³µì¡í•œ JSON êµ¬ì„± |
| **í• ë‹¹ëŸ‰/ì œí•œ** | Claude/Gemini: ë¬´ì œí•œ (êµ¬ë…)<br>ChatGPT/Grok: API ì œí•œ ì ìš© | ë¶„ë‹¹ ìš”ì²­ ì œí•œ (RPM)<br>â†’ Gemini: 15 req/min |
| **ì‚¬ìš© í¸ì˜ì„±** | 1íšŒ ë¡œê·¸ì¸/ì„¤ì •<br>â†’ ì¬ë¡œê·¸ì¸ ë¶ˆí•„ìš” | API í‚¤ ê´€ë¦¬ í•„ìˆ˜<br>â†’ ë§Œë£Œ, ë³´ì•ˆ ì´ìŠˆ |
| **ì½”ë“œ ë³µì¡ë„** | ë‹¨ìˆœ (10-20ì¤„)<br>â†’ subprocess.run() | ë³µì¡ (50-100ì¤„)<br>â†’ HTTP client, retry, error handling |
| **ë¹„ìš©** | Claude/Gemini: $0 (êµ¬ë…)<br>ChatGPT: $1.125/1K í‰ê°€<br>ì´ê³„: ~$1.13/1K í‰ê°€ | Claude: $0.75/1K<br>Gemini: $0.19/1K<br>ChatGPT: $45/1K<br>ì´ê³„: ~$46/1K í‰ê°€ |
| **ì ˆê°ë¥ ** | **97.5%** (40ë°° ì €ë ´) | - |

**ğŸ’¡ í•µì‹¬ ì¸ì‚¬ì´íŠ¸**: "APIê°€ ì•„ë‹ˆë¼ CLIë¡œ ê°€ë¼. êµ¬ë… í”Œëœì´ APIë³´ë‹¤ 40ë°° ì €ë ´í•˜ë‹¤."

ğŸ“„ **ìƒì„¸ ë¶„ì„**: `V40_AI_í‰ê°€_ë°©ì‹_ë°_ë¹„ìš©_ì¢…í•©_ë¶„ì„.md` ì°¸ì¡°

#### ë°©ë²• 1: Helper íŒ¨í„´ - CLI Direct (Claude, Geminiìš©)

CLI í„°ë¯¸ë„ì—ì„œ ì§ì ‘ í‰ê°€ ìˆ˜í–‰. API ë¹„ìš© $0.

```bash
# Claude í‰ê°€
python helpers/claude_eval_helper.py fetch \
  --politician_id={POLITICIAN_ID} \
  --politician_name="{POLITICIAN_NAME}" \
  --category=expertise

# â†’ fetchê°€ ìƒì„±í•œ í”„ë¡¬í”„íŠ¸ë¥¼ Claude CLIì— ë¶™ì—¬ë„£ê¸°
# â†’ ê²°ê³¼ë¥¼ JSON íŒŒì¼ë¡œ ì €ì¥

python helpers/claude_eval_helper.py save \
  --politician_id={POLITICIAN_ID} \
  --politician_name="{POLITICIAN_NAME}" \
  --category=expertise \
  --input=eval_result.json
```

```bash
# Gemini í‰ê°€ (CLI Subprocess ë°©ì‹)
cd scripts/workflow
python evaluate_gemini_subprocess.py \
  --politician "{POLITICIAN_NAME}" \
  --category expertise

# âœ… ìµœì í™” ì ìš©:
#   - ë°°ì¹˜ 25ê°œì”© í‰ê°€
#   - Pre-filtering (ì´ë¯¸ í‰ê°€ëœ ë°ì´í„° ìë™ ì œì™¸)
#   - ê³µí†µ ì €ì¥ í•¨ìˆ˜ ì‚¬ìš©
#   - 5x ì†ë„ í–¥ìƒ (ì¤‘ë³µ í‰ê°€ 0%)

# âš ï¸ ê³ ê¸‰ ì‚¬ìš©ì ì „ìš© (ìˆ˜ë™ DB ì¡°ì‘)
# python helpers/gemini_eval_helper.py fetch
# â†’ Gemini CLIì— í”„ë¡¬í”„íŠ¸ ë¶™ì—¬ë„£ê¸° â†’ ê²°ê³¼ JSON ì €ì¥
# python helpers/gemini_eval_helper.py save
```

#### ë°©ë²• 1-2: Claude Skill ìë™ í‰ê°€ ğŸ¤– (ê¶Œì¥!)

**Claude Code Skillì„ í†µí•œ ì™„ì „ ìë™ í‰ê°€**

```bash
# Claude Codeì—ì„œ ì‹¤í–‰ (ë‹¨ì¼ ì¹´í…Œê³ ë¦¬)
/evaluate-politician-v40 --politician_id=d0a5d6e1 --politician_name="ì¡°ì€í¬" --category=expertise

# ì „ì²´ ì¹´í…Œê³ ë¦¬ ìë™ í‰ê°€ (10ê°œ ìˆœì°¨ ì‹¤í–‰)
/evaluate-politician-v40 --politician_id=d0a5d6e1 --politician_name="ì¡°ì€í¬" --category=all
```

**íŠ¹ì§•**:
- âœ… 50ê°œ ë°°ì¹˜ ìë™ ì²˜ë¦¬ (ë¹ ë¦„!)
- âœ… fetch â†’ evaluate â†’ save ìë™í™”
- âœ… ì‚¬ìš©ì ê°œì… ì—†ì´ ì „ì²´ í”„ë¡œì„¸ìŠ¤ ì™„ë£Œ
- âœ… 10ê°œ ì¹´í…Œê³ ë¦¬ ìˆœì°¨ ì‹¤í–‰ ê°€ëŠ¥

**Skill íŒŒì¼**: `.claude/skills/evaluate-politician-v40.md`

**ìƒì„¸ ê°€ì´ë“œ**: `CLAUDE.md` ì„¹ì…˜ "ë°°ì¹˜ í¬ê¸° ê·œì¹™" ì°¸ì¡°

#### ë°©ë²• 2: Codex CLI Direct (ChatGPTìš©)

Codex CLIë¡œ stdinì„ í†µí•´ ìë™ í‰ê°€.

**íŠ¹ì§•**:
- âœ… **ë°°ì¹˜ í‰ê°€**: 25ê°œì”© í•œ ë²ˆì— í‰ê°€ (ì´ì „: 1-by-1)
- âœ… **Pre-filtering**: ì´ë¯¸ í‰ê°€ëœ ë°ì´í„° ìë™ ì œì™¸
- âœ… **ìë™ ì¬ì‹œë„**: Foreign key ì˜¤ë¥˜ ì‹œ ë°°ì¹˜ í¬ê¸° 5ê°œë¡œ ìë™ ì¬ì‹œë„
- âœ… **ê³µí†µ ì €ì¥ í•¨ìˆ˜**: common_eval_saver.py ì‚¬ìš©
- ğŸ“Œ **ëª¨ë¸**: gpt-5.1-codex-mini (~1 credit/message)

```bash
# Codex (ChatGPT) í‰ê°€
cd scripts/helpers
python codex_eval_helper.py \
  --politician_id={POLITICIAN_ID} \
  --politician_name="{POLITICIAN_NAME}" \
  --category=expertise \
  --batch_size=25

# âš ï¸ ë°°ì¹˜ í¬ê¸° 5ê°œë¡œ ì¬ì‹œë„ (Foreign key ì˜¤ë¥˜ ë°œìƒ ì‹œ ìë™)
```

#### ë°©ë²• 3: grok_eval_helper.py - xAI API í˜¸ì¶œ (Grokìš©)

xAI APIë¥¼ í†µí•´ ìë™ í‰ê°€. ë³„ë„ ìˆ˜ë™ ì‘ì—… ë¶ˆí•„ìš”.

```bash
# Grok í‰ê°€
cd scripts/helpers
python grok_eval_helper.py \
  --politician_id={POLITICIAN_ID} \
  --politician_name="{POLITICIAN_NAME}" \
  --category=expertise \
  --batch_size=25
```

> **ì°¸ê³ **: ChatGPT(Codex), Gemini(Subprocess), Grok(API)ëŠ” ìë™ ì‹¤í–‰ë˜ì§€ë§Œ,
> Claude(CLI Direct)ëŠ” ìˆ˜ë™ìœ¼ë¡œ í”„ë¡¬í”„íŠ¸ë¥¼ ë¶™ì—¬ë„£ì–´ì•¼ í•©ë‹ˆë‹¤.

### 4.3.1 CLI Direct ì—ëŸ¬ ì²˜ë¦¬

CLI Direct (Gemini, Claude) ì‹¤í–‰ ì‹œ ì—ëŸ¬ ë°œìƒ ì²˜ë¦¬ ì ˆì°¨:

**1. JSON í˜•ì‹ ê²€ì¦**: ì €ì¥ ì „ ë°˜ë“œì‹œ JSON ìœ íš¨ì„± í™•ì¸

**2. ì¬ì‹œë„**: ì‹¤íŒ¨ ì‹œ ìµœëŒ€ 3íšŒ ì¬ì‹œë„

**3. ë¶€ë¶„ ì‹¤íŒ¨**: ì¼ë¶€ ì¹´í…Œê³ ë¦¬ë§Œ ì‹¤íŒ¨ ì‹œ í•´ë‹¹ ì¹´í…Œê³ ë¦¬ë§Œ ì¬ìˆ˜ì§‘/ì¬í‰ê°€

**4. ì™„ì „ ì‹¤íŒ¨**: 3íšŒ ì¬ì‹œë„ í›„ì—ë„ ì‹¤íŒ¨ â†’ ì—ëŸ¬ ë¡œê·¸ ê¸°ë¡ + ìš´ì˜ì í™•ì¸ ìš”ì²­

```python
# CLI Direct ì—ëŸ¬ ì²˜ë¦¬ ì˜ˆì‹œ
def validate_cli_output(json_str):
    """CLI Direct ì¶œë ¥ JSON ê²€ì¦"""
    try:
        data = json.loads(json_str)
        required_fields = ['title', 'content', 'source_url', 'data_type', 'sentiment']

        for item in data:
            missing = [f for f in required_fields if f not in item]
            if missing:
                raise ValueError(f"í•„ìˆ˜ í•„ë“œ ëˆ„ë½: {missing}")

        return data
    except json.JSONDecodeError as e:
        print(f"âŒ JSON íŒŒì‹± ì‹¤íŒ¨: {e}")
        return None
    except Exception as e:
        print(f"âŒ ê²€ì¦ ì‹¤íŒ¨: {e}")
        return None

# ì¬ì‹œë„ ë¡œì§
def save_with_retry(json_str, max_retries=3):
    """ì¬ì‹œë„ ë¡œì§ í¬í•¨ ì €ì¥"""
    for attempt in range(1, max_retries + 1):
        validated_data = validate_cli_output(json_str)

        if validated_data:
            # DB ì €ì¥ ë¡œì§
            print(f"âœ… ì €ì¥ ì„±ê³µ (ì‹œë„ {attempt}íšŒ)")
            return True
        else:
            print(f"âš ï¸ ì €ì¥ ì‹¤íŒ¨ (ì‹œë„ {attempt}/{max_retries})")
            if attempt < max_retries:
                print("ì¬ì‹œë„ ì¤‘...")

    print("âŒ ì™„ì „ ì‹¤íŒ¨ - ìš´ì˜ì í™•ì¸ í•„ìš”")
    return False
```

**ì—ëŸ¬ ìœ í˜•ë³„ ëŒ€ì‘**:

| ì—ëŸ¬ ìœ í˜• | ì›ì¸ | í•´ê²° ë°©ë²• |
|-----------|------|-----------|
| JSON íŒŒì‹± ì‹¤íŒ¨ | ì˜ëª»ëœ JSON í˜•ì‹ | Claude/Gemini CLIì— ë‹¤ì‹œ í”„ë¡¬í”„íŠ¸ ì…ë ¥ (ìˆ˜ì • ìš”ì²­) |
| í•„ìˆ˜ í•„ë“œ ëˆ„ë½ | title, content ë“± ëˆ„ë½ | í”„ë¡¬í”„íŠ¸ ì¬ì‹¤í–‰ |
| URL í˜•ì‹ ì˜¤ë¥˜ | ì˜ëª»ëœ URL | í”„ë¡¬í”„íŠ¸ ìˆ˜ì • (URL ì˜ˆì‹œ ì¶”ê°€) |
| ë°ì´í„° íƒ€ì… ì˜¤ë¥˜ | official/public ì™¸ ê°’ | í”„ë¡¬í”„íŠ¸ ìˆ˜ì • (data_type ëª…ì‹œ) |
| DB ì—°ê²° ì‹¤íŒ¨ | Supabase ì—°ê²° ì˜¤ë¥˜ | ë„¤íŠ¸ì›Œí¬ í™•ì¸, API í‚¤ í™•ì¸ |

### 4.4 ì ìˆ˜ ê³„ì‚° (calculate_v40_scores.py)

```bash
python core/calculate_v40_scores.py \
  --politician_id={POLITICIAN_ID} \
  --politician_name="{POLITICIAN_NAME}"
```

### 4.5 ê²°ê³¼ í™•ì¸ (check_v40_results.py)

```bash
# ì „ì²´ ê²°ê³¼ í™•ì¸
python utils/check_v40_results.py \
  --politician_id={POLITICIAN_ID} \
  --politician_name="{POLITICIAN_NAME}"
```

---

## 5. ìˆ˜ì§‘ ìƒì„¸

### 5.1 OFFICIAL vs PUBLIC ë¶„ë‹´

#### OFFICIAL (40ê°œ) - Gemini 30 + Naver 10

**íŠ¹ì§•**:
- ê°ê´€ì  ì‚¬ì‹¤ (ëˆ„ê°€ ìˆ˜ì§‘í•˜ë“  ë™ì¼)
- í¸í–¥ ë°œìƒ ì—¬ì§€ ì—†ìŒ
- .go.kr ë„ë©”ì¸ ë“± ê³µì‹ ì‚¬ì´íŠ¸

**ì†ŒìŠ¤ ì˜ˆì‹œ**:
- êµ­íšŒ ì˜ì•ˆì •ë³´ (assembly.go.kr)
- ì •ë¶€ ë³´ë„ìë£Œ (korea.kr)
- ì„ ê±°ê´€ë¦¬ìœ„ì›íšŒ (nec.go.kr)
- ì •ë‹¹ ê³µì‹ ì‚¬ì´íŠ¸

#### PUBLIC (60ê°œ) - Gemini 20 + Naver 40

**íŠ¹ì§•**:
- ì˜ê²¬/í‰ê°€ (ì¶œì²˜ë§ˆë‹¤ ì‹œê° ë‹¤ë¦„)
- í¸í–¥ ë°œìƒ ê°€ëŠ¥
- ë‹¤ì–‘ì„± í•„ìš”

**Gemini PUBLIC (20ê°œ)**:
- Google Search ê¸°ë°˜
- ëª¨ë“  PUBLIC ì†ŒìŠ¤ ììœ 

**Naver PUBLIC (40ê°œ)**:
- Naver Search ê¸°ë°˜
- ëª¨ë“  PUBLIC ì†ŒìŠ¤ ììœ 

**âš ï¸ ì†ŒìŠ¤ ì œí•œ ì›ì¹™**:
ì œí•œì€ ë”± 2ê°œë§Œ:
1. OFFICIALì€ OFFICIAL ì†ŒìŠ¤ë§Œ
2. PUBLICì€ PUBLIC ì†ŒìŠ¤ë§Œ

ê·¸ ì™¸ ì†ŒìŠ¤ ì œí•œ/ì°¨ë‹¨/ê¸ˆì§€ ì¼ì²´ ì—†ìŒ

### 5.2 ì„¼í‹°ë©˜íŠ¸ ë°°ë¶„ (OFFICIAL 10-10-80 / PUBLIC 20-20-60)

```python
SENTIMENT_DISTRIBUTION = {
    "Gemini": {
        "official": {"negative": 3, "positive": 3, "free": 24},    # 30ê°œ (10-10-80)
        "public": {"negative": 4, "positive": 4, "free": 12}       # 20ê°œ (20-20-60)
    },
    "Naver": {
        "official": {"negative": 1, "positive": 1, "free": 8},     # 10ê°œ (10-10-80)
        "public": {"negative": 8, "positive": 8, "free": 24}       # 40ê°œ (20-20-60)
    }
}

# ë²„í¼ 20% í¬í•¨ ëª©í‘œ (ê° AIë³„ ê°œìˆ˜ Ã— 1.2, ì„¼í‹°ë©˜íŠ¸ ë¹„ìœ¨ ìœ ì§€)
SENTIMENT_DISTRIBUTION_BUFFER = {
    "Gemini": {
        "official": {"negative": 4, "positive": 4, "free": 28},    # 36ê°œ (10-10-80)
        "public": {"negative": 5, "positive": 5, "free": 14}       # 24ê°œ (20-20-60)
    },
    "Naver": {
        "official": {"negative": 1, "positive": 1, "free": 10},    # 12ê°œ (10-10-80)
        "public": {"negative": 10, "positive": 10, "free": 28}     # 48ê°œ (20-20-60)
    }
}

# === ê¸°ë³¸ (100ê°œ) ===
# OFFICIAL (40ê°œ): ë¶€ì • 3+1=4 (10%) / ê¸ì • 3+1=4 (10%) / ììœ  24+8=32 (80%)
# PUBLIC   (60ê°œ): ë¶€ì • 4+8=12 (20%) / ê¸ì • 4+8=12 (20%) / ììœ  12+24=36 (60%)
# ì „ì²´    (100ê°œ): ë¶€ì • 16 (16%) / ê¸ì • 16 (16%) / ììœ  68 (68%)

# === ë²„í¼ í¬í•¨ (120ê°œ) ===
# OFFICIAL (48ê°œ): ë¶€ì • 4+1=5 (10%) / ê¸ì • 4+1=5 (10%) / ììœ  28+10=38 (80%)
# PUBLIC   (72ê°œ): ë¶€ì • 5+10=15 (21%) / ê¸ì • 5+10=15 (21%) / ììœ  14+28=42 (58%)
# ì „ì²´    (120ê°œ): ë¶€ì • 20 (17%) / ê¸ì • 20 (17%) / ììœ  80 (67%)
```

---

## 6. í‰ê°€ ìƒì„¸

### 6.1 í’€ë§ í‰ê°€ ë°©ì‹

```
[ìˆ˜ì§‘ ë‹¨ê³„]
Gemini 50ê°œ (50%) + Naver 50ê°œ (50%) = 100ê°œ í’€ (ë²„í¼ 20% í¬í•¨ ìµœëŒ€ 120ê°œ)
(ì¤‘ë³µ ì œê±° ì•ˆ í•¨, ê·¸ëŒ€ë¡œ í•©ì¹¨)

[í‰ê°€ ë‹¨ê³„]
4ê°œ AI Ã— 100ê°œ = 400ê°œ í‰ê°€
- Claude: 100ê°œ í‰ê°€ ($0, CLI Direct)
- ChatGPT: 100ê°œ í‰ê°€
- Grok: 100ê°œ í‰ê°€
- Gemini: 100ê°œ í‰ê°€
```

### 6.2 í‰ê°€ ë“±ê¸‰ ì²´ê³„

| ë“±ê¸‰ | íŒë‹¨ ê¸°ì¤€ | ì ìˆ˜ |
|------|-----------|------|
| +4 | íƒì›”í•¨ - í•´ë‹¹ ë¶„ì•¼ ëª¨ë²” ì‚¬ë¡€ | +8 |
| +3 | ìš°ìˆ˜í•¨ - ê¸ì •ì  í‰ê°€ | +6 |
| +2 | ì–‘í˜¸í•¨ - ê¸°ë³¸ ì¶©ì¡± | +4 |
| +1 | ë³´í†µ - í‰ê·  ìˆ˜ì¤€ | +2 |
| -1 | ë¯¸í¡í•¨ - ê°œì„  í•„ìš” | -2 |
| -2 | ë¶€ì¡±í•¨ - ë¬¸ì œ ìˆìŒ | -4 |
| -3 | ë§¤ìš° ë¶€ì¡± - ì‹¬ê°í•œ ë¬¸ì œ | -6 |
| -4 | ê·¹íˆ ë¶€ì¡± - ì •ì¹˜ì¸ ë¶€ì í•© | -8 |

### 6.3 ìì—° ê°€ì¤‘ì¹˜

- 2ê°œ ì±„ë„ì´ ë™ì¼ ë‰´ìŠ¤ ìˆ˜ì§‘ â†’ í’€ì— 2ë²ˆ í¬í•¨ â†’ 2ë°° ì˜í–¥
- ë³„ë„ ê°€ì¤‘ì¹˜ ê³„ì‚° ë¶ˆí•„ìš”
- ìì—°ìŠ¤ëŸ½ê²Œ ë°˜ì˜ë¨

---

## 7. ë¹„ìš© ë¶„ì„

### ìˆ˜ì§‘ ë¹„ìš©

| AI | ì¹´í…Œê³ ë¦¬ë‹¹ | ì •ì¹˜ì¸ë‹¹ (10ê°œ) | 100ëª… |
|----|------------|----------------|-------|
| Gemini | $0 | $0 | **$0** |
| Naver | $0 | $0 | **$0** |
| **í•©ê³„** | **$0** | **$0** | **$0** |

### í‰ê°€ ë¹„ìš©

| AI | í•­ëª©ë‹¹ | ì •ì¹˜ì¸ë‹¹ (1,000ê°œ) | 100ëª… |
|----|--------|-------------------|-------|
| Claude | $0 | **$0** | **$0** (CLI Direct) |
| ChatGPT | TBD | TBD | TBD |
| Grok | TBD | TBD | TBD |
| Gemini | TBD | TBD | TBD |

### ì´ ë¹„ìš©

```
ìˆ˜ì§‘: $0/100ëª… (Gemini + Naver ëª¨ë‘ ë¬´ë£Œ)
í‰ê°€: $0/100ëª… (Claude CLI Direct)
ì´: $0/100ëª…

100% ë¬´ë£Œ âœ…
```

---

## 8. ì˜ˆìƒ ì‘ì—…ëŸ‰

### 1ëª… ì •ì¹˜ì¸ ê¸°ì¤€

```
ìˆ˜ì§‘:
- Gemini: 500ê°œ (10ê°œ ì¹´í…Œê³ ë¦¬ Ã— 50ê°œ)
- Naver: 500ê°œ (10ê°œ ì¹´í…Œê³ ë¦¬ Ã— 50ê°œ)
- ì´ 1,000ê°œ (ë²„í¼ 20% í¬í•¨ ìµœëŒ€ 1,200ê°œ)

í‰ê°€:
- Claude: 1,000ê°œ (CLI Direct, $0)
- ChatGPT: 1,000ê°œ
- Grok: 1,000ê°œ
- Gemini: 1,000ê°œ
- ì´ 4,000ê°œ í‰ê°€

ì ìˆ˜ ê³„ì‚°:
- 10ê°œ ì¹´í…Œê³ ë¦¬ ì ìˆ˜ ì‚°ì¶œ
- ìµœì¢… ì¢…í•© ì ìˆ˜ ì‚°ì¶œ
```

### 100ëª… ê¸°ì¤€

```
ìˆ˜ì§‘: 100,000ê°œ (10ë§Œê°œ, ë²„í¼ 20% í¬í•¨ ìµœëŒ€ 120,000ê°œ)
í‰ê°€: 400,000ê°œ (40ë§Œê°œ)
ë¹„ìš©: $0 (ì™„ì „ ë¬´ë£Œ)
```

---

## 9. ì£¼ì˜ì‚¬í•­

### 9.1 ìˆ˜ì§‘ ì‹œ

- âœ… ì‹¤ì œ URL í•„ìˆ˜ (example.com ê¸ˆì§€)
- âœ… OFFICIALì€ OFFICIAL ì†ŒìŠ¤ë§Œ
- âœ… PUBLICì€ PUBLIC ì†ŒìŠ¤ë§Œ
- âœ… ê·¸ ì™¸ ì†ŒìŠ¤ ì œí•œ ì¼ì²´ ì—†ìŒ
- âœ… OFFICIAL 10-10-80 / PUBLIC 20-20-60 ê· í˜• ìœ ì§€

### 9.2 í‰ê°€ ì‹œ

- âœ… Claude CLI Direct í™œìš© (API ë¹„ìš© $0)
- âœ… ìˆ˜ì§‘ ì‹œì  â‰  í‰ê°€ ì‹œì  (ì„¸ì…˜ ë¶„ë¦¬)
- âœ… 4ê°œ AI ëª¨ë‘ ì „ì²´ ë°ì´í„° í‰ê°€
- âœ… ë“±ê¸‰ ì²´ê³„ ì¤€ìˆ˜ (+4 ~ -4)

### 9.3 ë¹„ìš© ìµœì í™”

- âœ… Gemini ë¬´ë£Œ (Google Search)
- âœ… Naver ë¬´ë£Œ (Naver Search API)
- âœ… Claude CLI Direct ($0)
- âœ… ì™„ì „ ë¬´ë£Œ ì‹œìŠ¤í…œ

---

## 10. ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” ê´€ê³„

```
politicians (ì •ì¹˜ì¸ ê¸°ë³¸ ì •ë³´)
    â†“ 1:N
collected_data_v40 (ìˆ˜ì§‘ ë°ì´í„°, rating ì—†ìŒ)
    â†“ 1:N (collected_data_idë¡œ ì—°ê²°)
evaluations_v40 (í‰ê°€ ê²°ê³¼, rating ìˆìŒ)

politicians
    â†“ 1:1
ai_final_scores_v40 (ìµœì¢… ì ìˆ˜, JSONB)
```

**í•µì‹¬:**
- `collected_data_v40.id` â†’ `evaluations_v40.collected_data_id` (FK)
- ìˆ˜ì§‘ ë°ì´í„° 1ê°œ â†’ 4ê°œ AI í‰ê°€ (4ê°œ ë ˆì½”ë“œ)
- ìˆ˜ì§‘ í…Œì´ë¸”: rating ì—†ìŒ (ìˆ˜ì§‘ë§Œ)
- í‰ê°€ í…Œì´ë¸”: rating ìˆìŒ (í‰ê°€ë§Œ)

---

## 11. ì°¸ê³  ë¬¸ì„œ

- `V40_ê¸°ë³¸ë°©ì¹¨.md` - í•µì‹¬ ì§€ì¹¨
- `V40_ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜_ê°€ì´ë“œ.md` - ìë™í™” ê°€ì´ë“œ
- `V40_ì™„ì „í•œ_í”„ë¡œì„¸ìŠ¤_í”Œë¡œìš°ì°¨íŠ¸.md` - ì „ì²´ í”„ë¡œì„¸ìŠ¤ ì‹œê°í™” â­
- `AI_ê¸°ë°˜_ì •ì¹˜ì¸_ìƒì„¸í‰ê°€ë³´ê³ ì„œ_ìƒì„±_ê°€ì´ë“œ_V40.md` - ë³´ê³ ì„œ ìƒì„±
- `Claude_CLI_Direct_í‰ê°€_ì ìš©ë°©ë²•.md` - í‰ê°€ ë°©ë²•

---

**ìµœì¢… ì—…ë°ì´íŠ¸**: 2026-02-06
**ë²„ì „**: V40
