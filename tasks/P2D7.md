# P2D7: 메인 페이지 실제 데이터 연동

## 작업 ID
P2D7

## 작업 개요
메인 페이지를 Mock 데이터에서 실제 DB 데이터로 전환

## 담당 AI
fullstack-developer

## 의존 작업
P2D6

## 작업 내용

### 1. Client Component로 전환
```typescript
'use client';

import { useEffect, useState } from 'react';
import { getHomeData, type HomeData } from '@/lib/api/home';
```

### 2. 상태 관리
```typescript
const [data, setData] = useState<HomeData | null>(null);
const [loading, setLoading] = useState(true);
const [error, setError] = useState<string | null>(null);

useEffect(() => {
  async function loadData() {
    try {
      const homeData = await getHomeData();
      setData(homeData);
    } catch (err) {
      setError('데이터를 불러오는데 실패했습니다.');
    } finally {
      setLoading(false);
    }
  }
  loadData();
}, []);
```

### 3. 로딩 상태 UI
```tsx
if (loading) {
  return <LoadingSpinner />;
}
```

### 4. 에러 상태 UI
```tsx
if (error || !data) {
  return <ErrorMessage />;
}
```

### 5. 실제 데이터 렌더링
- AI 평점 TOP 10: `data.aiRanking.map(...)`
- 실시간 인기글 15: `data.hotPosts.map(...)`
- 정치인 최근 글 9: `data.politicianPosts.map(...)`
- 사이드바 위젯 8개: `data.sidebar.*`

### 6. Mock 데이터 제거
- `mockPoliticians` 삭제
- `mockHotPosts` 삭제
- `mockPoliticianPosts` 삭제

## 산출물
- `frontend/src/app/page.tsx` (대폭 수정)

## 검증 방법
```bash
cd frontend
npm run dev
# http://localhost:3000 접속
# 개발자 도구에서 Network 탭 확인
# Supabase 쿼리 요청 확인
```

## 예상 소요 시간
1시간

## 완료 조건
- [x] 'use client' 지시어 추가
- [x] useState/useEffect 구현
- [x] 로딩 스피너 추가
- [x] 에러 처리 추가
- [x] 실제 데이터 렌더링 (AI 랭킹, 인기글, 정치인 글, 사이드바)
- [x] Mock 데이터 모두 제거
- [x] 빌드 테스트 통과

## 상태
✅ 완료 (2025-10-20 03:00)
