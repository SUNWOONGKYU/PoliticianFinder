# P5D6: 모의 데이터 삽입 및 전체 기능 검증

**Phase**: 5 (베타 런칭)
**작업ID**: P5D6
**담당**: fullstack-developer
**우선순위**: 🔴 긴급
**작성일**: 2025-10-20

---

## 📋 작업 개요

데이터베이스에 모의(Mock) 데이터를 삽입하여 메인 페이지 및 모든 기능을 실제 환경에서 검증합니다.

### 목표
- ✅ 정치인 샘플 데이터 30명
- ✅ 게시글 샘플 데이터 50개
- ✅ 댓글 샘플 데이터 100개
- ✅ AI 평점 데이터 (5개 AI × 30명)
- ✅ 정치인 공식 글 데이터
- ✅ 시민 평가 데이터

---

## 🎯 검증 대상

### 1. 메인 페이지 (/)
- AI 평점 랭킹 TOP 10
- 실시간 인기글 TOP 15
- 정치인 최근 글 9개
- 사이드바 8개 위젯

### 2. 정치인 목록 페이지 (/politicians)
- 필터링 (정당, 지역, 직책)
- 정렬 (이름, 평점, 인기도)
- 페이지네이션

### 3. 정치인 상세 페이지 (/politicians/[id])
- 프로필 정보
- AI 평점 표시
- 시민 평가 목록
- 평가 통계

### 4. 커뮤니티 페이지 (/community)
- 인기글 표시 (HOT 배지)
- 카테고리 필터
- 검색 기능

---

## 📝 작업 내용

### Step 1: 모의 데이터 SQL 파일 생성

**파일**: `supabase/MOCK_DATA_INSERT.sql`

**포함 내용**:
1. 정치인 30명 (다양한 정당, 지역, 직책)
2. AI 평점 150개 (5 AI × 30명)
3. 게시글 50개 (다양한 카테고리)
4. 댓글 100개
5. 정치인 공식 글 90개 (30명 × 3개)
6. 시민 평가 100개
7. connected_services 데이터

### Step 2: 데이터 특성

**정치인 데이터**:
- 정당: 국민의힘, 민주당, 무소속, 정의당, 기타
- 지역: 서울, 부산, 경기, 대구, 인천, 광주 등
- 직책: 국회의원, 시장, 도지사, 구청장
- Status: incumbent, candidate, prospective

**AI 평점**:
- Claude: 85-95점
- GPT: 80-95점
- Gemini: 82-93점
- Grok: 78-92점
- Perplexity: 80-94점

**게시글 특성**:
- HOT 게시글 10개 (높은 view_count, upvotes)
- 일반 게시글 40개
- 카테고리: 자유게시판, 정책토론, 뉴스, 질문답변

### Step 3: 실행 방법

```bash
# Supabase Dashboard → SQL Editor
# MOCK_DATA_INSERT.sql 내용 복사/붙여넣기
# Run 클릭
```

---

## ✅ 검증 기준

### 메인 페이지
- [ ] AI 랭킹 10개 표시
- [ ] 인기글 15개 표시 (최소 3개 HOT 배지)
- [ ] 정치인 글 9개 표시
- [ ] 사이드바 통계 정상 표시

### 정치인 페이지
- [ ] 30명 정치인 카드 표시
- [ ] 필터링 작동
- [ ] 정렬 작동
- [ ] 페이지네이션 작동 (3페이지)

### 상세 페이지
- [ ] 프로필 정보 표시
- [ ] AI 평점 5개 표시
- [ ] Composite score 계산됨
- [ ] 시민 평가 목록 표시

### 커뮤니티 페이지
- [ ] 게시글 목록 표시
- [ ] HOT 배지 애니메이션
- [ ] 검색 작동
- [ ] 카테고리 필터 작동

---

## 🚀 성공 기준

1. **데이터 삽입**: 오류 없이 모든 데이터 삽입 완료
2. **뷰 작동**: 모든 뷰에서 데이터 조회 가능
3. **페이지 렌더링**: 모든 페이지 정상 표시
4. **기능 작동**: 필터, 정렬, 검색 모두 작동

---

## 📦 산출물

1. `supabase/MOCK_DATA_INSERT.sql` - 모의 데이터 SQL
2. `MOCK_DATA_VERIFICATION.md` - 검증 결과 보고서
3. 스크린샷 - 각 페이지별 정상 작동 화면

---

## 🔧 트러블슈팅

### 이슈 1: Foreign Key 제약 위반
**해결**: profiles 테이블에 사용자 먼저 생성

### 이슈 2: RLS 정책으로 데이터 접근 불가
**해결**: SERVICE_ROLE_KEY 사용 또는 RLS 임시 비활성화

### 이슈 3: 뷰에서 데이터 조회 안됨
**해결**: 마이그레이션 재실행 확인

---

## ⏱️ 예상 소요 시간

- SQL 파일 작성: 30분
- 데이터 삽입: 5분
- 검증 및 테스트: 20분
- **총**: 약 1시간

---

**작성자**: Claude Code (AI)
**검토자**: -
**승인자**: -
