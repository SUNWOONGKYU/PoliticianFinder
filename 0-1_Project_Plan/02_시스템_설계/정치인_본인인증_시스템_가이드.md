# 정치인 본인 인증 시스템 가이드

## 개요
PoliticianFinder 플랫폼에서 정치인은 회원가입 없이도 특정 기능을 사용할 수 있습니다.
정치인 본인 확인은 **3가지 정보**만으로 간단하게 처리됩니다.

**핵심 철학**: 재산권이나 법적 권한이 아닌 글/댓글 작성 권한 부여를 위한 **합리적 수준의 확인**

---

## 본인 인증 3가지 항목

### 1. 이름
- **형식**: 텍스트 입력
- **예시**: 김민준
- **필수**: ✅
- **변동성**: 없음 (공인은 이름 변경 불가)

### 2. 소속 정당
- **형식**: 드롭다운 선택
- **옵션** (12개, 의석수 순):
  - 국민의힘
  - 더불어민주당
  - 조국혁신당
  - 개혁신당
  - 진보당
  - 새로운미래
  - 기본소득당
  - 사회민주당
  - 정의당
  - 무소속
  - 기타
- **필수**: ✅
- **변동성**: 낮음 (당적 변경 시 DB 실시간 반영)

### 3. 출마직종
- **형식**: 드롭다운 선택
- **옵션** (7개):
  - 국회의원
  - 광역단체장
  - 광역의원
  - 기초단체장
  - 기초의원
  - 교육감
  - **현직** (아직 출마직종이 정해지지 않은 정치인)
- **필수**: ✅
- **변동성**: 낮음 (선거 주기에 따라 변경)

---

## 인증 프로세스

### 1단계: 정보 입력
정치인이 다음 3가지 정보를 입력합니다:
- 이름
- 소속 정당
- 출마직종

### 2단계: DB 확인
입력된 정보가 시스템에 등록된 정치인 정보와 **모두 일치**하는지 확인합니다.

### 3단계: 인증 결과
- **일치**: 본인 인증 완료 → 권한 부여
- **불일치**: "정보가 일치하지 않습니다. 다시 확인해주세요." 메시지 표시

---

## 적용 범위

### 1. 상세평가 보고서 구매 (payment.html)
- 정치인 본인만 자신의 보고서 구매 가능
- 구매 전 3가지 항목으로 본인 인증 필수

### 2. 정치인 글쓰기
- 정치인이 게시글을 작성할 때
- 3가지 항목 입력 → 인증 → 글쓰기 권한 부여

### 3. 정치인 댓글 작성 (post-detail_politician.html)
- 정치인 글에 정치인이 댓글을 작성할 때
- 3가지 항목 입력 → 인증 → 댓글 작성 권한 부여
- **모든 정치인**이 다른 정치인 글에도 댓글 작성 가능 (정책 토론 활성화)

---

## 보안성

### 합리적 수준의 확인
- **목적**: 재산권이나 법적 권한이 아닌, 글/댓글 작성 권한 부여
- **철학**: 완벽한 본인 인증보다는 **합리적 수준의 확인**으로 충분
- **효과**: 대부분의 부정 사용 방지하면서도 사용자 편의성 유지

### 동명이인 가능성
- 이름만 같음: 가능성 있음
- 이름 + 소속 정당 같음: 낮음
- 이름 + 소속 정당 + 출마직종 같음: **매우 낮음** (수만분의 일 확률)
- 예시: "김민준 + 더불어민주당 + 국회의원"이 동시에 2명 이상일 확률은 거의 없음

### 변동성 검토
- ✅ **이름**: 변경 불가 (공인)
- ✅ **소속 정당**: 변경 가능하나 빈번하지 않음, DB에서 실시간 반영
- ✅ **출마직종**: 선거 주기에 따라 변경, DB에서 실시간 반영
- ❌ **생년월일**: 일부 정치인은 공개 정보 없거나 불일치 (예: 이재명) → 제외
- ❌ **지역구**: 변동 가능성 높음, 국회의원만 해당 → 제외

---

## UI/UX 가이드

### 입력 폼 레이아웃
```
┌─────────────────────────────────┐
│ 본인 인증                        │
├─────────────────────────────────┤
│ 이름 *                          │
│ [정치인 이름]                    │
│                                 │
│ 소속 정당 *                      │
│ [선택하세요 ▼]                   │
│                                 │
│ 출마직종 *                       │
│ [선택하세요 ▼]                   │
│                                 │
│ [본인 인증하기]                  │
└─────────────────────────────────┘
```

### 색상 가이드
- **정치인 관련**: 주황색 (Orange #f97316)
  - 정치인 댓글 작성 버튼: `bg-primary-500`
  - 정치인 댓글 배경: `bg-orange-50`
  - 정치인 이름: `text-primary-600`

- **회원 관련**: 보라색 (Purple #9333ea)
  - 회원 댓글 작성 버튼: `bg-purple-600`
  - 회원 이름: `text-purple-600`

### 인증 성공 메시지
```
✅ 본인 인증이 완료되었습니다.
```
- 배경: `bg-green-50`
- 테두리: `border-green-200`
- 텍스트: `text-green-800`

### 인증 실패 메시지
```
❌ 정보가 일치하지 않습니다. 다시 확인해주세요.
```
- 배경: `bg-red-50`
- 테두리: `border-red-200`
- 텍스트: `text-red-800`

---

## 댓글 시스템 구분

### 정치인 글 페이지 (post-detail_politician.html)
**2개의 댓글 작성 섹션:**

1. **정치인 댓글 작성** (주황색)
   - 배경: `bg-orange-50 border-primary-200`
   - 라벨: 🏛️ 정치인으로 댓글 작성
   - 버튼: `bg-primary-500` (주황색)
   - 인증 필요: 이름 + 생년월일 + 소속 정당

2. **회원 댓글 작성** (보라색)
   - 배경: `bg-purple-50 border-purple-200`
   - 라벨: 👤 회원으로 댓글 작성
   - 버튼: `bg-purple-600` (보라색)
   - 로그인 필요

### 회원 글 페이지 (post-detail_member.html)
**1개의 댓글 작성 섹션:**
- 회원 댓글 작성만 가능 (보라색)

---

## 댓글 표시 가이드

### 정치인 댓글
```
┌─────────────────────────────────┐
│ 🏛️ 김민준 의원  국회의원        │
│ 2025.10.25 14:20  👍 45  👎 2   │
├─────────────────────────────────┤
│ 댓글 내용...                     │
└─────────────────────────────────┘
```
- 배경: `bg-orange-50`
- 이름: `text-primary-600` (주황색)
- 아이콘: 🏛️

### 회원 댓글
```
┌─────────────────────────────────┐
│ 👤 시민123  ML4                 │
│ 2025.10.25 10:30  👍 12  👎 1   │
├─────────────────────────────────┤
│ 댓글 내용...                     │
└─────────────────────────────────┘
```
- 배경: 흰색
- 이름: `text-purple-600` (보라색)
- 아이콘: 👤

---

## 기술 구현 참고

### 백엔드 요구사항
1. 정치인 정보 DB 테이블 필수 필드:
   - `name` (이름)
   - `party` (소속 정당)
   - `position` (출마직종: 국회의원/광역단체장/광역의원/기초단체장/기초의원/교육감/현직)

2. 인증 API 엔드포인트:
   ```
   POST /api/verify-politician
   {
     "name": "김민준",
     "party": "더불어민주당",
     "position": "국회의원"
   }
   ```

3. 응답:
   ```json
   {
     "success": true,
     "politician_id": 123,
     "name": "김민준",
     "position": "국회의원",
     "message": "본인 인증이 완료되었습니다."
   }
   ```

### 프론트엔드 구현
- 3가지 입력 필드 모두 필수 (`required`)
- 소속 정당 드롭다운: 12개 정당 (의석수 순)
- 출마직종 드롭다운: 7개 옵션 (국회의원/광역단체장/광역의원/기초단체장/기초의원/교육감/현직)
- 인증 완료 시 세션/토큰 저장
- 인증된 정치인 정보로 글/댓글 작성
- 인증 성공 메시지: "김민준 (국회의원)님으로 인증되었습니다."

---

## 참고 파일
- `payment.html`: 보고서 구매 시 본인 인증 (147-189줄)
- `post-detail_politician.html`: 정치인 댓글 작성 (206-240줄)
- `post-detail_member.html`: 회원 댓글 작성 (200-213줄)

---

## 업데이트 이력
- 2025.10.26: 초안 작성
- 2025.10.26: 지역구 항목 제거 (4가지 → 3가지)
- 2025.10.26: 정치인 댓글 시스템 추가
- 2025.10.26: 생년월일 → 출마직종으로 변경 (합리적 수준의 확인)
- 2025.10.26: 출마직종에 "현직" 옵션 추가 (6가지 → 7가지)
- 2025.10.26: 출마직종에 "교육감" 추가 (5가지 → 6가지)
- 2025.10.26: 정당 목록 확대 (4개 → 12개, 의석수 순)
