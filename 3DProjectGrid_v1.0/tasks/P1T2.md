# P1T2 - 컴포넌트 단위 테스트

## 작업 ID
P1T2

## 담당 영역
Test & QA

## 작업 개요
Phase 1에서 구현한 주요 컴포넌트들에 대한 단위 테스트를 작성합니다.

## 상세 설명
Navbar, 로그인 페이지, 회원가입 페이지, 프로필 페이지 등 핵심 컴포넌트에 대한 테스트를 작성하여 기능을 검증합니다.

## 기술 스택
- Jest
- React Testing Library
- @testing-library/user-event

## 구현 사항
1. Navbar 컴포넌트 테스트
2. 로그인 폼 테스트
3. 회원가입 폼 테스트
4. 프로필 페이지 테스트
5. ProtectedRoute 테스트

## 테스트 예시

### Navbar 테스트
```javascript
// __tests__/components/Navbar.test.js
import { render, screen } from '@testing-library/react'
import Navbar from '@/components/Navbar'
import { AuthContext } from '@/contexts/AuthContext'

describe('Navbar', () => {
  it('로그인하지 않은 경우 로그인 버튼 표시', () => {
    render(
      <AuthContext.Provider value={{ user: null }}>
        <Navbar />
      </AuthContext.Provider>
    )
    expect(screen.getByText('로그인')).toBeInTheDocument()
  })

  it('로그인한 경우 프로필과 로그아웃 버튼 표시', () => {
    const mockUser = { email: 'test@example.com' }
    render(
      <AuthContext.Provider value={{ user: mockUser }}>
        <Navbar />
      </AuthContext.Provider>
    )
    expect(screen.getByText('프로필')).toBeInTheDocument()
    expect(screen.getByText('로그아웃')).toBeInTheDocument()
  })
})
```

### 로그인 폼 테스트
```javascript
// __tests__/pages/login.test.js
import { render, screen, fireEvent, waitFor } from '@testing-library/react'
import userEvent from '@testing-library/user-event'
import LoginPage from '@/pages/login'

describe('Login Page', () => {
  it('이메일과 비밀번호 입력 필드가 렌더링됨', () => {
    render(<LoginPage />)
    expect(screen.getByLabelText(/이메일/i)).toBeInTheDocument()
    expect(screen.getByLabelText(/비밀번호/i)).toBeInTheDocument()
  })

  it('폼 제출 시 로그인 함수 호출', async () => {
    const user = userEvent.setup()
    render(<LoginPage />)
    
    await user.type(screen.getByLabelText(/이메일/i), 'test@example.com')
    await user.type(screen.getByLabelText(/비밀번호/i), 'password123')
    await user.click(screen.getByRole('button', { name: /로그인/i }))
    
    // 로그인 로직 검증
  })
})
```

## 테스트 커버리지 목표
- 컴포넌트 렌더링 테스트: 100%
- 사용자 인터랙션 테스트: 80% 이상
- 조건부 렌더링 테스트: 90% 이상

## 성공 기준
- [ ] Navbar 컴포넌트 테스트 작성 및 통과
- [ ] 로그인 페이지 테스트 작성 및 통과
- [ ] 회원가입 페이지 테스트 작성 및 통과
- [ ] 프로필 페이지 테스트 작성 및 통과
- [ ] ProtectedRoute 테스트 작성 및 통과
- [ ] 전체 테스트 커버리지 70% 이상

## 의존 작업
- P1T1 (Jest 테스트 환경 설정)
- P1F1~P1F6 (Frontend 컴포넌트들)

## 예상 소요 시간
3시간

## 참고 사항
- Mock 데이터 별도 파일로 관리
- Supabase 클라이언트 모킹 필요
- AuthContext 모킹 패턴 정립
