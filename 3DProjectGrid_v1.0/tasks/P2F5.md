# P2F5 - ì •ë ¬ ë“œë¡­ë‹¤ìš´

**Phase**: Phase 2 - ì •ì¹˜ì¸ ëª©ë¡/ìƒì„¸
**ì˜ì—­**: Frontend
**ë‹´ë‹¹ AI**: fullstack-developer
**ìƒíƒœ**: ëŒ€ê¸°
**ì§„ë„**: 0%

---

## ğŸ“‹ ì‘ì—… ê°œìš”

ì •ì¹˜ì¸ ëª©ë¡ í˜ì´ì§€ì—ì„œ ì •ë ¬ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ë“œë¡­ë‹¤ìš´ ì»´í¬ë„ŒíŠ¸ë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤. ì‚¬ìš©ìê°€ ì´ë¦„ìˆœ, í‰ì ìˆœ, ìµœì‹ ìˆœ ë“± ë‹¤ì–‘í•œ ê¸°ì¤€ìœ¼ë¡œ ì •ì¹˜ì¸ ëª©ë¡ì„ ì •ë ¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ğŸ¯ ì‘ì—… ëª©í‘œ

- [ ] SortDropdown ì»´í¬ë„ŒíŠ¸ ìƒì„±
- [ ] ì •ë ¬ ì˜µì…˜ ë“œë¡­ë‹¤ìš´
- [ ] ì •ë ¬ ë°©í–¥ (ì˜¤ë¦„ì°¨ìˆœ/ë‚´ë¦¼ì°¨ìˆœ) í† ê¸€
- [ ] ì„ íƒëœ ì •ë ¬ ì˜µì…˜ í‘œì‹œ
- [ ] URL ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° ë™ê¸°í™”
- [ ] ì•„ì´ì½˜ì„ í†µí•œ ì§ê´€ì  UI

---

## ğŸ“ ê¸°ìˆ  ì‚¬ì–‘

### Frontend
- Framework: Next.js 14 (App Router)
- Language: TypeScript
- Styling: Tailwind CSS
- UI Components: shadcn/ui (Select, Button)

### íŒŒì¼ êµ¬ì¡°
```
frontend/
  src/
    components/
      politician/
        SortDropdown.tsx
```

### SortDropdown Props ì¸í„°í˜ì´ìŠ¤
```typescript
interface SortDropdownProps {
  onSortChange: (sort: SortOption) => void
  initialSort?: SortOption
}

interface SortOption {
  field: 'name' | 'avg_rating' | 'created_at' | 'total_ratings'
  order: 'asc' | 'desc'
}
```

---

## ğŸ”— ì˜ì¡´ ì‘ì—…

**ì„ í–‰ ì‘ì—…**: P2B1 (ì •ì¹˜ì¸ ëª©ë¡ API Route)
**í›„ì† ì‘ì—…**: P2F7 (ì •ì¹˜ì¸ ëª©ë¡ í˜ì´ì§€)

---

## âœ… ì™„ë£Œ ê¸°ì¤€

1. SortDropdown ì»´í¬ë„ŒíŠ¸ êµ¬í˜„
2. ì •ë ¬ í•„ë“œ ì„ íƒ ë“œë¡­ë‹¤ìš´
3. ì˜¤ë¦„ì°¨ìˆœ/ë‚´ë¦¼ì°¨ìˆœ í† ê¸€ ë²„íŠ¼
4. ì„ íƒëœ ì •ë ¬ í‘œì‹œ
5. URL ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° ë™ê¸°í™”
6. ì•„ì´ì½˜ í‘œì‹œ (â†‘ â†“)
7. TypeScript íƒ€ì… ì•ˆì •ì„± í™•ë³´

---

## ğŸ’» êµ¬í˜„ ìƒì„¸

```typescript
// components/politician/SortDropdown.tsx
'use client'

import { useState, useEffect } from 'react'
import { useRouter, useSearchParams } from 'next/navigation'
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'
import { Button } from '@/components/ui/button'
import { ArrowUpDown, ArrowUp, ArrowDown } from 'lucide-react'

interface SortDropdownProps {
  onSortChange: (sort: SortOption) => void
}

interface SortOption {
  field: 'name' | 'avg_rating' | 'created_at' | 'total_ratings'
  order: 'asc' | 'desc'
}

const SORT_OPTIONS = [
  { value: 'name', label: 'ì´ë¦„ìˆœ' },
  { value: 'avg_rating', label: 'í‰ì ìˆœ' },
  { value: 'created_at', label: 'ìµœì‹ ìˆœ' },
  { value: 'total_ratings', label: 'í‰ê°€ìˆ˜ìˆœ' }
]

export default function SortDropdown({ onSortChange }: SortDropdownProps) {
  const router = useRouter()
  const searchParams = useSearchParams()

  const [sortField, setSortField] = useState<string>(
    searchParams.get('sort') || 'name'
  )
  const [sortOrder, setSortOrder] = useState<'asc' | 'desc'>(
    (searchParams.get('order') as 'asc' | 'desc') || 'asc'
  )

  useEffect(() => {
    const sort: SortOption = {
      field: sortField as SortOption['field'],
      order: sortOrder
    }

    onSortChange(sort)

    // URL ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° ì—…ë°ì´íŠ¸
    const params = new URLSearchParams(searchParams.toString())
    params.set('sort', sortField)
    params.set('order', sortOrder)
    router.push(`?${params.toString()}`, { scroll: false })
  }, [sortField, sortOrder])

  const toggleOrder = () => {
    setSortOrder(prev => prev === 'asc' ? 'desc' : 'asc')
  }

  return (
    <div className="flex items-center gap-2">
      <span className="text-sm text-gray-600">ì •ë ¬:</span>

      <Select value={sortField} onValueChange={setSortField}>
        <SelectTrigger className="w-[140px]">
          <SelectValue />
        </SelectTrigger>
        <SelectContent>
          {SORT_OPTIONS.map(option => (
            <SelectItem key={option.value} value={option.value}>
              {option.label}
            </SelectItem>
          ))}
        </SelectContent>
      </Select>

      <Button
        variant="outline"
        size="icon"
        onClick={toggleOrder}
        title={sortOrder === 'asc' ? 'ì˜¤ë¦„ì°¨ìˆœ' : 'ë‚´ë¦¼ì°¨ìˆœ'}
      >
        {sortOrder === 'asc' ? (
          <ArrowUp className="w-4 h-4" />
        ) : (
          <ArrowDown className="w-4 h-4" />
        )}
      </Button>
    </div>
  )
}
```

---

## ğŸ“ í…ŒìŠ¤íŠ¸ ê³„íš

### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
- [ ] ì •ë ¬ í•„ë“œ ë³€ê²½ í…ŒìŠ¤íŠ¸
- [ ] ì •ë ¬ ë°©í–¥ í† ê¸€ í…ŒìŠ¤íŠ¸
- [ ] URL ì—…ë°ì´íŠ¸ í…ŒìŠ¤íŠ¸

### í†µí•© í…ŒìŠ¤íŠ¸
- [ ] ì •ë ¬ ë³€ê²½ ì‹œ ëª©ë¡ ê°±ì‹  í…ŒìŠ¤íŠ¸
- [ ] ì´ˆê¸° URL íŒŒë¼ë¯¸í„° ì½ê¸° í…ŒìŠ¤íŠ¸

---

## ğŸ”’ ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

- ì •ë ¬ í•„ë“œ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ê²€ì¦
- SQL Injection ë°©ì§€ (ë°±ì—”ë“œ)

---

## ğŸ“Œ ì°¸ê³ ì‚¬í•­

**ì‘ì—… ì™„ë£Œ ì¼ì‹œ**: ëŒ€ê¸°ì¤‘
**í…ŒìŠ¤íŠ¸/ê²€í†  ê²°ê³¼**: ëŒ€ê¸°
**ìë™í™” ë°©ì‹**: AI-only
**ë¸”ë¡œì»¤**: ì—†ìŒ
**ë¹„ê³ **: -

---

**ì‘ì„± ë°©ë²•ë¡ **: 15DGC-AODM v3.0
**AI-Only ì›ì¹™ ì¤€ìˆ˜**: âœ…
