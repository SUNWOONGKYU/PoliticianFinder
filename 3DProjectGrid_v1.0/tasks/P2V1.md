# P2V1 - Vercel ë°°í¬

**Phase**: Phase 2 - ì •ì¹˜ì¸ ëª©ë¡/ìƒì„¸
**ì˜ì—­**: DevOps
**ë‹´ë‹¹ AI**: devops-troubleshooter
**ìƒíƒœ**: ëŒ€ê¸°
**ì§„ë„**: 0%

---

## ğŸ“‹ ì‘ì—… ê°œìš”

Next.js ì• í”Œë¦¬ì¼€ì´ì…˜ì„ Vercelì— ë°°í¬í•©ë‹ˆë‹¤. ìŠ¤í…Œì´ì§• ë° í”„ë¡œë•ì…˜ í™˜ê²½ì„ êµ¬ì„±í•˜ê³ , í™˜ê²½ë³€ìˆ˜ë¥¼ ì„¤ì •í•˜ë©°, ë„ë©”ì¸ì„ ì—°ê²°í•©ë‹ˆë‹¤.

---

## ğŸ¯ ì‘ì—… ëª©í‘œ

- [ ] Vercel í”„ë¡œì íŠ¸ ìƒì„±
- [ ] GitHub ì—°ë™
- [ ] í™˜ê²½ë³€ìˆ˜ ì„¤ì •
- [ ] ìë™ ë°°í¬ ì„¤ì •
- [ ] í”„ë¦¬ë·° ë°°í¬ ì„¤ì •
- [ ] ë„ë©”ì¸ ì—°ê²° (ì„ íƒ)
- [ ] ì„±ëŠ¥ ìµœì í™” ì„¤ì •

---

## ğŸ“ ê¸°ìˆ  ì‚¬ì–‘

### Platform
- Hosting: Vercel
- Framework: Next.js 14
- Git: GitHub

---

## ğŸ”— ì˜ì¡´ ì‘ì—…

**ì„ í–‰ ì‘ì—…**: P1T5 (í†µí•© í…ŒìŠ¤íŠ¸ ì™„ë£Œ)
**í›„ì† ì‘ì—…**: P2V2 (CI/CD íŒŒì´í”„ë¼ì¸)

---

## âœ… ì™„ë£Œ ê¸°ì¤€

1. Vercel í”„ë¡œì íŠ¸ ìƒì„± ì™„ë£Œ
2. GitHub ì—°ë™ ì™„ë£Œ
3. í™˜ê²½ë³€ìˆ˜ ì„¤ì • ì™„ë£Œ
4. ìë™ ë°°í¬ ë™ì‘ í™•ì¸
5. í”„ë¦¬ë·° URL ìƒì„± í™•ì¸
6. í”„ë¡œë•ì…˜ URL ì ‘ì† ê°€ëŠ¥

---

## ğŸ’» êµ¬í˜„ ìƒì„¸

### 1. Vercel CLI ì„¤ì¹˜

```bash
npm install -g vercel
```

### 2. Vercel í”„ë¡œì íŠ¸ ìƒì„±

**ì›¹ ëŒ€ì‹œë³´ë“œ ë°©ì‹:**

1. https://vercel.com ì ‘ì† ë° ë¡œê·¸ì¸
2. "Add New" > "Project"
3. GitHub ì €ì¥ì†Œ Import
4. í”„ë¡œì íŠ¸ ì„¤ì •:
   - Framework Preset: Next.js
   - Root Directory: `frontend/` (ë˜ëŠ” ë£¨íŠ¸)
   - Build Command: `npm run build`
   - Output Directory: `.next`
   - Install Command: `npm install`

**CLI ë°©ì‹:**

```bash
cd frontend
vercel login
vercel

# í”„ë¡¬í”„íŠ¸ ì‘ë‹µ:
# - Set up and deploy? Y
# - Which scope? [your-account]
# - Link to existing project? N
# - What's your project's name? politician-finder
# - In which directory is your code located? ./
# - Want to modify settings? N
```

### 3. í™˜ê²½ë³€ìˆ˜ ì„¤ì •

**Vercel Dashboard > Settings > Environment Variables:**

```env
# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://[project-id].supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key

# Google OAuth (P2C1)
NEXT_PUBLIC_GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret

# Site URL
NEXT_PUBLIC_SITE_URL=https://politician-finder.vercel.app

# í™˜ê²½ë³„ ì„¤ì •
# Production: í”„ë¡œë•ì…˜ í™˜ê²½
# Preview: PR í”„ë¦¬ë·° í™˜ê²½
# Development: ë¡œì»¬ ê°œë°œ í™˜ê²½
```

**vercel.json (ì„ íƒì‚¬í•­):**

```json
{
  "build": {
    "env": {
      "NEXT_PUBLIC_SUPABASE_URL": "@supabase-url",
      "NEXT_PUBLIC_SUPABASE_ANON_KEY": "@supabase-anon-key"
    }
  },
  "env": {
    "SUPABASE_SERVICE_ROLE_KEY": "@supabase-service-role-key"
  }
}
```

### 4. Git ì—°ë™ ë° ìë™ ë°°í¬

**ìë™ ë°°í¬ ì„¤ì •:**

1. Vercel Dashboard > Settings > Git
2. Production Branch: `main`
3. Enable automatic deployments

**ë°°í¬ íŠ¸ë¦¬ê±°:**

- `main` ë¸Œëœì¹˜ í‘¸ì‹œ â†’ í”„ë¡œë•ì…˜ ë°°í¬
- PR ìƒì„±/ì—…ë°ì´íŠ¸ â†’ í”„ë¦¬ë·° ë°°í¬
- ë‹¤ë¥¸ ë¸Œëœì¹˜ í‘¸ì‹œ â†’ í”„ë¦¬ë·° ë°°í¬ (ì„ íƒ)

### 5. ë°°í¬ ìŠ¤í¬ë¦½íŠ¸

```json
// package.json
{
  "scripts": {
    "deploy": "vercel --prod",
    "deploy:preview": "vercel",
    "deploy:local": "vercel dev"
  }
}
```

### 6. ë°°í¬ í™•ì¸

```bash
# í”„ë¡œë•ì…˜ ë°°í¬
git push origin main

# Vercel CLIë¡œ ë°°í¬ ìƒíƒœ í™•ì¸
vercel ls

# ë¡œê·¸ í™•ì¸
vercel logs [deployment-url]
```

### 7. ë„ë©”ì¸ ì—°ê²° (ì„ íƒ)

**Vercel Dashboard > Settings > Domains:**

1. "Add Domain" í´ë¦­
2. ë„ë©”ì¸ ì…ë ¥ (ì˜ˆ: `politician-finder.com`)
3. DNS ë ˆì½”ë“œ ì„¤ì •:
   ```
   Type: A
   Name: @
   Value: 76.76.21.21

   Type: CNAME
   Name: www
   Value: cname.vercel-dns.com
   ```
4. SSL ì¸ì¦ì„œ ìë™ ë°œê¸‰ (Let's Encrypt)

### 8. ì„±ëŠ¥ ìµœì í™” ì„¤ì •

**next.config.js:**

```javascript
/** @type {import('next').NextConfig} */
const nextConfig = {
  // ì´ë¯¸ì§€ ìµœì í™”
  images: {
    domains: ['[your-supabase-project].supabase.co'],
    formats: ['image/avif', 'image/webp']
  },

  // ì»´íŒŒì¼ ìµœì í™”
  compiler: {
    removeConsole: process.env.NODE_ENV === 'production'
  },

  // í—¤ë” ì„¤ì •
  async headers() {
    return [
      {
        source: '/:path*',
        headers: [
          {
            key: 'X-DNS-Prefetch-Control',
            value: 'on'
          },
          {
            key: 'Strict-Transport-Security',
            value: 'max-age=31536000; includeSubDomains'
          }
        ]
      }
    ]
  }
}

module.exports = nextConfig
```

### 9. í”„ë¦¬ë·° ë°°í¬ í…ŒìŠ¤íŠ¸

```bash
# PR ìƒì„±
git checkout -b feature/test-deployment
git push origin feature/test-deployment

# GitHubì—ì„œ PR ìƒì„±
# â†’ Vercel Botì´ ìë™ìœ¼ë¡œ í”„ë¦¬ë·° URL ì½”ë©˜íŠ¸
```

---

## ğŸ“ ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] Vercel í”„ë¡œì íŠ¸ ìƒì„± ì™„ë£Œ
- [ ] GitHub ì €ì¥ì†Œ ì—°ë™ ì™„ë£Œ
- [ ] í™˜ê²½ë³€ìˆ˜ ëª¨ë‘ ì„¤ì • ì™„ë£Œ
- [ ] í”„ë¡œë•ì…˜ ë°°í¬ ì„±ê³µ
- [ ] í”„ë¡œë•ì…˜ URL ì ‘ì† ê°€ëŠ¥
- [ ] í”„ë¦¬ë·° ë°°í¬ ë™ì‘ í™•ì¸
- [ ] í™˜ê²½ë³€ìˆ˜ ì•”í˜¸í™” í™•ì¸
- [ ] SSL ì¸ì¦ì„œ ë°œê¸‰ í™•ì¸
- [ ] ë¹Œë“œ ì‹œê°„ ìµœì í™” í™•ì¸

---

## ğŸ”’ ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

- í™˜ê²½ë³€ìˆ˜ëŠ” Vercel ëŒ€ì‹œë³´ë“œì—ì„œë§Œ ê´€ë¦¬
- Service Role KeyëŠ” Production í™˜ê²½ì—ë§Œ ì„¤ì •
- .env íŒŒì¼ì€ .gitignoreì— ì¶”ê°€
- í”„ë¦¬ë·° ë°°í¬ëŠ” ë¯¼ê° ì •ë³´ ì œì™¸

---

## ğŸ“Œ ì°¸ê³ ì‚¬í•­

**ì‘ì—… ì™„ë£Œ ì¼ì‹œ**: ëŒ€ê¸°ì¤‘
**í…ŒìŠ¤íŠ¸/ê²€í†  ê²°ê³¼**: ëŒ€ê¸°
**ìë™í™” ë°©ì‹**: AI-only
**ë¸”ë¡œì»¤**: ì—†ìŒ
**ë¹„ê³ **:
- Vercelì€ Next.js ìµœì í™” ìë™ ì ìš©
- í”„ë¦¬ë·° ë°°í¬ëŠ” ë¬´ì œí•œ ì œê³µ
- ë¹Œë“œ ì‹œê°„ì€ ì•½ 2-3ë¶„

---

**ì‘ì„± ë°©ë²•ë¡ **: 15DGC-AODM v3.0
**AI-Only ì›ì¹™ ì¤€ìˆ˜**: âœ…
