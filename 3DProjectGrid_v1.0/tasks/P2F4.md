# P2F4 - 페이지네이션

**Phase**: Phase 2 - 정치인 목록/상세
**영역**: Frontend
**담당 AI**: fullstack-developer
**상태**: 대기
**진도**: 0%

---

## 📋 작업 개요

정치인 목록 페이지에 페이지네이션 컴포넌트를 구현합니다. 대량의 정치인 데이터를 페이지 단위로 나눠 표시하고, 사용자가 페이지 간 이동할 수 있는 UI를 제공합니다.

---

## 🎯 작업 목표

- [ ] Pagination 컴포넌트 생성
- [ ] 페이지 번호 버튼 구현
- [ ] 이전/다음 페이지 버튼
- [ ] 첫 페이지/마지막 페이지 버튼
- [ ] 현재 페이지 하이라이트
- [ ] 페이지 범위 표시 (1-10 of 100)
- [ ] URL 쿼리 파라미터 동기화
- [ ] 반응형 디자인

---

## 📐 기술 사양

### Frontend
- Framework: Next.js 14 (App Router)
- Language: TypeScript
- Styling: Tailwind CSS
- UI Components: shadcn/ui (Button)

### 파일 구조
```
frontend/
  src/
    components/
      ui/
        Pagination.tsx
    hooks/
      usePagination.ts
```

### Pagination Props 인터페이스
```typescript
interface PaginationProps {
  currentPage: number
  totalPages: number
  onPageChange: (page: number) => void
  pageSize?: number
  totalItems?: number
}
```

---

## 🔗 의존 작업

**선행 작업**: P2B6 (페이지네이션 API)
**후속 작업**: P2F7 (정치인 목록 페이지)

---

## ✅ 완료 기준

1. Pagination 컴포넌트 구현
2. 페이지 번호 버튼 (최대 7개 표시)
3. 이전/다음/첫/마지막 페이지 버튼
4. 현재 페이지 강조 표시
5. 페이지 범위 정보 표시
6. URL 쿼리 파라미터 동기화
7. 반응형 (모바일에서는 버튼 개수 축소)
8. TypeScript 타입 안정성 확보

---

## 💻 구현 상세

```typescript
// components/ui/Pagination.tsx
'use client'

import { useRouter, useSearchParams } from 'next/navigation'
import { Button } from '@/components/ui/button'
import { ChevronLeft, ChevronRight, ChevronsLeft, ChevronsRight } from 'lucide-react'

interface PaginationProps {
  currentPage: number
  totalPages: number
  onPageChange: (page: number) => void
  pageSize?: number
  totalItems?: number
}

export default function Pagination({
  currentPage,
  totalPages,
  onPageChange,
  pageSize = 10,
  totalItems = 0
}: PaginationProps) {
  const router = useRouter()
  const searchParams = useSearchParams()

  const getPageNumbers = () => {
    const delta = 2
    const range = []
    const rangeWithDots = []

    for (
      let i = Math.max(2, currentPage - delta);
      i <= Math.min(totalPages - 1, currentPage + delta);
      i++
    ) {
      range.push(i)
    }

    if (currentPage - delta > 2) {
      rangeWithDots.push(1, '...')
    } else {
      rangeWithDots.push(1)
    }

    rangeWithDots.push(...range)

    if (currentPage + delta < totalPages - 1) {
      rangeWithDots.push('...', totalPages)
    } else if (totalPages > 1) {
      rangeWithDots.push(totalPages)
    }

    return rangeWithDots
  }

  const handlePageChange = (page: number) => {
    if (page < 1 || page > totalPages) return

    onPageChange(page)

    // URL 업데이트
    const params = new URLSearchParams(searchParams.toString())
    params.set('page', page.toString())
    router.push(`?${params.toString()}`, { scroll: false })
  }

  const startItem = (currentPage - 1) * pageSize + 1
  const endItem = Math.min(currentPage * pageSize, totalItems)

  return (
    <div className="flex flex-col sm:flex-row items-center justify-between gap-4 mt-8">
      {/* 페이지 정보 */}
      <div className="text-sm text-gray-600">
        {totalItems > 0 && (
          <span>
            {startItem}-{endItem} / 전체 {totalItems}개
          </span>
        )}
      </div>

      {/* 페이지 버튼 */}
      <div className="flex items-center gap-1">
        {/* 첫 페이지 */}
        <Button
          variant="outline"
          size="icon"
          onClick={() => handlePageChange(1)}
          disabled={currentPage === 1}
          className="hidden sm:inline-flex"
        >
          <ChevronsLeft className="w-4 h-4" />
        </Button>

        {/* 이전 페이지 */}
        <Button
          variant="outline"
          size="icon"
          onClick={() => handlePageChange(currentPage - 1)}
          disabled={currentPage === 1}
        >
          <ChevronLeft className="w-4 h-4" />
        </Button>

        {/* 페이지 번호 */}
        <div className="hidden sm:flex gap-1">
          {getPageNumbers().map((pageNum, index) =>
            pageNum === '...' ? (
              <span key={`dots-${index}`} className="px-3 py-2">
                ...
              </span>
            ) : (
              <Button
                key={pageNum}
                variant={currentPage === pageNum ? 'default' : 'outline'}
                size="sm"
                onClick={() => handlePageChange(pageNum as number)}
              >
                {pageNum}
              </Button>
            )
          )}
        </div>

        {/* 모바일: 현재 페이지 표시 */}
        <div className="sm:hidden px-4 py-2 text-sm font-medium">
          {currentPage} / {totalPages}
        </div>

        {/* 다음 페이지 */}
        <Button
          variant="outline"
          size="icon"
          onClick={() => handlePageChange(currentPage + 1)}
          disabled={currentPage === totalPages}
        >
          <ChevronRight className="w-4 h-4" />
        </Button>

        {/* 마지막 페이지 */}
        <Button
          variant="outline"
          size="icon"
          onClick={() => handlePageChange(totalPages)}
          disabled={currentPage === totalPages}
          className="hidden sm:inline-flex"
        >
          <ChevronsRight className="w-4 h-4" />
        </Button>
      </div>
    </div>
  )
}
```

---

## 📝 테스트 계획

### 단위 테스트
- [ ] 페이지 번호 계산 로직 테스트
- [ ] 버튼 활성화/비활성화 테스트
- [ ] URL 업데이트 테스트

### 통합 테스트
- [ ] 페이지 이동 시 목록 갱신 테스트
- [ ] 브라우저 뒤로가기 테스트
- [ ] 반응형 레이아웃 테스트

---

## 🔒 보안 고려사항

- 페이지 번호 범위 검증
- SQL Injection 방지 (백엔드)

---

## 📌 참고사항

**작업 완료 일시**: 대기중
**테스트/검토 결과**: 대기
**자동화 방식**: AI-only
**블로커**: 없음
**비고**: -

---

**작성 방법론**: 15DGC-AODM v3.0
**AI-Only 원칙 준수**: ✅
