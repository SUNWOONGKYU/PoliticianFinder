from typing import Dict


def build_evaluation_prompt(politician_info: Dict[str, str]) -> str:
    """
    정치인 평가를 위한 프롬프트 생성

    Args:
        politician_info: 정치인 기본 정보
            - name: 이름
            - position: 직책
            - party: 소속 정당
            - region: 지역 (선택)

    Returns:
        Claude에게 전송할 프롬프트
    """

    name = politician_info.get('name', '')
    position = politician_info.get('position', '')
    party = politician_info.get('party', '')
    region = politician_info.get('region', '')

    prompt = f"""
당신은 정치인 평가 전문가입니다.

# 평가 대상 정치인
- 이름: {name}
- 직책: {position}
- 소속 정당: {party}
{f'- 지역: {region}' if region else ''}

# 중요: 평가 알고리즘 기반
이 평가는 국내외 정치 평가 연구를 참고하여 개발되었습니다.

핵심 변수:
- 재직자 평가: 경제 성과, 지지율 (가장 중요)
- 청렴성: 부패 의혹 = 낙선 요인
- 전문성: 정책 실행력 = 역량 강화 요인
- 인구통계: 유권자 만족도, 지역 여론

**이 평가 점수는 정치인의 종합 역량을 객관적으로 평가합니다.**

---

# 요청 사항

## 1. 데이터 수집
다음 공개 데이터베이스 및 정보원에서 데이터를 수집하세요:

### 필수 공개 DB
- 국회 의안정보시스템 (https://likms.assembly.go.kr/)
- 중앙선거관리위원회 (https://www.nec.go.kr/)
- 국민권익위원회 (https://www.acrc.go.kr/)
- 대법원 종합법률정보 (https://glaw.scourt.go.kr/)
- 감사원 (https://www.bai.go.kr/)
- 지방자치단체 홈페이지

### 언론 및 미디어
- AI가 공개적으로 접속 가능한 모든 국내외 언론사, 방송사, 뉴스 포털

### SNS 및 온라인 플랫폼
- Facebook, X (Twitter), Instagram, YouTube 등
- AI가 공개적으로 접속 가능한 모든 SNS 및 온라인 플랫폼

### 시민단체 및 평가 기관
- AI가 공개적으로 접속 가능한 모든 시민단체 및 평가 기관

### 기타 온라인 정보원
- Wikipedia, 나무위키 등
- AI가 공개적으로 접속 가능한 모든 웹사이트, 데이터베이스, 정보원

---

## 2. 평가 요청

다음 10개 분야에 대해 평가하세요.
**각 분야별로 최소 10개 이상의 항목**을 당신(AI)이 정하여 평가하세요.

### 1. 청렴성 (Integrity) - 최소 10개 항목 이상
**역량 평가 핵심 지표**: 부패 의혹 = 역량 저해 요인

예시 항목: 부패 신고, 재산 공개 투명성, 정치자금 투명성, 윤리위 징계, 감사원 지적, 법원 판결, 공약 이행률, 언론 청렴도 평가 등
**당신(AI)이 추가 항목을 정하여 최소 10개 이상 평가하세요.**

### 2. 전문성 (Competence) - 최소 10개 항목 이상
**역량 평가 핵심 지표**: 정책 실행력 = 역량 강화 요인

예시 항목: 학력/경력, 법안 발의/통과율, 위원회 전문성, 정책 실행 성공률, 예산 집행 효율성, 전문가 평가 등
**당신(AI)이 추가 항목을 정하여 최소 10개 이상 평가하세요.**

### 3. 소통능력 (Communication) - 최소 10개 항목 이상
**역량 평가 핵심 지표**: 유권자 호감도 = 역량 강화 요인

예시 항목: SNS 활동/응답률, 주민 간담회, 민원 처리, 언론 인터뷰, 공개 토론, 주민 만족도 등
**당신(AI)이 추가 항목을 정하여 최소 10개 이상 평가하세요.**

### 4. 리더십 (Leadership) - 최소 10개 항목 이상
**역량 평가 핵심 지표**: 정치적 영향력 = 역량 강화 요인

예시 항목: 주요 정책 주도, 정당 내 직책, 당선 횟수, 법안 대표발의, 위원회 위원장 경험, 위기 대응 등
**당신(AI)이 추가 항목을 정하여 최소 10개 이상 평가하세요.**

### 5. 책임감 (Accountability) - 최소 10개 항목 이상
**역량 평가 핵심 지표**: 공약 이행 = 신뢰도 요인

예시 항목: 공약 이행률, 사과/해명, 의정 활동 보고, 정책 실패 책임 인정, 유권자 신뢰도 등
**당신(AI)이 추가 항목을 정하여 최소 10개 이상 평가하세요.**

### 6. 투명성 (Transparency) - 최소 10개 항목 이상
**역량 평가 핵심 지표**: 신뢰도 = 역량 강화 요인

예시 항목: 재산 공개, 정치자금 공개, 의정 활동 공개, 정보공개 청구 응답률, 예산 집행 공개 등
**당신(AI)이 추가 항목을 정하여 최소 10개 이상 평가하세요.**

### 7. 대응성 (Responsiveness) - 최소 10개 항목 이상
**역량 평가 핵심 지표**: 민원 처리 = 지지율 요인

예시 항목: 민원 처리 속도/율, SNS 응답 속도, 긴급 사안 대응, 재난 대응, 여론 변화 대응 등
**당신(AI)이 추가 항목을 정하여 최소 10개 이상 평가하세요.**

### 8. 비전 (Vision) - 최소 10개 항목 이상
**역량 평가 핵심 지표**: 미래 가치 = 역량 강화 요인

예시 항목: 장기 정책 비전, 혁신 정책, 정책 창의성, 지역 발전 계획, 정책 일관성 등
**당신(AI)이 추가 항목을 정하여 최소 10개 이상 평가하세요.**

### 9. 공익추구 (Public Interest) - 최소 10개 항목 이상
**역량 평가 핵심 지표**: 사익 추구 = 낙선 요인

예시 항목: 공익 법안 발의, 사익 추구 의혹, 로비 의혹, 시민단체 평가, 약자 보호 정책 등
**당신(AI)이 추가 항목을 정하여 최소 10개 이상 평가하세요.**

### 10. 윤리성 (Ethics) - 최소 10개 항목 이상
**역량 평가 핵심 지표**: 스캔들 = 역량 저해 요인

예시 항목: 윤리위 징계, 성추행 의혹, 폭언/폭행, 위법 행위, 탈세 의혹, 학력 위조, 도덕적 해이 등
**당신(AI)이 추가 항목을 정하여 최소 10개 이상 평가하세요.**

---

**총 최소 100개 항목 이상**

평가 항목의 구체적 내용, 개수, 가중치는 당신(AI)이 결정하세요.
데이터 수집 및 평가를 동시에 수행하세요.

---

## 3. 10개 분야별 점수 산출

위에서 평가한 항목들을 종합하여 각 분야별로 **0-10점**으로 평가하세요.

**중요**: 이 점수는 객관적 데이터 분석을 통해 **정치 역량을 평가**합니다.

1. **청렴성** (Integrity) - 0-10점
2. **전문성** (Competence) - 0-10점
3. **소통능력** (Communication) - 0-10점
4. **리더십** (Leadership) - 0-10점
5. **책임감** (Accountability) - 0-10점
6. **투명성** (Transparency) - 0-10점
7. **대응성** (Responsiveness) - 0-10점
8. **비전** (Vision) - 0-10점
9. **공익추구** (Public Interest) - 0-10점
10. **윤리성** (Ethics) - 0-10점

# 출력 형식 (JSON)

{{
  "data_sources": [
    "국회 의안정보시스템",
    "중앙선거관리위원회",
    "네이버 뉴스",
    "다음 뉴스",
    "정치인 공식 SNS"
  ],

  "raw_data_100": {{
    "본회의_출석률": 95.5,
    "위원회_출석률": 88.3,
    "법안_발의_수": 15,
    "법안_통과율": 20.0,
    ... (100개 항목 전체 - 당신이 선택한 모든 항목)
  }},

  "category_scores": {{
    "청렴성": 8.5,
    "전문성": 9.0,
    "소통능력": 7.8,
    "리더십": 8.2,
    "책임감": 7.5,
    "투명성": 8.0,
    "대응성": 7.2,
    "비전": 8.5,
    "공익추구": 7.8,
    "윤리성": 9.0
  }},

  "rationale": {{
    "청렴성": "재산 공개가 투명하고 부패 의혹이 없음...",
    "전문성": "박사 학위 보유, 관련 분야 20년 경력...",
    ... (10개 분야 평가 근거)
  }},

  "strengths": [
    "전문성이 매우 뛰어남",
    "청렴성이 우수함",
    "비전이 명확함"
  ],

  "weaknesses": [
    "소통능력 개선 필요",
    "대응성 강화 필요"
  ],

  "overall_assessment": "전반적으로 우수한 정치인입니다. 특히 전문성과 청렴성 분야에서 높은 점수를 받았으며..."
}}

위 형식으로 **JSON만** 출력하세요. 다른 설명이나 주석은 포함하지 마세요.
"""

    return prompt.strip()
