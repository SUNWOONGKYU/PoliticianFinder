# P2F7 - ì •ì¹˜ì¸ ëª©ë¡ í˜ì´ì§€

**Phase**: Phase 2 - ì •ì¹˜ì¸ ëª©ë¡/ìƒì„¸
**ì˜ì—­**: Frontend
**ë‹´ë‹¹ AI**: fullstack-developer
**ìƒíƒœ**: ëŒ€ê¸°
**ì§„ë„**: 0%

---

## ğŸ“‹ ì‘ì—… ê°œìš”

ì •ì¹˜ì¸ ëª©ë¡ì„ í‘œì‹œí•˜ëŠ” ë©”ì¸ í˜ì´ì§€ë¥¼ ê°œë°œí•©ë‹ˆë‹¤. ê²€ìƒ‰, í•„í„°ë§, ì •ë ¬, í˜ì´ì§€ë„¤ì´ì…˜ ê¸°ëŠ¥ì„ í†µí•©í•˜ì—¬ ì‚¬ìš©ìê°€ ì›í•˜ëŠ” ì •ì¹˜ì¸ì„ ì‰½ê²Œ ì°¾ì„ ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.

---

## ğŸ¯ ì‘ì—… ëª©í‘œ

- [ ] ì •ì¹˜ì¸ ëª©ë¡ í˜ì´ì§€ ë ˆì´ì•„ì›ƒ
- [ ] SearchFilter ì»´í¬ë„ŒíŠ¸ í†µí•©
- [ ] SortDropdown ì»´í¬ë„ŒíŠ¸ í†µí•©
- [ ] PoliticianCard ê·¸ë¦¬ë“œ í‘œì‹œ
- [ ] Pagination í†µí•©
- [ ] ë¡œë”© ìƒíƒœ ì²˜ë¦¬
- [ ] ë¹ˆ ìƒíƒœ UI
- [ ] SEO ìµœì í™”

---

## ğŸ“ ê¸°ìˆ  ì‚¬ì–‘

### Frontend
- Framework: Next.js 14 (App Router)
- Language: TypeScript
- Styling: Tailwind CSS
- Data Fetching: Server Components + Client State

### íŒŒì¼ êµ¬ì¡°
```
frontend/
  src/
    app/
      politicians/
        page.tsx
```

---

## ğŸ”— ì˜ì¡´ ì‘ì—…

**ì„ í–‰ ì‘ì—…**: P2B1 (ì •ì¹˜ì¸ ëª©ë¡ API Route)
**í›„ì† ì‘ì—…**: P2T1 (ì •ì¹˜ì¸ ëª©ë¡ E2E)

---

## âœ… ì™„ë£Œ ê¸°ì¤€

1. ì •ì¹˜ì¸ ëª©ë¡ í˜ì´ì§€ êµ¬í˜„
2. ê²€ìƒ‰/í•„í„°ë§ UI í†µí•©
3. ì •ë ¬ ê¸°ëŠ¥ í†µí•©
4. í˜ì´ì§€ë„¤ì´ì…˜ í†µí•©
5. ë¡œë”© ìŠ¤ì¼ˆë ˆí†¤ UI
6. ë¹ˆ ìƒíƒœ (ê²°ê³¼ ì—†ìŒ) UI
7. SEO ë©”íƒ€ íƒœê·¸
8. ë°˜ì‘í˜• ë””ìì¸

---

## ğŸ’» êµ¬í˜„ ìƒì„¸

```typescript
// app/politicians/page.tsx
'use client'

import { useState, useEffect } from 'react'
import { useSearchParams } from 'next/navigation'
import { supabase } from '@/lib/supabase'
import SearchFilter from '@/components/politician/SearchFilter'
import SortDropdown from '@/components/politician/SortDropdown'
import PoliticianCard from '@/components/politician/PoliticianCard'
import { PoliticianCardSkeleton } from '@/components/politician/PoliticianCard'
import Pagination from '@/components/ui/Pagination'

export default function PoliticiansPage() {
  const searchParams = useSearchParams()
  const [politicians, setPoliticians] = useState([])
  const [loading, setLoading] = useState(true)
  const [totalCount, setTotalCount] = useState(0)

  const currentPage = Number(searchParams.get('page')) || 1
  const pageSize = 12

  useEffect(() => {
    fetchPoliticians()
  }, [searchParams])

  const fetchPoliticians = async () => {
    setLoading(true)

    const filters = {
      search: searchParams.get('search') || '',
      party: searchParams.get('party')?.split(',').filter(Boolean) || [],
      region: searchParams.get('region')?.split(',').filter(Boolean) || [],
      position: searchParams.get('position')?.split(',').filter(Boolean) || []
    }

    const sort = {
      field: searchParams.get('sort') || 'name',
      order: searchParams.get('order') || 'asc'
    }

    let query = supabase
      .from('politicians')
      .select('*', { count: 'exact' })
      .range((currentPage - 1) * pageSize, currentPage * pageSize - 1)
      .order(sort.field, { ascending: sort.order === 'asc' })

    if (filters.search) {
      query = query.ilike('name', `%${filters.search}%`)
    }

    if (filters.party.length) {
      query = query.in('party', filters.party)
    }

    if (filters.region.length) {
      query = query.in('region', filters.region)
    }

    if (filters.position.length) {
      query = query.in('position', filters.position)
    }

    const { data, error, count } = await query

    if (!error) {
      setPoliticians(data || [])
      setTotalCount(count || 0)
    }

    setLoading(false)
  }

  const totalPages = Math.ceil(totalCount / pageSize)

  return (
    <div className="container mx-auto py-8">
      <h1 className="text-4xl font-bold mb-8">ì •ì¹˜ì¸ ëª©ë¡</h1>

      {/* ê²€ìƒ‰/í•„í„° */}
      <div className="mb-6">
        <SearchFilter onFilterChange={fetchPoliticians} />
      </div>

      {/* ì •ë ¬ + ê²°ê³¼ ìˆ˜ */}
      <div className="flex justify-between items-center mb-6">
        <div className="text-sm text-gray-600">
          ì „ì²´ {totalCount}ëª…
        </div>
        <SortDropdown onSortChange={fetchPoliticians} />
      </div>

      {/* ì •ì¹˜ì¸ ì¹´ë“œ ê·¸ë¦¬ë“œ */}
      {loading ? (
        <div className="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6">
          {Array.from({ length: pageSize }).map((_, i) => (
            <PoliticianCardSkeleton key={i} />
          ))}
        </div>
      ) : politicians.length === 0 ? (
        <div className="text-center py-20">
          <p className="text-2xl text-gray-400 mb-4">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤</p>
          <p className="text-sm text-gray-500">ë‹¤ë¥¸ ê²€ìƒ‰ ì¡°ê±´ì„ ì‹œë„í•´ë³´ì„¸ìš”</p>
        </div>
      ) : (
        <>
          <div className="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6">
            {politicians.map(politician => (
              <PoliticianCard key={politician.id} politician={politician} />
            ))}
          </div>

          {/* í˜ì´ì§€ë„¤ì´ì…˜ */}
          <Pagination
            currentPage={currentPage}
            totalPages={totalPages}
            onPageChange={(page) => {}}
            pageSize={pageSize}
            totalItems={totalCount}
          />
        </>
      )}
    </div>
  )
}
```

---

## ğŸ“ í…ŒìŠ¤íŠ¸ ê³„íš

### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
- [ ] í˜ì´ì§€ ë Œë”ë§ í…ŒìŠ¤íŠ¸
- [ ] í•„í„° ì ìš© í…ŒìŠ¤íŠ¸
- [ ] ì •ë ¬ ì ìš© í…ŒìŠ¤íŠ¸

### í†µí•© í…ŒìŠ¤íŠ¸
- [ ] ì „ì²´ í”Œë¡œìš° E2E í…ŒìŠ¤íŠ¸
- [ ] ê²€ìƒ‰ ê²°ê³¼ í™•ì¸
- [ ] í˜ì´ì§€ë„¤ì´ì…˜ ë™ì‘

---

## ğŸ”’ ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

- XSS ë°©ì§€
- SQL Injection ë°©ì§€ (ë°±ì—”ë“œ)
- RLS ì •ì±… ì¤€ìˆ˜

---

## ğŸ“Œ ì°¸ê³ ì‚¬í•­

**ì‘ì—… ì™„ë£Œ ì¼ì‹œ**: ëŒ€ê¸°ì¤‘
**í…ŒìŠ¤íŠ¸/ê²€í†  ê²°ê³¼**: ëŒ€ê¸°
**ìë™í™” ë°©ì‹**: AI-only
**ë¸”ë¡œì»¤**: ì—†ìŒ
**ë¹„ê³ **: -

---

**ì‘ì„± ë°©ë²•ë¡ **: 15DGC-AODM v3.0
**AI-Only ì›ì¹™ ì¤€ìˆ˜**: âœ…
