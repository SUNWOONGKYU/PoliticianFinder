# 서브 에이전트 작업 템플릿

**프로젝트**: PoliticianFinder
**작성일**: 2025-10-16
**목적**: 메인 에이전트가 서브 에이전트에게 작업 지시 시 사용하는 표준 템플릿

---

## 📋 작업 지시 템플릿

### 기본 구조
```markdown
## 작업 지시: [Task ID] - [작업명]

**우선순위**: [최우선/높음/중간/낮음]
**담당 에이전트**: [에이전트 이름]
**예상 소요 시간**: [시간]
**의존성**: [선행 작업 Task ID]

---

### 배경
[이 작업이 왜 필요한지 설명]

### 목표
[이 작업을 통해 달성할 것]

### 요구사항
1. 기능 요구사항
2. 비기능 요구사항
3. AI-only 원칙 준수

### 제약사항
- ❌ [하지 말아야 할 것]
- ✅ [반드시 해야 할 것]

### 완료 기준 (Definition of Done)
- [ ] 체크리스트 1
- [ ] 체크리스트 2
- [ ] 체크리스트 3

### 결과물
- 생성할 파일 목록
- 수정할 파일 목록

### 보고 형식
[원하는 보고 형식 명시]

---

**작업을 시작해주세요!**
```

---

## 🎯 에이전트별 작업 템플릿

### 1. fullstack-developer 템플릿

```markdown
## 개발 작업: [Task ID] - [기능명]

**에이전트**: fullstack-developer
**우선순위**: [우선순위]

---

### 기능 설명
[개발할 기능에 대한 상세 설명]

### 기술 스택
- Backend: [사용할 기술]
- Frontend: [사용할 기술]
- Database: [관련 테이블]

### API 스펙
**엔드포인트**: `[METHOD] /api/[path]`

**Request**:
```json
{
  "field": "value"
}
```

**Response**:
```json
{
  "data": "value"
}
```

### UI/UX 요구사항
- 레이아웃: [설명]
- 컴포넌트: [사용할 컴포넌트]
- 스타일: [디자인 가이드]

### AI-only 준수 사항
- ✅ 모든 설정은 코드로 관리
- ✅ 환경변수 사용
- ❌ 수동 설정 금지

### 완료 기준
- [ ] API 엔드포인트 구현
- [ ] 에러 핸들링 완료
- [ ] TypeScript 타입 정의
- [ ] 주석 및 문서화
- [ ] 로컬 테스트 성공

### 파일 구조
```
생성 예정:
- src/app/api/[path]/route.ts
- src/app/[page]/page.tsx
- src/components/[component].tsx

수정 예정:
- [기존 파일]
```

### 보고 형식
```
=== 개발 완료 보고 ===

## 구현 내용
- [구현한 기능 목록]

## 생성/수정 파일
- [파일 목록]

## 테스트 결과
- [로컬 테스트 결과]

## 주의사항
- [전달 사항]
```

**개발을 시작해주세요!**
```

---

### 2. devops-troubleshooter 템플릿

```markdown
## 테스트 작업: [Task ID] - [테스트명]

**에이전트**: devops-troubleshooter
**우선순위**: [우선순위]

---

### 테스트 대상
[테스트할 기능/시스템]

### 테스트 범위
- 단위 테스트: [범위]
- 통합 테스트: [범위]
- E2E 테스트: [범위]

### 테스트 시나리오
1. **시나리오 1**: [설명]
   - 전제 조건: [조건]
   - 실행 단계: [단계]
   - 예상 결과: [결과]

2. **시나리오 2**: [설명]
   - 전제 조건: [조건]
   - 실행 단계: [단계]
   - 예상 결과: [결과]

### 테스트 환경
- URL: http://localhost:3000
- Database: [연결 정보]
- 테스트 데이터: [데이터]

### 테스트 도구
- Puppeteer: 브라우저 자동화
- Jest: 단위 테스트
- API 테스트: HTTP 클라이언트

### 완료 기준
- [ ] 모든 시나리오 실행
- [ ] 스크린샷 캡처
- [ ] 테스트 리포트 생성
- [ ] 발견된 버그 문서화

### 보고 형식
```
=== 테스트 결과 보고 ===

## 통과율
- 전체: X/Y (Z%)

## 시나리오별 결과
1. [시나리오 1]: [통과/실패]
2. [시나리오 2]: [통과/실패]

## 발견된 문제
1. [문제 설명]
   - 심각도: [Critical/High/Medium/Low]
   - 재현 방법: [단계]

## 권장 사항
- [개선 제안]

## 테스트 아티팩트
- [스크린샷 경로]
- [리포트 파일 경로]
```

**테스트를 시작해주세요!**
```

---

### 3. security-auditor 템플릿

```markdown
## 보안 검토: [Task ID] - [검토 대상]

**에이전트**: security-auditor
**우선순위**: [우선순위]

---

### 검토 대상
[보안 검토할 시스템/기능]

### 보안 체크리스트

#### 인증/인가
- [ ] JWT 토큰 안전성
- [ ] 세션 관리
- [ ] 비밀번호 해싱
- [ ] CORS 설정

#### 데이터 보안
- [ ] SQL Injection 방어
- [ ] XSS 방어
- [ ] CSRF 토큰
- [ ] 민감 데이터 암호화

#### API 보안
- [ ] Rate Limiting
- [ ] Input Validation
- [ ] Error Handling (정보 노출 방지)

#### RLS 정책
- [ ] Row Level Security 적용
- [ ] 권한별 접근 제어
- [ ] 데이터 격리

### OWASP Top 10 검증
- [ ] A01: Broken Access Control
- [ ] A02: Cryptographic Failures
- [ ] A03: Injection
- [ ] [기타 항목]

### 완료 기준
- [ ] 모든 체크리스트 검증
- [ ] 취약점 발견 시 문서화
- [ ] 수정 방안 제시

### 보고 형식
```
=== 보안 검토 보고 ===

## 보안 점수
- 전체: [점수/100]

## 발견된 취약점
1. [취약점명]
   - 심각도: [Critical/High/Medium/Low]
   - 위치: [파일:라인]
   - 설명: [상세]
   - 수정 방안: [제안]

## 준수 현황
- OWASP Top 10: [통과/실패]
- RLS 정책: [적용 완료]

## 권장 사항
- [보안 개선 제안]
```

**보안 검토를 시작해주세요!**
```

---

### 4. code-reviewer 템플릿

```markdown
## 코드 리뷰: [Task ID] - [리뷰 대상]

**에이전트**: code-reviewer
**우선순위**: [우선순위]

---

### 리뷰 범위
[리뷰할 파일/모듈]

### 리뷰 기준

#### 코드 품질
- [ ] 가독성
- [ ] 네이밍 컨벤션
- [ ] 주석 및 문서화
- [ ] 복잡도 (Cyclomatic Complexity)

#### 베스트 프랙티스
- [ ] DRY (Don't Repeat Yourself)
- [ ] SOLID 원칙
- [ ] 에러 핸들링
- [ ] 타입 안정성

#### 성능
- [ ] 불필요한 렌더링
- [ ] 메모리 누수
- [ ] 최적화 기회

#### 유지보수성
- [ ] 모듈화
- [ ] 재사용성
- [ ] 테스트 가능성

### 완료 기준
- [ ] 모든 파일 리뷰 완료
- [ ] 개선 사항 문서화
- [ ] 우선순위 분류

### 보고 형식
```
=== 코드 리뷰 보고 ===

## 전체 평가
- 코드 품질: [A/B/C/D/F]
- 유지보수성: [상/중/하]

## 파일별 리뷰
### [파일명]
**평가**: [Good/Need Improvement/Critical]

**발견 사항**:
1. [이슈 설명]
   - 위치: [라인]
   - 제안: [개선 방법]

## 우선순위별 개선 사항
### Critical (즉시 수정 필요)
- [항목]

### High (빠른 시일 내 수정)
- [항목]

### Medium (개선 권장)
- [항목]

### Low (선택적 개선)
- [항목]

## 모범 사례
- [잘한 부분]
```

**코드 리뷰를 시작해주세요!**
```

---

### 5. Explore 템플릿

```markdown
## 코드베이스 탐색: [Task ID] - [탐색 목적]

**에이전트**: Explore
**우선순위**: [우선순위]
**탐색 수준**: [quick/medium/very thorough]

---

### 탐색 목적
[무엇을 찾으려 하는가]

### 탐색 범위
- 디렉토리: [경로]
- 파일 패턴: [*.tsx, *.ts, etc.]
- 키워드: [검색어]

### 탐색 질문
1. [질문 1]
2. [질문 2]
3. [질문 3]

### 완료 기준
- [ ] 관련 파일 모두 찾기
- [ ] 구조 파악
- [ ] 의존성 분석

### 보고 형식
```
=== 탐색 결과 보고 ===

## 발견한 파일
1. [파일 경로] - [설명]
2. [파일 경로] - [설명]

## 코드베이스 구조
- [구조 설명]

## 의존성 관계
- [의존성 다이어그램 또는 설명]

## 답변
1. [질문 1]: [답변]
2. [질문 2]: [답변]
```

**탐색을 시작해주세요!**
```

---

## 🔄 작업 흐름

### 1. 메인 에이전트 → 서브 에이전트
```
메인이 위 템플릿을 채워서 Task 도구로 전달
```

### 2. 서브 에이전트 작업
```
서브 에이전트가 지시된 작업 수행
```

### 3. 서브 에이전트 → 메인 에이전트
```
서브 에이전트가 보고 형식에 맞춰 결과 반환
```

### 4. 메인 에이전트 검토
```
메인이 결과 검토 및 프로젝트 그리드 업데이트
```

---

## 📊 템플릿 사용 예시

### Phase 2 정치인 목록 개발

#### 메인 → fullstack-developer
```markdown
## 개발 작업: P2A1 - 정치인 목록 API

**에이전트**: fullstack-developer
**우선순위**: 최우선

### 기능 설명
politicians 테이블에서 정치인 목록을 조회하는 API Route 구현

### API 스펙
**엔드포인트**: `GET /api/politicians`

**Query Parameters**:
- page: number (기본값: 1)
- limit: number (기본값: 10)
- party: string (선택)
- region: string (선택)

**Response**:
```json
{
  "data": [
    {
      "id": 1,
      "name": "홍길동",
      "party": "테스트당",
      "region": "서울",
      "position": "국회의원",
      "avg_rating": 4.5
    }
  ],
  "pagination": {
    "page": 1,
    "limit": 10,
    "total": 100
  }
}
```

### AI-only 준수
- ✅ API Route 사용
- ✅ 환경변수로 DB 연결
- ❌ 수동 SQL 실행 금지

### 완료 기준
- [ ] /api/politicians/route.ts 생성
- [ ] 페이지네이션 구현
- [ ] 필터링 (party, region) 구현
- [ ] 에러 핸들링
- [ ] TypeScript 타입 정의

**개발을 시작해주세요!**
```

---

## ✅ 체크리스트

메인 에이전트가 서브 에이전트에게 작업 지시 전 확인:

- [ ] 작업 ID 명확한가?
- [ ] 우선순위 설정했는가?
- [ ] 완료 기준이 명확한가?
- [ ] AI-only 원칙 명시했는가?
- [ ] 보고 형식 지정했는가?
- [ ] 의존성 확인했는가?

---

**이 템플릿을 사용하면 메인 에이전트와 서브 에이전트 간 커뮤니케이션이 표준화됩니다.**
